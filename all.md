## A1. ä¸¤æ•°ä¹‹å’Œ

éš¾åº¦ `ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ **ä¸¤ä¸ª** æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚

> **ç¤ºä¾‹:**

```
ç»™å®š nums = [2, 7, 11, 15], target = 9

å› ä¸º nums[0] + nums[1] = 2 + 7 = 9
æ‰€ä»¥è¿”å› [0, 1]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/two-sum/>

#### æ€è·¯  

ã€€ã€€ç”¨ä¸€ä¸ªå­—å…¸è®°å½•æ•°å€¼ä¸ä¸‹æ ‡çš„æ˜ å°„ã€‚éå†`nums`ï¼Œå¦‚æœå­—å…¸ä¸­å­˜åœ¨`target - num`è¿™ä¸ªæ•°ï¼ˆä¸”ä¸‹æ ‡ä¸`num`ä¸‹æ ‡ä¸åŒï¼‰ï¼Œåˆ™è¿”å›è¿™ä¸¤ä¸ªæ•°çš„ä¸‹æ ‡ã€‚  

#### ä»£ç   
```python
class Solution:
    def twoSum(self, nums: List[int], target: int) -> List[int]:
        s = {}
        for i, num in enumerate(nums):
            if target - num in s:
                return [i, s[target - num]]

            s[num] = i
         
```

## A3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/>

#### æ€è·¯  

ã€€ã€€ä½¿ç”¨åŒæŒ‡é’ˆæ»‘åŠ¨çª—å£çš„æ–¹æ³•ã€‚`j`å‘å‰éå†ï¼Œ`i`æŒ‡å‘é‡å¤çš„ä½ç½®ï¼ˆ`i`åªä¼šå‘å³ç§»åŠ¨ï¼‰ï¼Œåœ¨`j`éå†çš„åŒæ—¶ç”¨ä¸€ä¸ªå­—å…¸è®°ä¸‹`æ¯ä¸ªå­—æ¯æœ€åå‡ºç°çš„ä¸‹æ ‡`ï¼Œ`j - i + 1`çš„æœ€å¤§å€¼å³ä¸ºç»“æœã€‚  

#### ä»£ç   

```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        count = defaultdict(int)
        ans = 0
        left = 0
        for right, char in enumerate(s):
            count[char] += 1
            while count[char] > 1:
                count[s[left]] -= 1
                left += 1 

            ans = max(ans, right-left+1)

        return ans
         
```



## A4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°

éš¾åº¦ `å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå¤§å°ä¸º m å’Œ n çš„æœ‰åºæ•°ç»„ `nums1` å’Œ `nums2`ã€‚

è¯·ä½ æ‰¾å‡ºè¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œå¹¶ä¸”è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log(m + n))ã€‚

ä½ å¯ä»¥å‡è®¾ `nums1` å’Œ `nums2` ä¸ä¼šåŒæ—¶ä¸ºç©ºã€‚

> **ç¤ºä¾‹ 1:**

```
nums1 = [1, 3]
nums2 = [2]

åˆ™ä¸­ä½æ•°æ˜¯ 2.0
```

> **ç¤ºä¾‹ 2:**

```
nums1 = [1, 2]
nums2 = [3, 4]

åˆ™ä¸­ä½æ•°æ˜¯ (2 + 3)/2 = 2.5
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/median-of-two-sorted-arrays/>

#### **æ€è·¯**

ã€€ã€€â‘  æ„å»ºä¸€ä¸ªæ–°å‡½æ•°`findk`ï¼Œç”¨äºæŸ¥æ‰¾`nums1`å’Œ`nums2`ä¸­ç¬¬`k`å°çš„æ•°ã€‚    

ã€€ã€€â‘¡ æ— è®ºæ•°ç»„é•¿åº¦ä¸ºå¥‡æ•°è¿˜æ˜¯å¶æ•°ï¼Œä¸­ä½æ•°éƒ½å¯ä»¥ç”¨ç¬¬`(n + 1) // 2`å°çš„æ•°å’Œç¬¬`(n + 2) // 2`å°çš„æ•°çš„å‡å€¼æ¥è¡¨ç¤ºã€‚  

ã€€ã€€â‘¢ findkä½¿ç”¨äºŒåˆ†æ³•æŸ¥è¯¢ï¼Œæ¥è¾¾åˆ°`O(log(m + n))`çš„æ—¶é—´å¤æ‚åº¦ã€‚  

#### **ä»£ç **

```python
class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
        def findk(nums1, nums2, k):
            if not nums1: return nums2[k-1]
            if not nums2: return nums1[k-1]
            if k == 1: return min(nums1[0], nums2[0])

            mid1 = nums1[k // 2 - 1] if k // 2 - 1 < len(nums1) else float('inf')
            mid2 = nums2[k // 2 - 1] if k // 2 - 1 < len(nums2) else float('inf')

            if mid1 < mid2:
                return findk(nums1[k // 2:], nums2, k - k // 2)
            else:
                return findk(nums1, nums2[k // 2:], k - k // 2) 

        n = len(nums1) + len(nums2)
        c1 = (n + 1) // 2
        c2 = (n + 2) // 2
        # print(c1, c2)
        return (findk(nums1, nums2, c1) + findk(nums1, nums2, c2)) / 2

        
```


## A5. æœ€é•¿å›æ–‡å­ä¸²

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œæ‰¾åˆ° `s` ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ `s` çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: "babad"
è¾“å‡º: "bab"
æ³¨æ„: "aba" ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: "cbbd"
è¾“å‡º: "bb"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-palindromic-substring/>

#### æ€è·¯  

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**ä¸­å¿ƒæ‰©å±•æ³•ã€‚

ã€€ã€€éå†ä¸€éå­—ç¬¦ä¸²`s`ï¼Œä»¥å­—ç¬¦`s[i]`åˆ†åˆ«ä½œä¸ºå¥‡æ•°å’Œå¶æ•°ä¸­å¿ƒå‘ä¸¤è¾¹æ‰©å±•ã€‚

ã€€ã€€å¦‚æœæ‰©å±•çš„å›æ–‡ä¸²å¤§äºä¹‹å‰æœ€é•¿çš„é•¿åº¦`maximum`ï¼Œåˆ™æ›´æ–°`maximum`å’Œç»“æœå­—ç¬¦ä¸²`ans`ã€‚ã€€

ã€€ã€€æ—¶é—´å¤æ‚åº¦`O(n^2)`ã€‚

ã€€ã€€**æ–¹æ³•äºŒï¼š**é©¬æ‹‰è½¦ç®—æ³•ã€‚æ—¶é—´å¤æ‚åº¦`O(n)`ã€‚

#### ä»£ç   

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(ä¸­å¿ƒæ‰©å±•æ³•)

```python
class Solution:
    def longestPalindrome(self, s: str) -> str:
        ans = ''
        n = len(s)
        for c in range(n):  # å¥‡ä¸­å¿ƒ
            i = 0
            # [c-i: c+i] ä¸èƒ½è¶…è¿‡æ•´ä¸ªå­—ç¬¦ä¸²çš„èŒƒå›´
            while c - i >= 0 and c + i < n:
                if s[c - i] == s[c + i]:
                    if 2 * i + 1 > len(ans):
                        ans = s[c-i: c+i+1]
                    i += 1
                else:
                    break

        for c in range(n-1):  # å¶ä¸­å¿ƒ
            i = 0
            while c - i >= 0 and c + i < n - 1:
                if s[c - i] == s[c + i + 1]:
                    if 2 * i + 2 > len(ans):
                        ans = s[c-i: c+i+2]
                    i += 1
                else:
                    break

        return ans
```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(é©¬æ‹‰è½¦ç®—æ³•)

```python
class Solution:
    def longestPalindrome(self, s: str) -> str:
        s = '#' + '#'.join(s) + '#' # å­—ç¬¦ä¸²å¤„ç†ï¼Œç”¨ç‰¹æ®Šå­—ç¬¦éš”ç¦»å­—ç¬¦ä¸²ï¼Œæ–¹ä¾¿å¤„ç†å¶æ•°å­ä¸²
        lens = len(s)
        p = [0] * lens            # p[i]è¡¨ç¤ºiä½œä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²çš„åŠå¾„ï¼Œåˆå§‹åŒ–p[i]
        mx = 0                    # ä¹‹å‰æœ€é•¿å›æ–‡å­ä¸²çš„å³è¾¹ç•Œ
        id = 0                    # ä¹‹å‰æœ€é•¿å›æ–‡å­ä¸²çš„ä¸­å¿ƒä½ç½®
        for i in range(lens):     # éå†å­—ç¬¦ä¸²
            if mx > i:
                p[i] = min(mx-i, p[int(2*id-i)]) #ç”±ç†è®ºåˆ†æå¾—åˆ°
            else :                # mx <= i
                p[i] = 1
            while i-p[i] >= 0 and i+p[i] < lens and s[i-p[i]] == s[i+p[i]]:  # æ»¡è¶³å›æ–‡æ¡ä»¶çš„æƒ…å†µä¸‹
                p[i] += 1  # ä¸¤è¾¹æ‰©å±•
            if(i+p[i]) > mx:  # æ–°å­ä¸²å³è¾¹ç•Œè¶…è¿‡äº†ä¹‹å‰æœ€é•¿å­ä¸²å³è¾¹ç•Œ
                mx, id = i+p[i], i # ç§»åŠ¨ä¹‹å‰æœ€é•¿å›æ–‡å­ä¸²çš„ä¸­å¿ƒä½ç½®å’Œè¾¹ç•Œï¼Œç»§ç»­å‘å³åŒ¹é…
        i_res = p.index(max(p)) # è·å–æœ€ç»ˆæœ€é•¿å­ä¸²ä¸­å¿ƒä½ç½®
        s_res = s[i_res-(p[i_res]-1):i_res+p[i_res]] #è·å–æœ€ç»ˆæœ€é•¿å­ä¸²ï¼Œå¸¦"#"
        return s_res.replace('#', '')  # é•¿åº¦ä¸ºï¼šmax(p)-1
```

## A6. Z å­—å½¢å˜æ¢

#### é¢˜ç›®æè¿°

å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²æ ¹æ®ç»™å®šçš„è¡Œæ•°ï¼Œä»¥ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æ’åˆ—ã€‚

æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º `"LEETCODEISHIRING"` è¡Œæ•°ä¸º 3 æ—¶ï¼Œæ’åˆ—å¦‚ä¸‹ï¼š

```
L   C   I   R
E T O E S I I G
E   D   H   N
```

ä¹‹åï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»å·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š`"LCIRETOESIIGEDHN"`ã€‚

è¯·ä½ å®ç°è¿™ä¸ªå°†å­—ç¬¦ä¸²è¿›è¡ŒæŒ‡å®šè¡Œæ•°å˜æ¢çš„å‡½æ•°ï¼š

```
string convert(string s, int numRows);
```

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "LEETCODEISHIRING", numRows = 3
è¾“å‡º: "LCIRETOESIIGEDHN"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "LEETCODEISHIRING", numRows = 4
è¾“å‡º: "LDREOEIIECIHNTSG"
è§£é‡Š:

L     D     R
E   O E   I I
E C   I H   N
T     S     G
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/zigzag-conversion/>

#### **æ€è·¯:**

ã€€ã€€æ‰¾è§„å¾‹æ³•ï¼Œç»è§‚å¯Ÿå‘ç°ï¼Œé™¤äº†ç¬¬ä¸€è¡Œå’Œæœ€åä¸€è¡Œå¤–ï¼Œæ¯ä¸€è¡Œçš„ä¸‹ä¸€ä¸ªæ•°ï¼Œè¦ä¹ˆå°±æ˜¯ä»åº•ä¸‹æ‹(ç»è¿‡`2*(numRows-1-i)`ä¸ªå­—æ¯)ï¼Œè¦ä¹ˆå°±æ˜¯ä»ä¸Šé¢æ‹(ç»è¿‡`2*i`ä¸ªå­—æ¯), ç”¨flagä½œä¸ºæ ‡è®°ï¼Œæ˜¯å¦ä»åº•ä¸‹æ‹ã€‚

#### **ä»£ç :**

```c
/*
    æ‰§è¡Œç”¨æ—¶ : 0 ms, åœ¨æ‰€æœ‰ cpp æäº¤ä¸­å‡»è´¥äº† 100% çš„ç”¨æˆ·
    å†…å­˜æ¶ˆè€— : 10.2 MB, åœ¨æ‰€æœ‰ cpp æäº¤ä¸­å‡»è´¥äº† 91.73% çš„ç”¨æˆ·
*/

string convert(string s, int numRows) {
    if (numRows==1) return s;
    string ans = "";
    for(int i =0;i<numRows;i++){
        int j=i;
        bool flag=true;  // flagä¸ºtrueè¡¨ç¤ºä»åº•ä¸‹æ‹ï¼Œå¦åˆ™ä»ä¸Šé¢æ‹
        if (i==numRows-1)flag = false;  // ç¬¬ä¸€è¡Œæ€»æ˜¯true æœ€åä¸€è¡Œæ€»æ˜¯false 
        while(j<s.size()){
            ans += s[j];
            if (flag){
                j += 2*(numRows-1-i);
                if (i!=0) flag=false; // ç¬¬ä¸€è¡Œæ€»æ˜¯true
            }else{
                j+= 2 * i;
                if (i!=numRows-1) flag = true; // æœ€åä¸€è¡Œæ€»æ˜¯false 
            }
        }
    }

    return ans;
}
```

## A8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

è¯·ä½ æ¥å®ç°ä¸€ä¸ª `atoi` å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°ã€‚

é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚

å½“æˆ‘ä»¬å¯»æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸ä¹‹åé¢å°½å¯èƒ½å¤šçš„è¿ç»­æ•°å­—ç»„åˆèµ·æ¥ï¼Œä½œä¸ºè¯¥æ•´æ•°çš„æ­£è´Ÿå·ï¼›å‡å¦‚ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æ¥å°†å…¶ä¸ä¹‹åè¿ç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆæ•´æ•°ã€‚

è¯¥å­—ç¬¦ä¸²é™¤äº†æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹äºå‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚

æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ã€‚

åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å› 0ã€‚

**è¯´æ˜ï¼š**

å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’231,  231 âˆ’ 1]ã€‚å¦‚æœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œè¯·è¿”å›  INT_MAX (231 âˆ’ 1) æˆ– INT_MIN (âˆ’231) ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "42"
è¾“å‡º: 42
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "   -42"
è¾“å‡º: -42
è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸º '-', å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚
     æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸åé¢æ‰€æœ‰è¿ç»­å‡ºç°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åå¾—åˆ° -42 ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: "4193 with words"
è¾“å‡º: 4193
è§£é‡Š: è½¬æ¢æˆªæ­¢äºæ•°å­— '3' ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: "words and 987"
è¾“å‡º: 0
è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯ 'w', ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚
     å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚
```

> **ç¤ºä¾‹ 5:**

```
è¾“å…¥: "-91283472332"
è¾“å‡º: -2147483648
è§£é‡Š: æ•°å­— "-91283472332" è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚ 
     å› æ­¤è¿”å› INT_MIN (âˆ’231) ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/string-to-integer-atoi/>

#### æ€è·¯  

ã€€ã€€è¿™é¢˜å»ºè®®ç”¨C++åšï¼ŒPythonç”±äºæ²¡æœ‰æ•´æ•°èŒƒå›´åªèƒ½é¢å‘æµ‹è¯•ç”¨ä¾‹ç¼–ç¨‹ã€‚  

#### ä»£ç   

```python
class Solution:
    def myAtoi(self, str: str) -> int:
        str = str.lstrip(' ')  # å»æ‰å¼€å¤´ç©ºæ ¼
        factor = 1  # æ­£æ•°
        if str.startswith('-'):
            str = str[1:]
            factor = -1
        elif str.startswith('+'):
            str = str[1:]

        for i, s in enumerate(str):
            if not s.isdigit():  # ä¸æ˜¯æ•°å­—å°±é€€å‡º
                str = str[:i]
                break
        
        try:
            num = factor * int(str)

            if num < -2147483648:
                return -2147483648
            elif num > 2147483647:
                return 2147483647
            return num
        except:
            return 0
```

## A10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ `p`ï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ `'.'` å’Œ `'*'` çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚

```
'.' åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦
'*' åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ 
```

æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– **æ•´ä¸ª** å­—ç¬¦ä¸² `s`çš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚

**è¯´æ˜:**

- `s` å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ã€‚
- `p` å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ `.` å’Œ `*`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
s = "aa"
p = "a"
è¾“å‡º: false
è§£é‡Š: "a" æ— æ³•åŒ¹é… "aa" æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
s = "aa"
p = "a*"
è¾“å‡º: true
è§£é‡Š: å› ä¸º '*' ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ 'a'ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² "aa" å¯è¢«è§†ä¸º 'a' é‡å¤äº†ä¸€æ¬¡ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥:
s = "ab"
p = ".*"
è¾“å‡º: true
è§£é‡Š: ".*" è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ'*'ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ'.'ï¼‰ã€‚
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥:
s = "aab"
p = "c*a*b"
è¾“å‡º: true
è§£é‡Š: å› ä¸º '*' è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªï¼Œè¿™é‡Œ 'c' ä¸º 0 ä¸ª, 'a' è¢«é‡å¤ä¸€æ¬¡ã€‚å› æ­¤å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² "aab"ã€‚
```

> **ç¤ºä¾‹ 5:**

```
è¾“å…¥:
s = "mississippi"
p = "mis*is*p*."
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/regular-expression-matching/>

#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚ç”¨ï¼Œ`dp[i][j]`è®°å½•`s[:i]`èƒ½å¦åŒ¹é…`p[:j]`ã€‚  

ã€€ã€€å…ˆå¤„ç†`s`ä¸ºç©ºçš„æƒ…å†µã€‚ç©ºå­—ç¬¦ä¸²èƒ½åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œå¦å¤–åªæœ‰å½“`p[:j]`ä¸º`"a*b*c*.*d*"`è¿™æ ·å…¨æ˜¯`"?*"`çš„æ—¶å€™æ‰èƒ½åŒ¹é…ç©ºå­—ç¬¦ä¸²ã€‚  

ã€€ã€€`".*"`åŒ¹é…`0~n`ä¸ªä»»æ„å­—ç¬¦ï¼Œè½¬ç§»æ–¹ç¨‹`dp[i][j] = dp[i-1][j] or dp[i][j-1]`ï¼›   

ã€€ã€€ç±»ä¼¼åœ°ï¼Œ`"a*"`åŒ¹é…`0~n`ä¸ª`a`ï¼Œè½¬ç§»æ–¹ç¨‹`dp[i][j] = (dp[i-1][j] and s[i-1] == p[j-1]) or dp[i][j-1]`ï¼›  

ã€€ã€€æ™®é€š`"."`çš„è½¬ç§»æ–¹ç¨‹`dp[i][j] = dp[i-1][j-1]`ï¼›

ã€€ã€€æ™®é€šå­—æ¯çš„è½¬ç§»æ–¹ç¨‹`dp[i][j] = dp[i-1][j-1] and s[i-1] == p[j-1]`ã€‚  

ã€€ã€€æ³¨æ„`".*"`å’Œ`"a*"`å äº†ä¸¤ä¸ªå­—ç¬¦çš„ä½ç½®ï¼Œæ‰€ä»¥ä»£ç ä¸­ç”¨`dp[i][j+1]`ã€‚  

#### ä»£ç   

```python
class Solution:
    def isMatch(self, s: str, p: str) -> bool:
        np = len(p)
        ns = len(s)
        dp = [[False for _ in range(np+1)] for _ in range(ns+1)]
        # dp[i][j] è¡¨ç¤ºs[:i]åŒ¹é…p[:j]
        dp[0][0] = True

        for j in range(1, np+1):
            if p[j-1] == '*':  # s='' åŒ¹é… p='a*b*c*'
                dp[0][j] = dp[0][j-2]
            
        for i in range(1, ns+1):
            for j in range(1, np+1):
                if p[j-1] == '.':  # ab a.
                    dp[i][j] = dp[i-1][j-1] 
                elif p[j-1] == '*':
                    if p[j-2] == '.':  # .*     abcasdad a.*
                        dp[i][j] = dp[i-1][j] or dp[i][j-2]
                    else:  # a*  baaaaaaa ba*
                        dp[i][j] = (s[i-1]==p[j-2] and dp[i-1][j]) or dp[i][j-2]
                else:  # å­—æ¯
                    dp[i][j] = dp[i-1][j-1] and  s[i-1] == p[j-1]
        # print(dp)
        return dp[-1][-1]
```

## A11. ç››æœ€å¤šæ°´çš„å®¹å™¨

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½  *n* ä¸ªéè´Ÿæ•´æ•° *a*1ï¼Œ*a*2ï¼Œ...ï¼Œ*a*nï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ (*i*, *ai*) ã€‚åœ¨åæ ‡å†…ç”» *n* æ¡å‚ç›´çº¿ï¼Œå‚ç›´çº¿ *i* çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º (*i*, *ai*) å’Œ (*i*, 0)ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ *x* è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚

**è¯´æ˜ï¼š**ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ï¼Œä¸” *n* çš„å€¼è‡³å°‘ä¸º 2ã€‚

 

![img](_img/11.jpg)

å›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚

 

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
è¾“å‡ºï¼š49
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/container-with-most-water/>

#### æ€è·¯  

ã€€ã€€åŒæŒ‡é’ˆï¼Œåˆå§‹æ—¶è®¾å¤´æŒ‡é’ˆå’Œå°¾æŒ‡é’ˆåˆ†åˆ«ä¸º`a`å’Œ`b`ã€‚æˆ‘ä»¬èƒ½å¤Ÿå‘ç°ä¸ç®¡æ˜¯å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€ä½ï¼Œè¿˜æ˜¯å³æŒ‡é’ˆå‘å·¦ç§»åŠ¨ä¸€ä½ï¼Œå®¹å™¨çš„åº•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ¯”åŸæ¥å‡å°‘äº† 1ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æƒ³è¦è®©æŒ‡é’ˆç§»åŠ¨åçš„å®¹å™¨é¢ç§¯å¢å¤§ï¼Œå°±è¦ä½¿ç§»åŠ¨åçš„å®¹å™¨çš„é«˜å°½é‡å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æŒ‡é’ˆæ‰€æŒ‡çš„é«˜è¾ƒå°çš„é‚£ä¸ªæŒ‡é’ˆè¿›è¡Œç§»åŠ¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¿ç•™äº†å®¹å™¨è¾ƒé«˜çš„é‚£æ¡è¾¹ï¼Œæ”¾å¼ƒäº†è¾ƒå°çš„é‚£æ¡è¾¹ï¼Œä»¥è·å¾—æœ‰æ›´é«˜çš„è¾¹çš„æœºä¼šã€‚

#### ä»£ç   

```python
class Solution:
    def maxArea(self, height: List[int]) -> int:
        n = len(height)
        a, b = 0, n-1
        ans = 0
        while a != b:
            new = min(height[a], height[b]) * (b-a)
            ans = max(ans, new)

            if height[a] < height[b]:
                a += 1
            else:
                b -= 1
        return ans

```

## A12. æ•´æ•°è½¬ç½—é©¬æ•°å­—

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš `XII` ï¼Œå³ä¸º `X` + `II` ã€‚ 27 å†™åš  `XXVII`, å³ä¸º `XX` + `V` + `II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

- `I` å¯ä»¥æ”¾åœ¨ `V` (5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
- `X` å¯ä»¥æ”¾åœ¨ `L` (50) å’Œ `C` (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
- `C` å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œå°†å…¶è½¬ä¸ºç½—é©¬æ•°å­—ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 3
è¾“å‡º: "III"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 4
è¾“å‡º: "IV"
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: 9
è¾“å‡º: "IX"
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: 58
è¾“å‡º: "LVIII"
è§£é‡Š: L = 50, V = 5, III = 3.
```

> **ç¤ºä¾‹ 5:**

```
è¾“å…¥: 1994
è¾“å‡º: "MCMXCIV"
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/integer-to-roman/>

#### æ€è·¯  

ã€€ã€€åƒä½ã€ç™¾ä½åä½å’Œä¸ªä½çš„è§„åˆ™å…·æœ‰ä¸€è‡´æ€§ï¼Œå¯ä»¥å†™æˆä¸€ä¸ªå‡½æ•°ã€‚  

#### ä»£ç   

```python
class Solution:
    def intToRoman(self, num: int) -> str:
        ans = ''
        def helper(digit, five, one, ten):
            nonlocal ans
            if digit <= 3:
                ans += one * digit
            elif digit == 4:
                ans += one + five
            elif digit <= 8:
                ans += five + one * (digit - 5)
            elif digit == 9:
                ans += one + ten
            
        helper(num // 1000, '', 'M', '')
        helper(num % 1000 // 100, 'D', 'C', 'M')
        helper(num % 100 // 10, 'L', 'X', 'C')
        helper(num % 10, 'V', 'I', 'X')

        return ans

```

## A13. ç½—é©¬æ•°å­—è½¬æ•´æ•°

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš `XII` ï¼Œå³ä¸º `X` + `II` ã€‚ 27 å†™åš  `XXVII`, å³ä¸º `XX` + `V` + `II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

- `I` å¯ä»¥æ”¾åœ¨ `V` (5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
- `X` å¯ä»¥æ”¾åœ¨ `L` (50) å’Œ `C` (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
- `C` å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚

ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "III"
è¾“å‡º: 3
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "IV"
è¾“å‡º: 4
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: "IX"
è¾“å‡º: 9
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: "LVIII"
è¾“å‡º: 58
è§£é‡Š: L = 50, V= 5, III = 3.
```

> **ç¤ºä¾‹ 5:**

```
è¾“å…¥: "MCMXCIV"
è¾“å‡º: 1994
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/roman-to-integer/>

#### æ€è·¯  


ã€€ã€€è¿™é¢˜æ‡‚äº†å°±éå¸¸ç®€å•ã€‚é¦–å…ˆå»ºç«‹ä¸€ä¸ªå­—å…¸æ¥æ˜ å°„ç¬¦å·å’Œå€¼ï¼Œç„¶åå¯¹å­—ç¬¦ä¸²ä»å·¦åˆ°å³æ¥ï¼Œå¦‚æœ`å½“å‰å­—ç¬¦ä»£è¡¨çš„å€¼ä¸å°äºå…¶å³è¾¹`ï¼Œå°±åŠ ä¸Šè¯¥å€¼ï¼›å¦åˆ™å°±å‡å»è¯¥å€¼ã€‚ä»¥æ­¤ç±»æ¨åˆ°æœ€å·¦è¾¹çš„æ•°ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœå³æ˜¯ç­”æ¡ˆã€‚  

#### ä»£ç   

```python
class Solution:
    def romanToInt(self, s: str) -> int:
        f = {'I': 1,
             'V': 5,
             'X': 10,
             'L': 50,
             'C': 100,
             'D': 500,
             'M': 1000
        }
        ans = 0
        for i, char in enumerate(s):
            if i == len(s) - 1 or f[char] >= f[s[i+1]]:
                ans += f[char]
            else:
                ans -= f[char]
                
        return ans
```

## A14. æœ€é•¿å…¬å…±å‰ç¼€

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚

å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² `""`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: ["flower","flow","flight"]
è¾“å‡º: "fl"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: ["dog","racecar","car"]
è¾“å‡º: ""
è§£é‡Š: è¾“å…¥ä¸å­˜åœ¨å…¬å…±å‰ç¼€ã€‚
```

**è¯´æ˜:**

æ‰€æœ‰è¾“å…¥åªåŒ…å«å°å†™å­—æ¯ `a-z` ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-common-prefix/>

#### æ€è·¯  

ã€€ã€€å…ˆæ‰¾æœ€çŸ­å­—ç¬¦çš„é•¿åº¦`n`ï¼Œç„¶åä»`0 ~ n`é€åˆ—æ‰«æï¼Œå¦‚æœæœ‰ä¸åŒçš„å°±é€€å‡ºå¾ªç¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€ã€€<img src="_img/a14.png" style="zoom:40%"/>

#### ä»£ç   

```python
class Solution:
    def longestCommonPrefix(self, strs: List[str]) -> str:
        if not strs: return ''
        n = min([len(s) for s in strs])
        ans = 0

        for i in range(n):
            char = strs[0][i]
            for s in strs:
                if s[i] != char:
                    return strs[0][:i]
         
        return strs[0][:n]
      
```

## A15. ä¸‰æ•°ä¹‹å’Œ

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªåŒ…å« *n* ä¸ªæ•´æ•°çš„æ•°ç»„ `nums`ï¼Œåˆ¤æ–­ `nums` ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  *aï¼Œbï¼Œc ï¼Œ*ä½¿å¾— *a + b + c =* 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**æ³¨æ„ï¼š**ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

 

> **ç¤ºä¾‹ï¼š**

```
ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ

æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
[
  [-1, 0, 1],
  [-1, -1, 2]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/3sum/>


#### æ€è·¯  

ã€€ã€€è®°å½•æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œå¤šäº2ä¸ªçš„æ•°åªä¿ç•™2ä¸ª(å¯ä»¥ä¼˜åŒ–è¿è¡Œé€Ÿåº¦)ã€‚  
ã€€ã€€å°†ä¸‰ä¸ªæ•°è®°ä¸º`a, b, 0-a-b`ï¼Œæšä¸¾`a`å’Œ`b`ï¼Œç„¶ååœ¨counterä¸­æ£€æŸ¥æ˜¯å¦è¿˜æœ‰`0-a-b`ã€‚

#### ä»£ç   
```python
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        ans = set()
        count = Counter(nums)
        temp = []  # ä¼˜åŒ–ï¼Œå¤šäº2ä¸ªçš„æ•°åªä¿ç•™2ä¸ª
        for k, v in count.items():
            temp.append(k)
            if v >= 2:
                temp.append(k)

        n = len(temp)
        for i in range(n):
             for j in range(n):
                if i == j:
                    continue
                a = temp[i]
                b = temp[j]
                c = 0 - a - b

                count_c = count[c]
                if a == c: count_c -= 1
                if b == c: count_c -= 1
                if count_c:
                    ans.add(tuple(sorted([a, b, c])))

        return [list(tp) for tp in ans]

```

## A16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåŒ…æ‹¬ *n* ä¸ªæ•´æ•°çš„æ•°ç»„ `nums` å’Œ ä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚æ‰¾å‡º `nums` ä¸­çš„ä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ `target` æœ€æ¥è¿‘ã€‚è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨å”¯ä¸€ç­”æ¡ˆã€‚

```
ä¾‹å¦‚ï¼Œç»™å®šæ•°ç»„ nums = [-1ï¼Œ2ï¼Œ1ï¼Œ-4], å’Œ target = 1.

ä¸ target æœ€æ¥è¿‘çš„ä¸‰ä¸ªæ•°çš„å’Œä¸º 2. (-1 + 2 + 1 = 2).
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/3sum-closest/>


#### æ€è·¯  

ã€€ã€€ç»´æŠ¤ä¸¤ä¸ªé›†åˆ`ones`å’Œ`twos`ï¼Œå‰è€…è®°å½•ä¸é‡å¤çš„æ•°ï¼Œåè€…é€šè¿‡éå†`ones`æ¥è®°å½•ä»»æ„ä¸¤ä¸ªæ•°ç›¸åŠ çš„å’Œã€‚  

ã€€ã€€ä»¤`delta`è¡¨ç¤ºä»»æ„ä¸‰ä¸ªæ•°å’Œtargetä¹‹å·®çš„æœ€å°å€¼ã€‚å¯¹äº`nums`ä¸­çš„æ–°çš„ä¸€ä¸ªæ•°å­—`num`ï¼Œå¦‚æœå’Œ`twos`ä¸­çš„æŸä¸ªæ•°å’Œä¸`target`ä¹‹å·®å°äº`delta`ï¼Œåˆ™æ›´æ–°`delta`å’Œ`ans`ã€‚`num`å’Œ`one`ä¸­æ‰€æœ‰æ•°å­—çš„å’Œä¼šè¢«åŠ å…¥åˆ°`twos`ä¸­ã€‚

#### ä»£ç   
```python
class Solution:
    def threeSumClosest(self, nums: List[int], target: int) -> int:
        delta = 9999999
        ans = -1
        ones = set()
        twos = set()
        for num in nums:
            for two in twos:  # ä»»æ„ä¸¤æ•°ä¹‹å’Œçš„é›†åˆ
                if abs(two + num - target) < delta:
                    delta = abs(two + num - target)
                    ans = two + num
            for one in ones:  # æ–°æ•°numå’Œonesä¸­çš„æ¯ä¸ªæ•°å­—ç›¸åŠ ï¼Œå¹¶æ”¾å…¥twosä¸­
                twos.add(one+num)
            ones.add(num)  # æ–°æ•°æ”¾å…¥onesä¸­

        return ans
```

## A17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— `2-9` çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚

ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚

<img src="_img/17.png" style="zoom:40%"/>

> **ç¤ºä¾‹:**

```
è¾“å…¥ï¼š"23"
è¾“å‡ºï¼š["ad", "ae", "af", "bd", "be", "bf", "cd", "ce", "cf"].
```

**è¯´æ˜:**
å°½ç®¡ä¸Šé¢çš„ç­”æ¡ˆæ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥ä»»æ„é€‰æ‹©ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/>

#### æ€è·¯  


ã€€ã€€ç”¨ä¸€ä¸ª**æ»šåŠ¨æ•°ç»„**è®°å½•ä¹‹å‰çš„ç»“æœã€‚ä¸‹ä¸€ä¸ªæ•°å­—çš„æ‰€æœ‰å­—æ¯ï¼Œæ·»åŠ åˆ°ä¹‹å‰çš„æ‰€æœ‰ç»“æœä¸Šã€‚  

#### ä»£ç   

```python
class Solution:
    def letterCombinations(self, digits: str) -> List[str]:
        f = ['', '', 'abc', 'def', 'ghi', 'jkl', 'mno', 'pqrs', 'tuv', 'wxyz']
        if not digits: return []
        
        ans = ['']
        for digit in digits:
            temp = []
            for a in ans:
                for alpha in f[int(digit)]:  # ä¸‹ä¸€ä¸ªæ•°å­—çš„æ‰€æœ‰å­—æ¯ æ·»åŠ åˆ°ä¹‹å‰çš„æ‰€æœ‰ç»“æœä¸Š
                    temp.append(a + alpha)

            ans = temp

        return ans

```

## A19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ *n* ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚

> **ç¤ºä¾‹ï¼š**

```
ç»™å®šä¸€ä¸ªé“¾è¡¨: 1->2->3->4->5, å’Œ n = 2.

å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1->2->3->5.
```

**è¯´æ˜ï¼š**

ç»™å®šçš„ *n* ä¿è¯æ˜¯æœ‰æ•ˆçš„ã€‚

**è¿›é˜¶ï¼š**

ä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/>

#### **æ€è·¯:**


ã€€ã€€å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå…ˆèµ°næ­¥ï¼Œç„¶åå¿«æ…¢ä¸€èµ·èµ°ï¼Œç›´åˆ°å¿«æŒ‡é’ˆèµ°åˆ°æœ€åï¼Œæ…¢æŒ‡é’ˆçš„ä½ç½®å°±æ˜¯è¦åˆ é™¤çš„ä½ç½®ã€‚è¦æ³¨æ„çš„æ˜¯å¯èƒ½æ˜¯è¦åˆ é™¤ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç›´æ¥è¿”å›`head -> next`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def removeNthFromEnd(self, head: ListNode, n: int) -> ListNode:
        if not head or not n:
            return head

        fast = slow = head
        for _ in range(n):
            fast = fast.next
        if not fast:  # åˆ é™¤å¤´ç»“ç‚¹
            return head.next

        while fast.next:
            fast = fast.next
            slow = slow.next
        #  æ­¤æ—¶çš„slowæ˜¯è¦åˆ é™¤ç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹
        slow.next = slow.next.next

        return head


```

## A20. æœ‰æ•ˆçš„æ‹¬å·

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ `'('`ï¼Œ`')'`ï¼Œ`'{'`ï¼Œ`'}'`ï¼Œ`'['`ï¼Œ`']'` çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚

æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š

1. å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚
2. å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚

æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "()"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "()[]{}"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: "(]"
è¾“å‡º: false
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: "([)]"
è¾“å‡º: false
```

> **ç¤ºä¾‹ 5:**

```
è¾“å…¥: "{[]}"
è¾“å‡º: true
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/valid-parentheses/>

#### æ€è·¯  

ã€€ã€€å †æ ˆï¼Œå¦‚æœä¸ºå·¦æ‹¬å·(`{ [ (`)å°±å…¥æ ˆï¼Œå¦‚æœä¸ºå³æ‹¬å·åˆ™åˆ¤æ–­èƒ½å¦å’Œ`æ ˆé¡¶å…ƒç´ `é—­åˆã€‚  

ã€€ã€€æ³¨æ„`â€([])"`ä¹Ÿå¯ä»¥ï¼Œå¹¶ä¸æ˜¯å¿…é¡»å¤§æ‹¬å·å¥—ä¸­æ‹¬å·å¥—å°æ‹¬å·ã€‚ 

ã€€ã€€**æ³¨æ„ï¼š**å­—ç¬¦ç”¨å®Œæ—¶æ ˆå¿…é¡»ä¸ºç©ºï¼Œå¦åˆ™æ— æ•ˆã€‚

#### ä»£ç   

```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []
        f = {'(': 1, '[': 2, '{': 3, ')': -1, ']': -2, '}': -3}
        for char in s:
            if f[char] > 0:
                stack.append(f[char])
            else:
                if not stack or stack[-1] + f[char] != 0: 
                    return False
                stack.pop()

        return len(stack) == 0
            
```

## A21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ **å‡åº** é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ 

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šl1 = [1,2,4], l2 = [1,3,4]
è¾“å‡ºï¼š[1,1,2,3,4,4]
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šl1 = [], l2 = []
è¾“å‡ºï¼š[]
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šl1 = [], l2 = [0]
è¾“å‡ºï¼š[0]
```

**æç¤ºï¼š**

- ä¸¤ä¸ªé“¾è¡¨çš„èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ `[0, 50]`
- `-100 <= Node.val <= 100`
- `l1` å’Œ `l2` å‡æŒ‰ **éé€’å‡é¡ºåº** æ’åˆ—

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/merge-two-sorted-lists/>

#### **æ€è·¯:**

ã€€ã€€é€’å½’ã€‚
ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def mergeTwoLists(self, l1: ListNode, l2: ListNode) -> ListNode:
        if not l1: return l2
        if not l2: return l1
        if l1.val <= l2.val:
            l1.next = self.mergeTwoLists(l1.next, l2)
            return l1
        else:
            l2.next = self.mergeTwoLists(l2.next, l1)
            return l2
          
```

## A22. æ‹¬å·ç”Ÿæˆ

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å‡º *n* ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ å†™å‡ºä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶èƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸”**æœ‰æ•ˆçš„**æ‹¬å·ç»„åˆã€‚

ä¾‹å¦‚ï¼Œç»™å‡º *n* = 3ï¼Œç”Ÿæˆç»“æœä¸ºï¼š

```
[
  "((()))",
  "(()())",
  "(())()",
  "()(())",
  "()()()"
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/generate-parentheses/>


#### æ€è·¯  


ã€€ã€€dfsã€‚åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­æ³¨æ„æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š  

ã€€ã€€â‘  å½“å‰å³æ‹¬å·çš„æ•°é‡ä¸èƒ½å¤§äºå·¦æ‹¬å·çš„æ•°é‡ï¼›  

ã€€ã€€â‘¡ å·¦æ‹¬å·çš„æ•°é‡ä¸èƒ½å¤§äº`n`ã€‚  

#### ä»£ç   
```python
class Solution:
    def generateParenthesis(self, n: int) -> List[str]:
        stack = []
        temp = []
        ans = []
        def dfs(i):  # 0, n*2-1            
            if i >= n * 2:
                if len(stack) == 0:
                    ans.append(''.join(temp))
                return

            if i <= 2 * n-1:
                stack.append('(')
                temp.append('(')
                dfs(i+1)
                stack.pop()
                temp.pop()

            if stack:
                temp.append(')')
                stack.pop()
                dfs(i+1)
                stack.append('(')
                temp.pop()

        dfs(0)
        return ans    
```

## A23. åˆå¹¶Kä¸ªæ’åºé“¾è¡¨

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

åˆå¹¶ *k* ä¸ªæ’åºé“¾è¡¨ï¼Œè¿”å›åˆå¹¶åçš„æ’åºé“¾è¡¨ã€‚è¯·åˆ†æå’Œæè¿°ç®—æ³•çš„å¤æ‚åº¦ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥:
[
  1->4->5,
  1->3->4,
  2->6
]
è¾“å‡º: 1->1->2->3->4->4->5->6
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/merge-k-sorted-lists/>

#### **æ€è·¯:**

ã€€ã€€åˆ†æ²»æ³•ï¼Œå½“åªæœ‰ä¸€ä¸ªé“¾è¡¨æ—¶ç›´æ¥è¿”å›ã€‚å¦åˆ™ï¼š  

ã€€ã€€â‘  åˆå¹¶å·¦åŠè¾¹çš„é“¾è¡¨ï¼Œè®°ä¸º`left`ï¼›  

ã€€ã€€â‘¡ åˆå¹¶å³åŠè¾¹çš„é“¾è¡¨ï¼Œè®°ä¸º`right`ï¼›  

ã€€ã€€â‘¢ åˆå¹¶`left`å’Œ`right`(å‚è€ƒ[åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](/å®ç”¨æ¨¡æ¿?id=åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨é€’å½’))ã€‚  

ã€€ã€€æ—¶é—´å¤æ‚åº¦`O(nlog(k))`ï¼Œ`n`æ˜¯æ‰€æœ‰é“¾è¡¨ä¸­å…ƒç´ çš„æ€»å’Œï¼Œ`k`æ˜¯é“¾è¡¨ä¸ªæ•°ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def merge(self, l1: ListNode, l2: ListNode) -> ListNode:  # åˆå¹¶ä¸¤ä¸ªé“¾è¡¨
        if not l1: return l2
        if not l2: return l1
        if l1.val <= l2.val:
            l1.next = self.merge(l1.next, l2)
            return l1
        else:
            l2.next = self.merge(l2.next, l1)
            return l2

    def mergeKLists(self, lists: List[ListNode]) -> ListNode:
        n = len(lists)
        if not n:
            return

        if n == 1:  # åªæœ‰ä¸€ä¸ªï¼Œä¸ç”¨åˆå¹¶
            return lists[0]

        mid = n // 2  # è‡³å°‘ä¸º1
        left = self.mergeKLists(lists[:mid])
        right = self.mergeKLists(lists[mid:])
        return self.merge(left, right)

```

## A24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚

**ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼**ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

> **ç¤ºä¾‹:**

```
ç»™å®š 1->2->3->4, ä½ åº”è¯¥è¿”å› 2->1->4->3.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/swap-nodes-in-pairs/>

#### **æ€è·¯:**

ã€€ã€€å¯ä»¥ç”¨é€’å½’æ¥åšï¼Œå…ˆäº¤æ¢å‰ä¸¤ä¸ªç»“ç‚¹ï¼Œç„¶åé€’å½’åœ°å¤„ç†åé¢çš„é“¾è¡¨ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def swapPairs(self, head: ListNode) -> ListNode:
        if not head or not head.next:
            return head

        p, q = head, head.next
        p.next, q.next = q.next, p  # å°† p->q äº¤æ¢ä¸º q->p

        p.next = self.swapPairs(p.next)

        return q

```

## A25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ *k* ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚

*k* æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚

å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ *k* çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚

> **ç¤ºä¾‹ï¼š**

ç»™ä½ è¿™ä¸ªé“¾è¡¨ï¼š`1->2->3->4->5`

å½“ *k* = 2 æ—¶ï¼Œåº”å½“è¿”å›: `2->1->4->3->5`

å½“ *k* = 3 æ—¶ï¼Œåº”å½“è¿”å›: `3->2->1->4->5`
**è¯´æ˜ï¼š**

- ä½ çš„ç®—æ³•åªèƒ½ä½¿ç”¨å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚
- **ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼**ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reverse-nodes-in-k-group/>

#### **æ€è·¯:**

ã€€ã€€å…ˆå°†å‰`k`ä¸ªç»“ç‚¹ç¿»è½¬ï¼Œç„¶åé€’å½’åœ°å¯¹åé¢çš„é“¾è¡¨è¿›è¡Œå¤„ç†ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def reverseKGroup(self, head: ListNode, k: int) -> ListNode:
        if k <= 1:
            return head
        node = head
        for _ in range(k):
            if not node:
                return head
            node = node.next

        rever = None
        node = head
        for _ in range(k):
            node.next, rever, node = rever, node, node.next

        temp = rever
        for _ in range(k-1):
            temp = temp.next

        temp.next = self.reverseKGroup(node, k)

        return rever

```

## A26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹

éš¾åº¦ `ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨ **åŸåœ°** åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ **åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„** å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

 

> **ç¤ºä¾‹ 1:**

```
ç»™å®šæ•°ç»„ nums = [1,1,2], 

å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ 

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

> **ç¤ºä¾‹ 2:**

```
ç»™å®š nums = [0,0,1,1,1,2,2,3,3,4],

å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4ã€‚

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/>


#### æ€è·¯  


ã€€ã€€ç”¨`None`æ ‡è®°é‡å¤çš„æ•°ã€‚ç„¶åå°†ä¸æ˜¯`None`çš„å…ƒç´ æ”¾åœ¨æœ€å‰é¢ã€‚

#### ä»£ç   
```python
class Solution:
    def removeDuplicates(self, nums: List[int]) -> int:
        n = len(nums)
        for i in range(n-1):
            if nums[i] == nums[i+1]:
                nums[i] = None

        cur = 0
        for i in range(n):
            if nums[i] is not None:
                nums[cur] = nums[i]
                cur += 1

        return cur
```

## A27. ç§»é™¤å…ƒç´ 

éš¾åº¦ `ç®€å•`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•°ç»„ *nums* å’Œä¸€ä¸ªå€¼ *val* ï¼Œä½ éœ€è¦ **åŸåœ°** ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº *val* çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶ **åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„**ã€‚

å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

 

> **ç¤ºä¾‹ 1:**

```
ç»™å®š nums = [3,2,2,3], val = 3,

å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

> **ç¤ºä¾‹ 2:**

```
ç»™å®š nums = [0,1,2,2,3,0,4,2], val = 2,

å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚

æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä¸ºä»»æ„é¡ºåºã€‚

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-element/>


#### æ€è·¯  


ã€€ã€€è§ä»£ç ã€‚

#### ä»£ç   
```python
class Solution:
    def removeElement(self, nums: List[int], val: int) -> int:
        cur = 0
        n = len(nums)
        for i in range(n):
            if nums[i] == val:
                pass
            else:
                nums[cur] = nums[i]
                cur += 1

        return cur
```

## A29. ä¸¤æ•°ç›¸é™¤

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œè¢«é™¤æ•° `dividend` å’Œé™¤æ•° `divisor`ã€‚å°†ä¸¤æ•°ç›¸é™¤ï¼Œè¦æ±‚ä¸ä½¿ç”¨ä¹˜æ³•ã€é™¤æ³•å’Œ mod è¿ç®—ç¬¦ã€‚

è¿”å›è¢«é™¤æ•° `dividend` é™¤ä»¥é™¤æ•° `divisor` å¾—åˆ°çš„å•†ã€‚

æ•´æ•°é™¤æ³•çš„ç»“æœåº”å½“æˆªå»ï¼ˆ`truncate`ï¼‰å…¶å°æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼š`truncate(8.345) = 8` ä»¥åŠ `truncate(-2.7335) = -2`

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: dividend = 10, divisor = 3
è¾“å‡º: 3
è§£é‡Š: 10/3 = truncate(3.33333..) = truncate(3) = 3
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: dividend = 7, divisor = -3
è¾“å‡º: -2
è§£é‡Š: 7/-3 = truncate(-2.33333..) = -2
```

**æç¤ºï¼š**

- è¢«é™¤æ•°å’Œé™¤æ•°å‡ä¸º 32 ä½æœ‰ç¬¦å·æ•´æ•°ã€‚
- é™¤æ•°ä¸ä¸º 0ã€‚
- å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231,  231 âˆ’ 1]ã€‚æœ¬é¢˜ä¸­ï¼Œå¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œåˆ™è¿”å› 231 âˆ’ 1ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/divide-two-integers/>

#### **æ€è·¯:**

ã€€ã€€æ¨¡æ‹Ÿé™¤æ³•çš„è¿‡ç¨‹ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def divide(self, dividend: int, divisor: int) -> int:
        if dividend * divisor < 0:
            factor = -1
        else: 
            factor = 1

        dividend = abs(dividend)
        divisor = abs(divisor)

        ans = ''
        mod = '0'
        for i, d in enumerate(str(dividend)):
            nxt = int(mod + d)  # å°†è¢«é™¤æ•°çš„ä¸€ä½æ‹¿ä¸‹æ¥ åŠ åˆ°ä½™æ•°ä¸Š
            div, mod = divmod(nxt, divisor)
            ans += str(div)
            mod = str(mod)        

        if not ans: ans = '0'
        ans = factor * int(ans)
        ans = min(ans, 2**31 - 1)
        ans = max(ans, -2**31 )

        return ans
```

## A30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² **s** å’Œä¸€äº›é•¿åº¦ç›¸åŒçš„å•è¯ **wordsã€‚**æ‰¾å‡º **s** ä¸­æ°å¥½å¯ä»¥ç”± **words** ä¸­æ‰€æœ‰å•è¯ä¸²è”å½¢æˆçš„å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚

æ³¨æ„å­ä¸²è¦ä¸ **words** ä¸­çš„å•è¯å®Œå…¨åŒ¹é…ï¼Œä¸­é—´ä¸èƒ½æœ‰å…¶ä»–å­—ç¬¦ï¼Œä½†ä¸éœ€è¦è€ƒè™‘ **words** ä¸­å•è¯ä¸²è”çš„é¡ºåºã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š
  s = "barfoothefoobarman",
  words = ["foo","bar"]
è¾“å‡ºï¼š[0,9]
è§£é‡Šï¼š
ä»ç´¢å¼• 0 å’Œ 9 å¼€å§‹çš„å­ä¸²åˆ†åˆ«æ˜¯ "barfoo" å’Œ "foobar" ã€‚
è¾“å‡ºçš„é¡ºåºä¸é‡è¦, [9,0] ä¹Ÿæ˜¯æœ‰æ•ˆç­”æ¡ˆã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š
  s = "wordgoodgoodgoodbestword",
  words = ["word","good","best","word"]
è¾“å‡ºï¼š[]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/>

#### æ€è·¯  

ã€€ã€€æ³¨æ„é¢˜ç›®ä¸­å•è¯çš„é•¿åº¦æ˜¯`ç›¸åŒçš„` ã€‚  
ã€€ã€€å› ä¸º`words`ä¸­çš„å•è¯æ˜¯å¯ä»¥é‡å¤çš„ï¼Œç”¨ä¸€ä¸ªå­—å…¸è®°å½•`words`ä¸­æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åå†ç”¨é€’å½’æ¥åŒ¹é…ã€‚

#### ä»£ç   

```python
class Solution:
    def findSubstring(self, s: str, words: List[str]) -> List[int]:
        ans = []
        count = Counter(words)

        word_len = len(words[0])
        n = word_len * len(words)
        
        for i in range(len(s) - n + 1):
            temp = count.copy()
            sub = s[i: i+n]  # å­ä¸²
            for j in range(0, n, word_len):
                word = sub[j: j+word_len]  # æŠŠå­ä¸²æ‹†åˆ†æˆå•è¯
                if word not in temp or temp[word] == 0:
                    break
                temp[word] -= 1
            else:
                ans.append(i)

        return ans
```

## A31. ä¸‹ä¸€ä¸ªæ’åˆ—

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å®ç°è·å–ä¸‹ä¸€ä¸ªæ’åˆ—çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚

å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚

å¿…é¡»**åŸåœ°**ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼Œè¾“å…¥ä½äºå·¦ä¾§åˆ—ï¼Œå…¶ç›¸åº”è¾“å‡ºä½äºå³ä¾§åˆ—ã€‚
`1,2,3` â†’ `1,3,2`
`3,2,1` â†’ `1,2,3`
`1,1,5` â†’ `1,5,1`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/next-permutation/>


#### æ€è·¯  


ã€€ã€€å…¶å®å°±æ˜¯ä»æ•°ç»„å€’ç€æŸ¥æ‰¾ï¼Œæ‰¾åˆ°`nums[i]`æ¯”`nums[i+1]`å°çš„æ—¶å€™ï¼Œå°±å°†`nums[i]`å’Œ`nums[i+1:]`ä¸­æ¯”`nums[i]`å¤§çš„**æœ€å°çš„æ•°**å’Œ`nums[i]`äº¤æ¢ï¼Œç„¶åå†æŠŠ`nums[i+1:]`æ’åºå°±okäº†ğŸ™†â€â™‚ï¸ã€‚

#### ä»£ç   
```python
class Solution:
    def nextPermutation(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        if len(nums) <= 1:
            return nums
        
        l = len(nums)
        i, j = 0, 0  # ä¸‹æ ‡ä¸ºiå’Œä¸‹æ ‡ä¸ºjçš„æ•°äº¤æ¢

        for i in range(l-2, -1, -1):
            if nums[i+1] > nums[i]:
                break
            elif i == 0:
                i = -1

        if i == -1:
            nums[:] = sorted(nums)[:]  # è¿™é‡Œç›´æ¥ç”¨sortedäº†ï¼Œå› ä¸ºæ’åºæ˜¯å¯ä»¥å®ç°é¢å¤–ç©ºé—´O(1)çš„ï¼Œ(å¦‚å†’æ³¡æ’åºç­‰)
        else:
            exchange = float('inf')
            for k, num in enumerate(nums[i+1:]):
                if num > nums[i] and num < exchange:  # æ‰¾åˆ°æ¯”nums[i]å¤§çš„æœ€å°çš„æ•°
                    exchange = num
                    j = k + i + 1
            nums[i], nums[j] = nums[j], nums[i]  # ä¸‹æ ‡ä¸ºiå’Œä¸‹æ ‡ä¸ºjçš„æ•°äº¤æ¢
            nums[i+1:] = sorted(nums[i+1:])
```

## A32. æœ€é•¿æœ‰æ•ˆæ‹¬å·

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåªåŒ…å« `'('` å’Œ `')'` çš„å­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºæœ€é•¿çš„åŒ…å«æœ‰æ•ˆæ‹¬å·çš„å­ä¸²çš„é•¿åº¦ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "(()"
è¾“å‡º: 2
è§£é‡Š: æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²ä¸º "()"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: ")()())"
è¾“å‡º: 4
è§£é‡Š: æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²ä¸º "()()"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-valid-parentheses/>


#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šå¯¹å­—ç¬¦ä¸²éå†ï¼Œè¿›è¡Œæ‹¬å¼§æœ‰æ•ˆæ€§éªŒè¯ï¼Œå‡ºç°`(`æ—¶å€™`symbol_count`+`1`ï¼Œå‡ºç°`')'`æ—¶`symbol_count`-`1`ï¼Œè®°å½•`symbol_count`ä¸º`0`æ—¶çš„æœ€å¤§é•¿åº¦ã€‚åŒæ ·çš„æ–¹å¼ï¼Œå€’åºå†æ¥ä¸€æ¬¡ï¼Œå–æœ€å¤§å€¼ã€‚  

ã€€ã€€æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ã€‚`dp[i]`è¡¨ç¤ºä»¥`i`ç»“å°¾çš„æœ€é•¿æœ‰æ•ˆæ‹¬å·é•¿åº¦ã€‚

<img src="_img/a32.png" style="zoom:40%"/>

ã€€ã€€å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾`dp[i]`=`6`ã€‚é‚£ä¹ˆè®¡ç®—`dp[i+1]`æ—¶ï¼Œå¦‚æœé‡åˆ°`')'`ï¼Œä¼šåˆ°`pre`(å³`i-dp[i]`)çš„ä½ç½®å¯»æ‰¾`'('`ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ™`dp[i+1]`=`dp[i]`+`2`=`8`ã€‚å¹¶ä¸”è¿˜è¦æŠŠ`pre`ä¹‹å‰çš„ä¹Ÿè€ƒè™‘ä¸Šï¼Œå³`dp[i+1]`+=`dp[pre - 1]`=`8 + 2`=`10`ã€‚  

ã€€ã€€æ–¹æ³•ä¸‰ï¼šâ‘  ç”¨ä¸€ä¸ªæ ˆè®°å½•ä¸‹æ ‡ï¼Œæ ˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ è®°å½•çš„æ˜¯èµ·å§‹ä½ç½®çš„**å‰ä¸€ä¸ª**ï¼Œåˆå§‹ä¸º`[-1]`ã€‚â‘¡ å…ƒç´ ä¸º`'('`æ—¶å…¥æ ˆï¼Œä¸º`')'`æ—¶å‡ºæ ˆã€‚â‘¢ å¦‚æœå‡ºæ ˆåæ ˆç©ºäº†(å³æ‹¬å·æ•°å¤šäºå·¦æ‹¬å·)åˆ™å°†å½“å‰å…ƒç´ ä¸‹æ ‡æ”¾åœ¨æ ˆçš„ç¬¬ä¸€ä¸ªã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š

```python
class Solution:
    def longestValidParentheses(self, s: str) -> int:
        def helper(s, symbol):  # '(' or ')'
            ans = 0
            symbol_count = 0
            cur_length = 0
            for char in s:
                cur_length += 1
                if char == symbol:
                    symbol_count += 1
                else:
                    symbol_count -= 1
                    if symbol_count < 0:
                        symbol_count = 0
                        cur_length = 0
                    elif symbol_count == 0: 
                        ans = max(ans, cur_length)
            return ans

        return max(helper(s, '('), helper(s[::-1], ')'))
```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def longestValidParentheses(self, s: str) -> int:
        n = len(s)
        if n == 0:
            return 0
        dp = [0 for i in range(n)]
        for i in range(1, n):
            char = s[i]
            if char == ')':
                pre = i - dp[i-1] -1
                if pre >= 0 and s[pre] == '(':
                    dp[i] = dp[i-1] + 2
                    if pre > 0:
                        dp[i] += dp[pre - 1]

        return max(dp)
```

ã€€ã€€æ–¹æ³•ä¸‰ï¼š

```python
class Solution:
    def longestValidParentheses(self, s: str) -> int:
        stack = [-1]
        ans = 0
        for i, char in enumerate(s):
            if char == '(':
                stack.append(i)
            elif char == ')':
                stack.pop()
                if not stack:
                    stack.append(i)
                else:
                    ans = max(ans, i-stack[-1])

        return ans
```

## A33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚

( ä¾‹å¦‚ï¼Œæ•°ç»„ `[0,1,2,4,5,6,7]` å¯èƒ½å˜ä¸º `[4,5,6,7,0,1,2]` )ã€‚

æœç´¢ä¸€ä¸ªç»™å®šçš„ç›®æ ‡å€¼ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å› `-1` ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤çš„å…ƒç´ ã€‚

ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ *O*(log *n*) çº§åˆ«ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [4,5,6,7,0,1,2], target = 0
è¾“å‡º: 4
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [4,5,6,7,0,1,2], target = 3
è¾“å‡º: -1
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/search-in-rotated-sorted-array/>


#### æ€è·¯  

ã€€ã€€`nums`ä»ä¸­é—´åˆ‡ä¸€åŠï¼Œå¿…ç„¶æœ‰ä¸€åŠæ˜¯æœ‰åºçš„ï¼Œå¦ä¸€åŠæ˜¯æ— åºçš„ï¼Œå¯¹æœ‰åºçš„ä¸€åŠäºŒåˆ†æŸ¥æ‰¾ï¼Œå¯¹æ— åºçš„ä¸€åŠé€’å½’è°ƒç”¨è¯¥ç®—æ³•ã€‚  
ã€€ã€€å¦‚æœç¬¬ä¸€ä¸ªæ•°`nums[i]` å°äºä¸­é—´çš„æ•°`nums[mid]`ï¼Œåˆ™å·¦åŠè¾¹æœ‰åºï¼Œå¦åˆ™å³åŠè¾¹æœ‰åºã€‚  

#### ä»£ç   
```python
class Solution:
    def search(self, nums: List[int], target: int) -> int:
        def dfs(i, j): 
            if j - i <= 1:
                if nums[i] == target: return i
                if nums[j] == target: return j
                return -1 

            mid = (i + j) // 2  # 4 7 2
            if nums[i] < nums[mid]:  # å·¦è¾¹æœ‰åº
                idx = bisearch(i, mid)  # äºŒåˆ†å·¦è¾¹
                if idx != -1:
                    return idx
                return dfs(mid, j)  # é€’å½’å³è¾¹

            else:  # å³è¾¹æœ‰åº
                idx = bisearch(mid, j)  # äºŒåˆ†å³è¾¹
                if idx != -1:
                    return idx
                return dfs(i, mid)  # # é€’å½’å·¦è¾¹
            # i:mid  , mid:j
            return -1

        def bisearch(i, j):
            idx = i + bisect.bisect_left(nums[i: j+1], target)
            if idx < len(nums) and nums[idx] == target:
                return idx
            else:
                return -1

        return dfs(0, len(nums)-1)
```

## A34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ *O*(log *n*) çº§åˆ«ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ï¼Œè¿”å› `[-1, -1]`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 8
è¾“å‡º: [3,4]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 6
è¾“å‡º: [-1,-1]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/>


#### æ€è·¯  


ã€€ã€€ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°äº†ä¸€ä¸ª`target`ä½†æ˜¯ä¸æ˜¯ç¬¬ä¸€ä¸ª`target`ï¼Œç»§ç»­ä½¿ç”¨äºŒåˆ†æ³•åœ¨å®ƒä¹‹å‰æŸ¥æ‰¾ã€‚  

#### ä»£ç   
```python
class Solution:
    def find_first(self, nums: List[int], target: int):
        i, j = 0, len(nums)
        while i <= j and i < len(nums):
            mid = (i + j) // 2
            if nums[mid] > target:
                j = mid - 1
            elif nums[mid] < target:
                i = mid + 1
            else:
                if nums[mid] == target:
                    if mid == 0 or nums[mid-1] != target:
                        return mid
                    else:
                        j = mid - 1
                else:
                    return -1
        return -1

    def find_last(self, nums: List[int], target: int):
        i, j = 0, len(nums)
        while i <= j and i < len(nums):
            mid = (i + j) // 2
            if nums[mid] > target:
                j = mid - 1
            elif nums[mid] < target:
                i = mid + 1
            else:
                if nums[mid] == target:
                    if mid == len(nums) - 1 or nums[mid+1] != target:
                        return mid
                    else:
                        i = mid + 1
                else:
                    return -1
        return -1

    def searchRange(self, nums: List[int], target: int) -> List[int]:
        first = self.find_first(nums, target)
        last = self.find_last(nums, target)

        return [first, last]
```

## A35. æœç´¢æ’å…¥ä½ç½®

éš¾åº¦ `ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,3,5,6], 5
è¾“å‡º: 2
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,3,5,6], 2
è¾“å‡º: 1
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [1,3,5,6], 7
è¾“å‡º: 4
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: [1,3,5,6], 0
è¾“å‡º: 0
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/search-insert-position/>


#### æ€è·¯  

ã€€ã€€è¿™é¢˜è€ƒå¯Ÿå®ç°`bisect.bisect_left(nums, target)`ã€‚  

ã€€ã€€äºŒåˆ†æŸ¥æ‰¾ï¼Œå¦‚æœç¬¬`mid`ä¸ªå…ƒç´ å¤§äº`target`ï¼Œä½†å®ƒå‰ä¸€ä¸ªå…ƒç´ å°äº`target`ï¼Œåˆ™è¿”å›`i`ã€‚  

#### ä»£ç   
```python
class Solution:
    def searchInsert(self, nums: List[int], target: int) -> int:
        i, j = 0, len(nums) - 1
        while i <= j:
            mid = (i+j) // 2
            if nums[mid] < target:
                i += 1
            elif nums[mid] > target:
                j -= 1
            else:
                break

        if nums[mid] >= target:
            return mid
        else:
            return mid + 1
```

## A36. æœ‰æ•ˆçš„æ•°ç‹¬

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

åˆ¤æ–­ä¸€ä¸ª 9x9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦**æ ¹æ®ä»¥ä¸‹è§„åˆ™**ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚

1. æ•°å­— `1-9` åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
2. æ•°å­— `1-9` åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
3. æ•°å­— `1-9` åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ `3x3` å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚

<img src="_img/36.png" style="zoom:55%"/>

ä¸Šå›¾æ˜¯ä¸€ä¸ªéƒ¨åˆ†å¡«å……çš„æœ‰æ•ˆçš„æ•°ç‹¬ã€‚

æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨ `'.'` è¡¨ç¤ºã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
[
  ["5","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
[
  ["8","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
è¾“å‡º: false
è§£é‡Š: é™¤äº†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—ä» 5 æ”¹ä¸º 8 ä»¥å¤–ï¼Œç©ºæ ¼å†…å…¶ä»–æ•°å­—å‡ä¸ ç¤ºä¾‹1 ç›¸åŒã€‚
     ä½†ç”±äºä½äºå·¦ä¸Šè§’çš„ 3x3 å®«å†…æœ‰ä¸¤ä¸ª 8 å­˜åœ¨, å› æ­¤è¿™ä¸ªæ•°ç‹¬æ˜¯æ— æ•ˆçš„ã€‚
```

**è¯´æ˜:**

- ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚
- åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚
- ç»™å®šæ•°ç‹¬åºåˆ—åªåŒ…å«æ•°å­— `1-9` å’Œå­—ç¬¦ `'.'` ã€‚
- ç»™å®šæ•°ç‹¬æ°¸è¿œæ˜¯ `9x9` å½¢å¼çš„ã€‚


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/valid-sudoku/>

#### **æ€è·¯:**


ã€€ã€€ç”¨é›†åˆåˆ¤æ–­æ•°å­—æ˜¯å¦å‡ºç°è¿‡ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def isValidSudoku(self, board: List[List[str]]) -> bool:
        line = [set() for _ in range(9)]
        col = [set() for _ in range(9)]
        room = [set() for _ in range(9)]  # ä¹å®«æ ¼

        for i in range(9):
            for j in range(9):
                x = (i // 3) * 3 + j // 3   # room_id
                num = board[i][j]
                if num == '.':  # å¿½ç•¥ .
                    continue

                if num in line[i] or num in col[j] or num in room[x]:
                    return False

                line[i].add(num)
                col[j].add(num)
                room[x].add(num)

        return True

```

## A37. è§£æ•°ç‹¬

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œé€šè¿‡å·²å¡«å……çš„ç©ºæ ¼æ¥è§£å†³æ•°ç‹¬é—®é¢˜ã€‚

ä¸€ä¸ªæ•°ç‹¬çš„è§£æ³•éœ€**éµå¾ªå¦‚ä¸‹è§„åˆ™**ï¼š

1. æ•°å­— `1-9` åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
2. æ•°å­— `1-9` åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
3. æ•°å­— `1-9` åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ `3x3` å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚

ç©ºç™½æ ¼ç”¨ `'.'` è¡¨ç¤ºã€‚

<img src="_img/37_1.png" style="zoom:100%"/>

ä¸€ä¸ªæ•°ç‹¬ã€‚

<img src="_img/37_2.png" style="zoom:100%"/>

ç­”æ¡ˆè¢«æ ‡æˆçº¢è‰²ã€‚

**Note:**

- ç»™å®šçš„æ•°ç‹¬åºåˆ—åªåŒ…å«æ•°å­— `1-9` å’Œå­—ç¬¦ `'.'` ã€‚
- ä½ å¯ä»¥å‡è®¾ç»™å®šçš„æ•°ç‹¬åªæœ‰å”¯ä¸€è§£ã€‚
- ç»™å®šæ•°ç‹¬æ°¸è¿œæ˜¯ `9x9` å½¢å¼çš„ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/sudoku-solver/>

#### **æ€è·¯:**

ã€€ã€€æ ‡å‡†çš„dfsã€‚  

#### **ä»£ç :**

```python
sys.setrecursionlimit(100000)

class Solution:
    def solveSudoku(self, board: List[List[str]]) -> None:
        """
        Do not return anything, modify board in-place instead.
        """
        fixed = [[False for _ in range(9)] for _ in range(9)]  # è®°å½•åŸæ¥å°±æœ‰çš„ä¸èƒ½æ›´æ”¹çš„
        row, col, room = [set() for _ in range(9)], [set() for _ in range(9)], [set() for _ in range(9)]  # ç”¨ä¸‰ä¸ªé›†åˆåˆ†åˆ«è®°å½•æ¯è¡Œã€æ¯åˆ—ã€æ¯ä¸ªä¹å®«æ ¼ç”¨è¿‡äº†å“ªäº›æ•°å­—

        def get_room(i, j):
            return i // 3 * 3 + j // 3

        for i in range(9):
            for j in range(9):
                if board[i][j] != '.':
                    fixed[i][j] = True
                    row[i].add(board[i][j])  # è¡Œ
                    col[j].add(board[i][j])  # åˆ—
                    room[get_room(i, j)].add(board[i][j])  # ä¹å®«æ ¼

        def dfs(n):  # nå–å€¼0 ~ 80ï¼Œåæ ‡ [n // 9][n % 9]
            while n < 81 and fixed[n // 9][n % 9]:
                n += 1  # å›ºå®šçš„ä¸èƒ½ä¿®æ”¹çš„

            if n >= 81:
                return True

            x, y = n // 9, n % 9
            for i in range(1, 10):
                element = str(i)
                if element in row[x] or element in col[y] or element in room[get_room(x, y)]:
                    continue  # è¿™ä¸ªæ•°å­—ä¸èƒ½ç”¨

                row[x].add(element)
                col[y].add(element)
                room[get_room(x, y)].add(element)  
                board[x][y] = str(i)  # (x,y)å¡«ä¸Šiï¼Œç„¶åç»§ç»­åé¢çš„å°è¯•
                if dfs(n + 1):
                    return True
                row[x].remove(element)
                col[y].remove(element)
                room[get_room(x, y)].remove(element)
                board[x][y] = '.'  # è¿˜åŸç°åœº

            return False

        dfs(0)
```

## A38. å¤–è§‚æ•°åˆ—

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ã€Œå¤–è§‚æ•°åˆ—ã€æ˜¯ä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œä»æ•°å­— 1 å¼€å§‹ï¼Œåºåˆ—ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯å¯¹å‰ä¸€é¡¹çš„æè¿°ã€‚å‰äº”é¡¹å¦‚ä¸‹ï¼š

```
1.     1
2.     11
3.     21
4.     1211
5.     111221
```

`1` è¢«è¯»ä½œ  `"one 1"`  (`"ä¸€ä¸ªä¸€"`) , å³ `11`ã€‚
`11` è¢«è¯»ä½œ `"two 1s"` (`"ä¸¤ä¸ªä¸€"`ï¼‰, å³ `21`ã€‚
`21` è¢«è¯»ä½œ `"one 2"`,  "`one 1"` ï¼ˆ`"ä¸€ä¸ªäºŒ"` ,  `"ä¸€ä¸ªä¸€"`) , å³ `1211`ã€‚

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° *n*ï¼ˆ1 â‰¤ *n* â‰¤ 30ï¼‰ï¼Œè¾“å‡ºå¤–è§‚æ•°åˆ—çš„ç¬¬ *n* é¡¹ã€‚

æ³¨æ„ï¼šæ•´æ•°åºåˆ—ä¸­çš„æ¯ä¸€é¡¹å°†è¡¨ç¤ºä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ 

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 1
è¾“å‡º: "1"
è§£é‡Šï¼šè¿™æ˜¯ä¸€ä¸ªåŸºæœ¬æ ·ä¾‹ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 4
è¾“å‡º: "1211"
è§£é‡Šï¼šå½“ n = 3 æ—¶ï¼Œåºåˆ—æ˜¯ "21"ï¼Œå…¶ä¸­æˆ‘ä»¬æœ‰ "2" å’Œ "1" ä¸¤ç»„ï¼Œ"2" å¯ä»¥è¯»ä½œ "12"ï¼Œä¹Ÿå°±æ˜¯å‡ºç°é¢‘æ¬¡ = 1 è€Œ å€¼ = 2ï¼›ç±»ä¼¼ "1" å¯ä»¥è¯»ä½œ "11"ã€‚æ‰€ä»¥ç­”æ¡ˆæ˜¯ "12" å’Œ "11" ç»„åˆåœ¨ä¸€èµ·ï¼Œä¹Ÿå°±æ˜¯ "1211"ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/count-and-say/>

#### æ€è·¯  

ã€€ã€€`111221`å…¶å®æ˜¯`11-12-21`ï¼Œä¹Ÿå°±æ˜¯1ä¸ª1ã€1ä¸ª2ã€2ä¸ª1ã€‚  
ã€€ã€€ä»å‰ä¸€é¡¹å‘åæ¨åä¸€é¡¹ã€‚  

#### ä»£ç   

```python
class Solution:
    def countAndSay(self, n: int) -> str:
        l = ['', '1']
        for i in range(n-1):
            s = l[-1] 
            count = 1
            nxt = ''
            for i, char in enumerate(s):
                if i == len(s) - 1 or s[i+1] != char:  # ä¸‹ä¸€ä¸ªå’Œå½“å‰çš„ä¸ä¸€æ ·
                    nxt += str(count)
                    nxt += char
                    count = 1
                else:
                    count += 1
            l.append(nxt)

        return l[n]
```

## A39. ç»„åˆæ€»å’Œ

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**æ— é‡å¤å…ƒç´ **çš„æ•°ç»„ `candidates` å’Œä¸€ä¸ªç›®æ ‡æ•° `target` ï¼Œæ‰¾å‡º `candidates` ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º `target` çš„ç»„åˆã€‚

`candidates` ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚

**è¯´æ˜ï¼š**

- æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ `target`ï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚
- è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: candidates = [2,3,6,7], target = 7,
æ‰€æ±‚è§£é›†ä¸º:
[
  [7],
  [2,2,3]
]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: candidates = [2,3,5], target = 8,
æ‰€æ±‚è§£é›†ä¸º:
[
  [2,2,2,2],
  [2,3,3],
  [3,5]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/combination-sum/>

#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚`dp[i]`è®°å½•æ•°å­—`i`çš„æ‰€æœ‰ç»„æˆæƒ…å†µã€‚å¦‚ç¤ºä¾‹1å¯¹åº”`dp[2] = [[2]]`ï¼Œ`dp[4] = [[2, 2]]`ã€‚ä»`1`åˆ°`target`è¿­ä»£ã€‚  

#### ä»£ç   

```python
class Solution:
    def combinationSum(self, candidates: List[int], target: int) -> List[List[int]]:
        candidates.sort()  # 123456
        dp = []
        for num in range(target+1):
            temp = [[num]] if num in candidates else []  # ä¸€ä¸ªæ•°å°±ç»„æˆ
            for c in candidates:
                # ç”±äºå€™é€‰æ•°æ˜¯æ’è¿‡åºçš„ï¼Œå¦‚æœå½“å‰å€™é€‰æ•°å·²ç»å¤§äºtargetï¼Œå°±å¯ä»¥ä¸ç”¨ç®—æ›´å¤§çš„å€™é€‰æ•°äº†
                if num - c <= 0:  
                    break
                for prior in dp[num - c]:  # å‡å»å€™é€‰çš„æ•°çš„ç»„åˆæƒ…å†µ
                    if c >= prior[-1]:
                        temp.append(prior + [c])

            dp.append(temp)

        return dp[target]


```

## A40. ç»„åˆæ€»å’Œ II

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ `candidates` å’Œä¸€ä¸ªç›®æ ‡æ•° `target` ï¼Œæ‰¾å‡º `candidates` ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º `target` çš„ç»„åˆã€‚

`candidates` ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚

**è¯´æ˜ï¼š**

- æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ç›®æ ‡æ•°ï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚
- è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: candidates = [10,1,2,7,6,1,5], target = 8,
æ‰€æ±‚è§£é›†ä¸º:
[
  [1, 7],
  [1, 2, 5],
  [2, 6],
  [1, 1, 6]
]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: candidates = [2,5,2,1,2], target = 5,
æ‰€æ±‚è§£é›†ä¸º:
[
  [1,2,2],
  [5]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/combination-sum-ii/>

#### æ€è·¯  

ã€€ã€€dfsï¼Œéœ€è¦æ³¨æ„å»é‡ã€‚  

ã€€ã€€å…ˆæ’åºï¼Œåœ¨æ¯è½®çš„`for`å¾ªç¯ä¸­ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´ å¤–ï¼Œä¸ä¼šä½¿ç”¨å’Œä¸Šä¸€ä¸ªé‡å¤çš„å…ƒç´ ã€‚  

#### ä»£ç   

```python
class Solution:
    def combinationSum2(self, candidates: List[int], target: int) -> List[List[int]]:
        candidates.sort()
        temp = []
        ans = []

        def dfs(cur, target):
            if target < 0: return
            if target == 0:
                ans.append(temp.copy())
                return 
            for i in range(cur, len(candidates)):
                if i != cur and candidates[i] == candidates[i-1]:
                    continue
                temp.append(candidates[i])
                dfs(i+1, target - candidates[i])
                temp.pop()

        dfs(0, target)
        return ans

```

## A41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°

éš¾åº¦ `å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,0]
è¾“å‡º: 3
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,4,-1,1]
è¾“å‡º: 2
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [7,8,9,11,12]
è¾“å‡º: 1
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/first-missing-positive/>


#### æ€è·¯  

ã€€ã€€1ã€ç”±äºåªèƒ½ä½¿ç”¨`O(1)`çš„é¢å¤–ç©ºé—´ï¼Œæ‰€ä»¥**åœ¨åŸæ•°ç»„ç©ºé—´ä¸Š**è¿›è¡Œæ“ä½œã€‚  
ã€€ã€€2ã€å°è¯•ä»åŸæ•°ç»„æ„é€ ä¸€ä¸ª`[1,2,3,4,5,6,...,n]`çš„æ•°ç»„ã€‚  
ã€€ã€€3ã€éå†æ•°ç»„ï¼Œæ‰¾åˆ° `1<=å…ƒç´ <=æ•°ç»„é•¿åº¦`çš„å…ƒç´ ï¼Œå¦‚`5`ï¼Œå°†ä»–æ”¾åˆ°åº”è¯¥æ”¾ç½®çš„ä½ç½®ï¼Œå³ä¸‹æ ‡ 4ã€‚  
ã€€ã€€4ã€é‡åˆ°èŒƒå›´ä¹‹å¤–çš„æ•°å€¼ï¼Œå¦‚`-1`æˆ–è€…è¶…è¿‡æ•°ç»„é•¿åº¦çš„å€¼ï¼Œä¸äº¤æ¢ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªã€‚  
ã€€ã€€5ã€å¤„ç†ä¹‹åçš„æ•°æ®ä¸º`[1, 2, 4, 5]`ï¼Œå†éå†ä¸€éæ•°ç»„ï¼Œ`ä¸‹æ ‡+1`åº”è¯¥æ˜¯æ­£ç¡®å€¼ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªä¸ç¬¦åˆçš„å³å¯ã€‚  

**æƒ³ä¸€æƒ³**ï¼šä¸ºä»€ä¹ˆåœ¨`for`å¾ªç¯é‡ŒåµŒå¥—äº†`while`ï¼Œæ—¶é—´å¤æ‚åº¦è¿˜æ˜¯`O(n)`ï¼Ÿ

#### ä»£ç   
```python
class Solution:
    def firstMissingPositive(self, nums: List[int]) -> int:
        n = len(nums)
        for i, num in enumerate(nums):
            while 1 <= num <= n and nums[i] != nums[num-1]:  # å¦‚æœä¸ç›¸åŒå°±ä¸æ–­äº¤æ¢
                nums[i], nums[num-1] = nums[num-1], nums[i]
                num = nums[i]
            
        for i in range(1, n+1):
            if nums[i-1] != i:
                return i

        return n+1

      
```

## A42. æ¥é›¨æ°´ 

éš¾åº¦ `å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®š *n* ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

![img](_img/42.png)

ä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ **æ„Ÿè°¢ Marcos** è´¡çŒ®æ­¤å›¾ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [0,1,0,2,1,0,1,3,2,1,2,1]
è¾“å‡º: 6
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/trapping-rain-water/>


#### æ€è·¯  


ã€€ã€€å…ˆéå†ä¸€éæ•°ç»„ä¸‹æ ‡ï¼Œåˆ†åˆ«æ‰¾åˆ°æ¯ä¸ªä¸‹æ ‡å¯¹åº”çš„**å·¦ä¾§æœ€é«˜ç‚¹**å’Œ**å³ä¾§æœ€é«˜ç‚¹**ã€‚å¦‚æœåœ°åŠ¿è¾ƒä¸ºä½æ´¼ï¼Œä¹Ÿå°±æ˜¯`height[i]` < `min(å·¦ä¾§æœ€é«˜ç‚¹ï¼Œå³ä¾§æœ€é«˜ç‚¹)`ï¼Œåˆ™å¯ä»¥æ¥é›¨æ°´ã€‚å°†æ¯ä¸ªä¸‹æ ‡æ¥çš„é›¨æ°´æ•°ç´¯åŠ ã€‚  ã€€ã€€

#### ä»£ç   
```python
class Solution:
    def trap(self, height: List[int]) -> int:
        n = len(height)
        if n <= 2:
            return 0

        left_top = [0 for _ in range(n)]  # left_top[i]è¡¨ç¤ºä¸‹æ ‡iå‘å·¦çœ‹çš„æœ€é«˜ç‚¹
        right_top = [0 for _ in range(n)]  # right_top[i]è¡¨ç¤ºä¸‹æ ‡iå‘å³çœ‹çš„æœ€é«˜ç‚¹

        top = height[0] 
        for i in range(1, n):  # ä»å·¦å‘å³éå†
            left_top[i] = top
            top = max(top, height[i])

        top = height[-1]
        for i in range(n-2, -1, -1):  # ä»å³å‘å·¦éå†
            right_top[i] = top
            top = max(top, height[i])

        ans = 0
        for i in range(1, n-1):
            if height[i] < min(left_top[i], right_top[i]):
                ans += min(left_top[i], right_top[i]) - height[i]

        return ans


```

## A44. é€šé…ç¬¦åŒ¹é…

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² (`s`) å’Œä¸€ä¸ªå­—ç¬¦æ¨¡å¼ (`p`) ï¼Œå®ç°ä¸€ä¸ªæ”¯æŒ `'?'` å’Œ `'*'` çš„é€šé…ç¬¦åŒ¹é…ã€‚

```
'?' å¯ä»¥åŒ¹é…ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚
'*' å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚
```

ä¸¤ä¸ªå­—ç¬¦ä¸²**å®Œå…¨åŒ¹é…**æ‰ç®—åŒ¹é…æˆåŠŸã€‚

**è¯´æ˜:**

- `s` å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ã€‚
- `p` å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» `a-z` çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ `?` å’Œ `*`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
s = "aa"
p = "a"
è¾“å‡º: false
è§£é‡Š: "a" æ— æ³•åŒ¹é… "aa" æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
s = "aa"
p = "*"
è¾“å‡º: true
è§£é‡Š: '*' å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥:
s = "cb"
p = "?a"
è¾“å‡º: false
è§£é‡Š: '?' å¯ä»¥åŒ¹é… 'c', ä½†ç¬¬äºŒä¸ª 'a' æ— æ³•åŒ¹é… 'b'ã€‚
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥:
s = "adceb"
p = "*a*b"
è¾“å‡º: true
è§£é‡Š: ç¬¬ä¸€ä¸ª '*' å¯ä»¥åŒ¹é…ç©ºå­—ç¬¦ä¸², ç¬¬äºŒä¸ª '*' å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² "dce".
```

> **ç¤ºä¾‹ 5:**

```
è¾“å…¥:
s = "acdcb"
p = "a*c?b"
è¾“å…¥: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/wildcard-matching/>


#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ï¼Œç”¨`dp[j][i]`è¡¨ç¤º`p[0~j]`èƒ½å¦åŒ¹é…`s[0~i]`ã€‚  

ã€€ã€€ç©ºå­—ç¬¦ä¸²åªèƒ½è¢«`ç©ºå­—ç¬¦ä¸²`æˆ–`å…¨æ˜¯*çš„å­—ç¬¦ä¸²`åŒ¹é…ã€‚  

ã€€ã€€å¦‚æœåŒ¹é…ä¸²å½“å‰ä¸º`?`ï¼Œæˆ–è€…å½“å‰`p[j]`=`s[i]`ï¼Œåˆ™`dp[j][i]` =`dp[j-1][i-1]`ã€‚  

ã€€ã€€å¦‚æœåŒ¹é…ä¸²å½“å‰ä¸º`*`ï¼Œåˆ™`dp[j][i]`=`dp[j][i-1]`or`dp[j-1][i]`ã€‚  

#### ä»£ç   

ã€€ã€€ç‰ˆæœ¬ä¸€(ç©ºå­—ç¬¦ä¸²åšç‰¹ä¾‹å¤„ç†)ï¼š

```python
class Solution:
    def isMatch(self, s: str, p: str) -> bool:
        # p[:j] å¦‚æœèƒ½åŒ¹é… s[:i]
        if len(s) == 0:
            return len(p.strip('*')) == 0
        elif len(p) == 0:
            return False

        dp = [[False for i in range(len(s))] for j in range(len(p))]
        for j in range(len(p)):
            for i in range(len(s)):
                if j == 0:  # é•¿åº¦ä¸º1çš„pattern
                    dp[j][i] = p[0] == '*' or (i==0 and (p[0] == '?' or p[0] == s[0])) 
                    continue
                if i == 0:  # é•¿åº¦å¤§äº1çš„patternåŒ¹é…é•¿åº¦ä¸º1çš„s
                    t = p[:j+1].strip('*') 
                    dp[j][i] = t == '' or t == '?' or t == s[0]
                    continue

                if p[j] == '?':
                    dp[j][i] = dp[j-1][i-1]
                elif p[j] == '*':
                    dp[j][i] = any(dp[j-1][:i+1])
                else:
                    dp[j][i] = p[j]==s[i] and dp[j-1][i-1]
            
        return dp[-1][-1]
```

ã€€ã€€ç®€åŒ–ç‰ˆ(dpæ•°ç»„ä¸­è€ƒè™‘ç©ºå­—ç¬¦ä¸²)ï¼š

```python
class Solution:
    def isMatch(self, s: str, p: str) -> bool:
        # p[:j] å¦‚æœèƒ½åŒ¹é… s[:i]
        ls = len(s)
        lp = len(p)

        dp = [[False for i in range(ls+1)] for j in range(lp+1)]
        dp[0][0] = True # ç©ºåŒ¹é…ç©º
        for j in range(1, lp+1):  # å¤šä¸ª*åŒ¹é…ç©ºå­—ç¬¦ä¸²
            if p[j-1] == '*': dp[j][0] = True
            else: break

        for i in range(1, ls+1):
            for j in range(1, lp+1):
                if p[j-1] == '?' or p[j-1] == s[i-1]:
                    dp[j][i] = dp[j-1][i-1]
                elif p[j-1] == '*':
                    dp[j][i] = dp[j][i-1] or dp[j-1][i]
            
        return dp[-1][-1]
```

## A45. è·³è·ƒæ¸¸æˆ II 

éš¾åº¦ `å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚

æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚

ä½ çš„ç›®æ ‡æ˜¯ä½¿ç”¨æœ€å°‘çš„è·³è·ƒæ¬¡æ•°åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [2,3,1,1,4]
è¾“å‡º: 2
è§£é‡Š: è·³åˆ°æœ€åä¸€ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ•°æ˜¯ 2ã€‚
     ä»ä¸‹æ ‡ä¸º 0 è·³åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œè·³ 1 æ­¥ï¼Œç„¶åè·³ 3 æ­¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚
```

> **è¯´æ˜:**

å‡è®¾ä½ æ€»æ˜¯å¯ä»¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/jump-game-ii/>

#### æ€è·¯  

ã€€ã€€è´ªå¿ƒç®—æ³•ï¼Œåœ¨ä»»æ„ä¸€ä¸ªä½ç½®æ—¶ï¼Œä¸‹ä¸€æ¬¡è·³è·ƒçš„è½ç‚¹åªæœ‰**å”¯ä¸€çš„æœ€ä¼˜é€‰æ‹©**ã€‚  

ã€€ã€€ä¾‹å¦‚`[2, 3, 1]`ï¼Œåˆå§‹ä½ç½®åœ¨`nums[0]`ï¼Œæœ€è¿œå¯è·³2ä¸ªå•ä½ï¼Œæœ‰å¦‚ä¸‹çš„è®¡ç®—æ³•åˆ™ï¼š  

```python
cur:    â†“
num:    2 3 1 
offset: 0 1 2 
weight: 2 4 3
```

ã€€ã€€offsetæ˜¯ä¸å½“å‰ä½ç½®çš„åç§»(å› ä¸ºè·³çš„è¿œä¸€äº›å¯ä»¥ä¸ºä¸‹ä¸€æ¬¡è·³è·ƒèŠ‚çœè·ç¦»)ï¼Œ`weight`æ˜¯`num`ä¸`offset`ä¹‹å’Œï¼Œæœ€ç»ˆè½ç‚¹ä¸º`weight`æœ€å¤§çš„ä½ç½®ã€‚  

#### ä»£ç   

```python
class Solution:
    def jump(self, nums: List[int]) -> int:
        cur = 0
        times = 0
        while cur < len(nums) - 1:
            max_weight = 0
            nxt = None
            for i in range(cur + 1, cur + nums[cur] + 1):
                if i >= len(nums) - 1:
                    return times + 1

                offset = i - cur
                weight = nums[i] + offset
                if weight > max_weight:
                    max_weight = weight
                    nxt = i

            times += 1
            cur = nxt

        return times
```

## A46. å…¨æ’åˆ—

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª **æ²¡æœ‰é‡å¤** æ•°å­—çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [1,2,3]
è¾“å‡º:
[
  [1,2,3],
  [1,3,2],
  [2,1,3],
  [2,3,1],
  [3,1,2],
  [3,2,1]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/permutations/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚  

#### **ä»£ç :**

```python
class Solution:
    def permute(self, nums: List[int]) -> List[List[int]]:
        temp = []
        ans = []
        l = len(nums)
        def dfs(n):  # 0~2
            if n > l - 1:
                ans.append(temp.copy())
                return 

            for num in nums:
                if num in temp:
                    continue

                temp.append(num)
                dfs(n+1)
                temp.pop()  # è¿˜åŸç°åœº
                
        dfs(0)
        return ans
      
```

## A47. å…¨æ’åˆ— II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ—ï¼Œè¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [1,1,2]
è¾“å‡º:
[
  [1,1,2],
  [1,2,1],
  [2,1,1]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/permutations-ii/>

#### **æ€è·¯:**

ã€€ã€€dfs + é›†åˆå»é‡ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def permuteUnique(self, nums: List[int]) -> List[List[int]]:
        temp = []
        used = set()  # ä½¿ç”¨è¿‡çš„ä¸‹æ ‡
        ans = set()
        l = len(nums)
        def dfs(n):  # 
            if n > l - 1:
                ans.add(tuple(temp))
                return 

            for i in range(l):
                if i in used:
                    continue
                used.add(i)
                temp.append(nums[i])

                dfs(n+1)

                used.remove(i)  # è¿˜åŸç°åœº
                temp.pop()

        dfs(0)
        return [_ for _ in ans]
      
```

## A48. æ—‹è½¬å›¾åƒ

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª *n* Ã— *n* çš„äºŒç»´çŸ©é˜µè¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚

å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚

**è¯´æ˜ï¼š**

ä½ å¿…é¡»åœ¨**åŸåœ°**æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚**è¯·ä¸è¦**ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚

> **ç¤ºä¾‹ 1:**

```
ç»™å®š matrix = 
[
  [1,2,3],
  [4,5,6],
  [7,8,9]
],

åŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:
[
  [7,4,1],
  [8,5,2],
  [9,6,3]
]
```

> **ç¤ºä¾‹ 2:**

```
ç»™å®š matrix =
[
  [ 5, 1, 9,11],
  [ 2, 4, 8,10],
  [13, 3, 6, 7],
  [15,14,12,16]
], 

åŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:
[
  [15,13, 2, 5],
  [14, 3, 4, 1],
  [12, 6, 8, 9],
  [16, 7,10,11]
]
```

#### é¢˜ç›®é“¾æ¥

 <https://leetcode-cn.com/problems/rotate-image/>


#### æ€è·¯  

ã€€ã€€<img src='_img/48.png' style="zoom:50%;">  
ã€€ã€€æ‰£å››ä¸ªè¾¹ç•Œå‡ºæ¥ã€‚å››ä¸ªè¾¹ç•Œå¯¹åº”çš„ç‚¹äº¤æ¢ã€‚æ¯éå†ä¸€å±‚ï¼Œå°±å¾€é‡Œç¼©ä¸€ä¸ªçŸ©é˜µã€‚  

#### ä»£ç   
```python
class Solution:
    def rotate(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        m = matrix
        n = len(m) - 1
        for l in range((n+1) // 2):  # ä»å¤–å¾€é‡Œç¬¬å‡ å±‚
            for i in range(n - l * 2):
                m[l][l+i], m[i+l][n-l], m[n-l][n-l-i], m[n-l-i][l] =  m[n-l-i][l], m[l][l+i], m[l+i][n-l], m[n-l][n-l-i] 

```


## A49. å­—æ¯å¼‚ä½è¯åˆ†ç»„

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå°†å­—æ¯å¼‚ä½è¯ç»„åˆåœ¨ä¸€èµ·ã€‚å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: ["eat", "tea", "tan", "ate", "nat", "bat"],
è¾“å‡º:
[
  ["ate","eat","tea"],
  ["nat","tan"],
  ["bat"]
]
```

**è¯´æ˜ï¼š**

- æ‰€æœ‰è¾“å…¥å‡ä¸ºå°å†™å­—æ¯ã€‚
- ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/group-anagrams/>

#### æ€è·¯  

ã€€ã€€å°†æ¯ä¸ªå­—ç¬¦ä¸²æ’åºåçš„é¡ºåºä½œä¸º`key`æ’å…¥åˆ°å­—å…¸ä¸­ã€‚  

ã€€ã€€`"ate"`å’Œ`"eat"`æ’åºåçš„é¡ºåºéƒ½ä¸º`"aet"`ã€‚  

#### ä»£ç   

```python
class Solution:
    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
        dict_t = {}
        for s in strs:
            key = ''.join(sorted(s))
            if key not in dict_t:
                dict_t[key] = [s]
            else:
                dict_t[key].append(s)

        return list(dict_t.values())

```

## A50. Pow(x, n)

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å®ç° [pow(*x*, *n*)](https://www.cplusplus.com/reference/valarray/pow/) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 2.00000, 10
è¾“å‡º: 1024.00000
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 2.10000, 3
è¾“å‡º: 9.26100
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: 2.00000, -2
è¾“å‡º: 0.25000
è§£é‡Š: 2-2 = 1/22 = 1/4 = 0.25
```

**è¯´æ˜:**

- -100.0 < *x* < 100.0
- *n* æ˜¯ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231, 231 âˆ’ 1] ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/powx-n/>

#### **æ€è·¯:**

ã€€ã€€äºŒåˆ†æ³•ï¼Œå¦‚æœ`n`æ˜¯å¶æ•°ã€‚åˆ™`pow(x, n) = pow(x, n//2) ^ 2`ï¼Œå¦‚æœ`n`æ˜¯å¥‡æ•°ï¼Œåˆ™`pow(x, n) = pow(x, n//2) ^ 2 * x`ã€‚

ã€€ã€€å¦‚æœ`n`æ˜¯è´Ÿæ•°ï¼ŒæŒ‰`n`çš„ç»å¯¹å€¼è®¡ç®—å†å–å€’æ•°å³å¯ã€‚  ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def myPow(self, x: float, n: int) -> float:
        if n == 0:
            return 1

        def helper(x, n):
            if n == 1:
                return x
            squre = helper(x, n//2) 
            squre = squre * squre

            if n % 2 == 0:
                return squre
            else:
                return squre * x

        if n < 0:
            return 1 / helper(x, -n)
        else:
            return helper(x, n)

```

## A51. Nçš‡å

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

*n* çš‡åé—®é¢˜ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† *n* ä¸ªçš‡åæ”¾ç½®åœ¨ *n*Ã—*n* çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚

<img src="_img/51.png" style="zoom:100%"/>

ä¸Šå›¾ä¸º 8 çš‡åé—®é¢˜çš„ä¸€ç§è§£æ³•ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•° *n*ï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ *n* çš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

æ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªæ˜ç¡®çš„ *n* çš‡åé—®é¢˜çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ `'Q'` å’Œ `'.'` åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 4
è¾“å‡º: [
 [".Q..",  // è§£æ³• 1
  "...Q",
  "Q...",
  "..Q."],

 ["..Q.",  // è§£æ³• 2
  "Q...",
  "...Q",
  ".Q.."]
]
è§£é‡Š: 4 çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/n-queens/>

#### **æ€è·¯:**

ã€€ã€€é€’å½’ã€‚æ¯æ¬¡è€ƒè™‘ä¸€è¡Œä¸­çš„æ”¾ç½®ä½ç½®å³å¯ã€‚  

ã€€ã€€æ”¾ç½®è¿‡ç¨‹ä¸­æ³¨æ„é¿å¼€å…¶ä»–çš‡åï¼Œå³ä¸èƒ½åœ¨åŒä¸€åˆ—ï¼Œå¹¶ä¸”åæ ‡`i+j`å’Œ`i-j`éƒ½æœªå‡ºç°è¿‡(æ–œç€äº’ç›¸æ”»å‡»)ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def solveNQueens(self, n: int) -> List[List[str]]:
        ans = []
        def recur(queens, sum, differ):  # é€’å½’
            row = len(queens)
            if row == n:
                # print(queens)
                ans.append(['.' * q  + 'Q' + '.' * (n-q-1) for q in queens])
                return 

            for i in range(n):  # å¤„ç†ä¸€è¡Œ
                if i not in queens and row + i not in sum and row - i not in differ:
                    recur(queens + [i], sum + [row + i], differ + [row - i])
        
        recur([], [], [])
        return ans
      
```

## A52. Nçš‡å II

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

*n* çš‡åé—®é¢˜ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† *n* ä¸ªçš‡åæ”¾ç½®åœ¨ *n*Ã—*n* çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚

<img src="_img/52.png" style="zoom:100%"/>

ä¸Šå›¾ä¸º 8 çš‡åé—®é¢˜çš„ä¸€ç§è§£æ³•ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•° *n*ï¼Œè¿”å› *n* çš‡åä¸åŒçš„è§£å†³æ–¹æ¡ˆçš„æ•°é‡ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 4
è¾“å‡º: 2
è§£é‡Š: 4 çš‡åé—®é¢˜å­˜åœ¨å¦‚ä¸‹ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚
[
 [".Q..",  // è§£æ³• 1
  "...Q",
  "Q...",
  "..Q."],

 ["..Q.",  // è§£æ³• 2
  "Q...",
  "...Q",
  ".Q.."]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/n-queens-ii/>

#### **æ€è·¯:**

ã€€ã€€å’Œä¸Šä¸€é¢˜ä¸€æ ·ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def totalNQueens(self, n: int) -> int:
        ans = 0
        def recur(queens, sum, differ):  # é€’å½’
            nonlocal ans
            row = len(queens)
            if row == n:
                ans += 1
                return 

            for i in range(n):  # å¤„ç†ä¸€è¡Œ
                if i not in queens and row + i not in sum and row - i not in differ:
                    recur(queens + [i], sum + [row + i], differ + [row - i])
        
        recur([], [], [])
        return ans
      
```

## A53. æœ€å¤§å­åºå’Œ

éš¾åº¦ `ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4],
è¾“å‡º: 6
è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚
```

> **è¿›é˜¶:**

å¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º O(*n*) çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„åˆ†æ²»æ³•æ±‚è§£ã€‚ 

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximum-subarray/>


#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ³•ã€‚å°†åˆ—è¡¨`nums`ä»ä¸­é—´åˆ‡æˆä¸¤åŠï¼Œæœ€å¤§å­åºå’Œè¦ä¹ˆåœ¨å·¦åŠè¾¹ï¼Œè¦ä¹ˆåœ¨å³åŠè¾¹ï¼Œè¦ä¹ˆæ¨ªè·¨å·¦å³ä¸¤è¾¹ã€‚å³`maxSubArray(i, j)` = max(`maxSubArray(i, mid)`ï¼Œ`maxSubArray(mid, j)`ï¼Œ`crossOver(mid)`)ã€‚  
ã€€ã€€å·¦å³ä¸¤è¾¹çš„æœ€å¤§å­åºå’Œå‡ä½¿ç”¨é€’å½’æ¥è®¡ç®—ï¼Œæ¨ªè·¨çš„æœ€å¤§å­åºå’Œä½¿ç”¨å¾ªç¯æ¥è®¡ç®—ã€‚åˆ†æ²»æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º`O(nlogn)`ã€‚**æäº¤æ–¹æ³•ä¸€çš„ä»£ç ä¼šè¶…æ—¶**ã€‚  

ã€€ã€€æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ã€‚ç”¨`m[i]`è®°å½•ä»¥æŸä¸ªå…ƒç´ ä¸ºæœ€åä¸€ä¸ªå…ƒç´ æ—¶çš„æœ€å¤§å­åºå’Œã€‚å¦‚æœä»¥å‰ä¸€ä¸ªæ•°ç»“å°¾çš„æœ€å¤§å­åºå’Œä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆå½“å‰çš„æ•°ä¸ä½¿ç”¨ä¹‹å‰çš„æ•°åè€Œæ›´å¤§ã€‚  

ã€€ã€€<img src='_img/a53.png' style="zoom:35%;">

ã€€ã€€ä¸€æ¬¡éå†åã€‚`m[i]`çš„`å…¨å±€æœ€å¤§å€¼`å³ä¸ºæ•´ä¸ªæ•°ç»„çš„æœ€å¤§å­åºå’Œã€‚  è¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º`O(n)`ï¼›è‹¥ç”¨å›ºå®šç©ºé—´æ¥å­˜æ”¾`m[i]`ï¼Œç©ºé—´å¤æ‚åº¦ä¸º`O(1)`ã€‚  


#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€(åˆ†æ²»æ³•)ï¼š

```python
class Solution:
    
    def maxSubArray(self, nums: List[int]) -> int:
        def helper(nums, i, j):
            if j <= i:
                return -99999
            if (j-i) == 1:
                return nums[i]

            mid = (i + j) // 2
            left = helper(nums, i, mid)  # è®¡ç®—å·¦åŠè¾¹çš„æœ€å¤§å­åºå’Œ
            right = helper(nums, mid, j)  # è®¡ç®—å³åŠè¾¹çš„æœ€å¤§å­åºå’Œ
            ans = now_sum = nums[mid-1] + nums[mid]
            # è®¡ç®—ä¸­é—´çš„æœ€å¤§å­åºå’Œ
            for i in range(mid-2, -1, -1):
                now_sum += nums[i]
                ans = max(ans, now_sum)
            now_sum = ans
            for i in range(mid+1, len(nums)):
                now_sum += nums[i]
                ans = max(ans, now_sum)

            return max(left, right, ans)

        return helper(nums, 0, len(nums))

```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    
    def maxSubArray(self, nums: List[int]) -> int:
        n = len(nums)
        if n == 1:
            return nums[0]
        ans = m_i = nums[0]  # ä»¥æŸä¸ªç»“ç‚¹ä¸ºæœ€åä¸€ä¸ªå…ƒç´ çš„æœ€å¤§å­åºå’Œ
        for i in range(1, n):
            num = nums[i]
            # æ›´æ–°ä¸‹ä¸€ä¸ªiçš„m_i
            if m_i <= 0:
                m_i = num
            else:
                m_i += num
            ans = max(ans, m_i)
        return ans

```

## A54. èºæ—‹çŸ©é˜µ

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåŒ…å« *m* x *n* ä¸ªå…ƒç´ çš„çŸ©é˜µï¼ˆ*m* è¡Œ, *n* åˆ—ï¼‰ï¼Œè¯·æŒ‰ç…§é¡ºæ—¶é’ˆèºæ—‹é¡ºåºï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
[
 [ 1, 2, 3 ],
 [ 4, 5, 6 ],
 [ 7, 8, 9 ]
]
è¾“å‡º: [1,2,3,6,9,8,7,4,5]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
[
  [1, 2, 3, 4],
  [5, 6, 7, 8],
  [9,10,11,12]
]
è¾“å‡º: [1,2,3,4,8,12,11,10,9,5,6,7]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/spiral-matrix/>

#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šä»å¤–å‘é‡Œï¼Œæ¯å±‚ç”¨4ä¸ª`for`å¾ªç¯ï¼Œè¾¹ç•Œåˆ¤æ–­æœ‰ç‚¹çƒ¦ã€‚  
ã€€ã€€æ–¹æ³•äºŒï¼šåªç”¨ä¸€å±‚çº¿æ€§å¾ªç¯ã€‚å°†å·²èµ°è¿‡çš„æ ‡è®°ä¸º`None`ã€‚å½“é‡åˆ°è¾¹ç•Œæˆ–è€…å·²èµ°è¿‡çš„ä½ç½®æ—¶æ”¹å˜æ–¹å‘ã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š

```python
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        if len(matrix) == 0:
            return []
        m, n = len(matrix), len(matrix[0])  # mè¡Œnåˆ—
        ans = []
        for l in range(min(m,n)//2):
            for i in range(n-l*2-1):
                ans.append(matrix[l][l+i])
            for i in range(m-l*2-1):
                ans.append(matrix[l+i][n-l-1])
            for i in range(n-l*2-1, 0, - 1):
                ans.append(matrix[m-l-1][l+i])
            for i in range(m-l*2-1, 0, -1):
                ans.append(matrix[l+i][l])
        
        # å¦‚æœå°è¾¹æ˜¯å¥‡æ•°éœ€è¦å•ç‹¬æœç´¢æœ€ä¸­å¿ƒçš„ä¸€è¡Œ(æˆ–ä¸€åˆ—)
        if m >= n and n % 2 == 1:
            for i in range(m-n//2*2):
                ans.append(matrix[n//2+i][n//2])

        if n > m and m % 2 == 1:
            for i in range(n-m//2*2):
                ans.append(matrix[m//2][m//2+i])

        return ans
```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        r, i, j, di, dj = [], 0, 0, 0, 1
        if matrix != []:
            for _ in range(len(matrix) * len(matrix[0])):
                r.append(matrix[i][j])
                matrix[i][j] = None
                if matrix[(i + di) % len(matrix)][(j + dj) % len(matrix[0])] is None:
                    di, dj = dj, -di  # å¦‚æœåˆ°è¾¾è¾¹ç•Œæˆ–è€…å·²ç»èµ°è¿‡ï¼Œåˆ™æ”¹å˜æ–¹å‘
                i += di
                j += dj
        return r
```

## A55. è·³è·ƒæ¸¸æˆ 

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚

æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚

åˆ¤æ–­ä½ æ˜¯å¦èƒ½å¤Ÿåˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [2,3,1,1,4]
è¾“å‡º: true
è§£é‡Š: æˆ‘ä»¬å¯ä»¥å…ˆè·³ 1 æ­¥ï¼Œä»ä½ç½® 0 åˆ°è¾¾ ä½ç½® 1, ç„¶åå†ä»ä½ç½® 1 è·³ 3 æ­¥åˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,2,1,0,4]
è¾“å‡º: false
è§£é‡Š: æ— è®ºæ€æ ·ï¼Œä½ æ€»ä¼šåˆ°è¾¾ç´¢å¼•ä¸º 3 çš„ä½ç½®ã€‚ä½†è¯¥ä½ç½®çš„æœ€å¤§è·³è·ƒé•¿åº¦æ˜¯ 0 ï¼Œ æ‰€ä»¥ä½ æ°¸è¿œä¸å¯èƒ½åˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/jump-game/>

#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šç”¨å˜é‡`most_far`è®°å½•èƒ½è·³åˆ°çš„æœ€è¿œä½ç½®ï¼Œæ¯æ¬¡éƒ½æ›´æ–°èƒ½è·³åˆ°çš„æœ€è¿œä½ç½®ã€‚å¦‚æœèƒ½è·³åˆ°çš„æœ€è¿œä½ç½®å°äºå½“å‰æŸ¥æ‰¾çš„ä½ç½®ï¼Œåˆ™è·³ä¸åˆ°æœ€åã€‚  
ã€€ã€€æ–¹æ³•äºŒï¼šä»å³å¾€å·¦éå†ï¼Œå¦‚æœæŸä¸ªä½ç½®èƒ½èµ°åˆ°æœ€ååˆ™æˆªæ–­åé¢çš„å…ƒç´ ã€‚å¦‚æœæŸä¸ªå…ƒç´ ä¸º`0`åˆ™ä»å‰é¢æ‰¾èƒ½èµ°åˆ°å®ƒåé¢çš„ã€‚

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š

```python
class Solution:
    def canJump(self, nums: List[int]) -> bool:
        n = len(nums)
        most_far = 0
        for i in range(n):
            if most_far < i:
                return False
            if i + nums[i] > most_far:
                most_far = i + nums[i]
            
        return True
```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def canJump(self, nums: List[int]) -> bool:
        n = len(nums)
        if n == 1:
            return True

        j = 0
        for i in range(n-2,-1,-1):
            if nums[i] == 0 or j > 0:  # å‡ºç°äº†æˆ–ä¹‹å‰å‡ºç°è¿‡0ï¼Œåˆ™æ¯æ¬¡éƒ½åŠ ä¸€
                j += 1
            if nums[i] >= j:  # å¦‚æœå½“å‰ä½ç½®èƒ½è·³è¿‡æœ€åä¸€ä¸ª0ï¼Œåˆ™å½’0
                j = 0

        return j == 0
```

## A56. åˆå¹¶åŒºé—´

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å‡ºä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œè¯·åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [[1,3],[2,6],[8,10],[15,18]]
è¾“å‡º: [[1,6],[8,10],[15,18]]
è§£é‡Š: åŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [[1,4],[4,5]]
è¾“å‡º: [[1,5]]
è§£é‡Š: åŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/merge-intervals/>


#### æ€è·¯  


ã€€ã€€å…ˆå°†`intervals`æ’åºï¼Œä»¤`ans`=`[intervals[0]]`ï¼Œå–`intervals`ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å°è¯•ä¸`ans`çš„æœ€åä¸€ä¸ªå…ƒç´ åˆå¹¶ã€‚å¦‚æœé‡åˆï¼Œåˆ™åˆå¹¶åæ”¾å›`ans[-1]`ï¼›å¦‚æœä¸é‡åˆï¼Œåˆ™`append`åˆ°`ans`çš„æœ€åã€‚  

#### ä»£ç   
```python
class Solution:
    def merge(self, intervals: List[List[int]]) -> List[List[int]]:
        if len(intervals) == 0:
            return []
        s = sorted(intervals)
        ans = [s[0]]
        for i in s[1:]:
            if i[0] <= ans[-1][1]:
                ans[-1] = [ans[-1][0], max(i[1], ans[-1][1])] 
            else:
                ans.append(i)

        return ans

```

## A57. æ’å…¥åŒºé—´

éš¾åº¦ `å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å‡ºä¸€ä¸ª*æ— é‡å çš„ ï¼Œ*æŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ã€‚

åœ¨åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œä½ éœ€è¦ç¡®ä¿åˆ—è¡¨ä¸­çš„åŒºé—´ä»ç„¶æœ‰åºä¸”ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: intervals = [[1,3],[6,9]], newInterval = [2,5]
è¾“å‡º: [[1,5],[6,9]]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: intervals = [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval = [4,8]
è¾“å‡º: [[1,2],[3,10],[12,16]]
è§£é‡Š: è¿™æ˜¯å› ä¸ºæ–°çš„åŒºé—´ [4,8] ä¸ [3,5],[6,7],[8,10] é‡å ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/insert-interval/>


#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šæŠŠ`newInterval`æ’å…¥åˆ°`intervals`çš„æœ€åã€‚ç„¶åç”¨ä¸Šä¸€é¢˜[A56. åˆå¹¶åŒºé—´](/array?id=a56-åˆå¹¶åŒºé—´)çš„ç®—æ³•ã€‚  
ã€€ã€€æ–¹æ³•äºŒï¼šåˆ†åˆ«ç”¨`no_over_first`ã€ `no_over_last` å’Œ`over_first`è®°å½•`newInterval`å‰æœªé‡å çš„ç¬¬ä¸€ä¸ªä½ç½®ã€`newInterval`åæœªé‡å çš„ç¬¬ä¸€ä¸ªä½ç½®å’Œé‡å çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚

ã€€ã€€å¦‚æœæ²¡æœ‰ä»»ä½•é‡å ï¼Œç›´æ¥æ’å…¥åˆ°ç›¸åº”ä½ç½®å³å¯ã€‚  

ã€€ã€€å¦‚æœæœ‰é‡å ï¼Œç­”æ¡ˆæ˜¯å°†`é‡å ä½ç½®ä¹‹é—´çš„åˆ—è¡¨`ã€`é‡å ä½ç½®çš„é‡å è®¡ç®—ç»“æœ`å’Œ`no_over_last`åŠä¹‹åçš„åˆ—è¡¨ç»„åˆèµ·æ¥ã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def insert(self, intervals: List[List[int]], newInterval: List[int]) -> List[List[int]]:
        if len(intervals) == 0:
            return [newInterval]
        
        no_over_first, no_over_last = -1, len(intervals)
        over_first = -1

        for i, t in enumerate(intervals):
            if t[1] < newInterval[0]:
                no_over_first = i
            if over_first == -1 and newInterval[0] <= t[1] and newInterval[1] >= t[0]:
                over_first = i
            if no_over_last == len(intervals) and newInterval[1] < t[0]:
                no_over_last = i

        if over_first == -1:  # æ²¡æœ‰ä»»ä½•é‡å 
            return intervals[:no_over_first+1] + [newInterval] + intervals[no_over_last:]
        
        m_0 = min(intervals[over_first][0], newInterval[0])
        m_1 = max(intervals[no_over_last-1][1], newInterval[1])
        middle = [[m_0, m_1]]

        ans = intervals[:over_first] + middle + intervals[no_over_last:]
        return ans

```

## A58. æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä»…åŒ…å«å¤§å°å†™å­—æ¯å’Œç©ºæ ¼ `' '` çš„å­—ç¬¦ä¸² `s`ï¼Œè¿”å›å…¶æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ã€‚å¦‚æœå­—ç¬¦ä¸²ä»å·¦å‘å³æ»šåŠ¨æ˜¾ç¤ºï¼Œé‚£ä¹ˆæœ€åä¸€ä¸ªå•è¯å°±æ˜¯æœ€åå‡ºç°çš„å•è¯ã€‚

å¦‚æœä¸å­˜åœ¨æœ€åä¸€ä¸ªå•è¯ï¼Œè¯·è¿”å› 0 ã€‚

**è¯´æ˜ï¼š**ä¸€ä¸ªå•è¯æ˜¯æŒ‡ä»…ç”±å­—æ¯ç»„æˆã€ä¸åŒ…å«ä»»ä½•ç©ºæ ¼å­—ç¬¦çš„ **æœ€å¤§å­å­—ç¬¦ä¸²**ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: "Hello World"
è¾“å‡º: 5
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/length-of-last-word/>

#### æ€è·¯  

ã€€ã€€å…ˆå»æ‰æœ€å³è¾¹çš„ç©ºæ ¼ï¼Œç„¶åå†ä»å³å¾€å·¦æ‰¾ç©ºæ ¼ã€‚ 

#### ä»£ç   

```python
class Solution:
    def lengthOfLastWord(self, s: str) -> int:
        s = s.rstrip(' ')
        x = s.rfind(' ')
        if x != -1:  # æ²¡æœ‰ç©ºæ ¼
            return len(s) - x - 1
        else:
            return len(s)
          
```

## A59. èºæ—‹çŸ©é˜µ II

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° *n*ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° *n*2 æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„æ­£æ–¹å½¢çŸ©é˜µã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 3
è¾“å‡º:
[
 [ 1, 2, 3 ],
 [ 8, 9, 4 ],
 [ 7, 6, 5 ]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/spiral-matrix-ii/>


#### æ€è·¯  


ã€€ã€€ä½¿ç”¨å’Œ[A54. èºæ—‹çŸ©é˜µ](/array?id=a54-èºæ—‹çŸ©é˜µ)ä¸€æ ·çš„è§£æ³•ã€‚åªç”¨ä¸€å±‚çº¿æ€§å¾ªç¯ã€‚å¼€å§‹æ—¶å°†æ‰€æœ‰çš„éƒ½ä»¥`0`åˆå§‹åŒ–ã€‚å½“é‡åˆ°è¾¹ç•Œæˆ–è€…é`0`çš„ä½ç½®æ—¶æ”¹å˜æ–¹å‘ã€‚  

#### ä»£ç   
```python
class Solution:
    def generateMatrix(self, n: int) -> List[List[int]]:
        ans = [[0 for i in range(n)] for j in range(n)]
        x = y = 0
        dx, dy = 0, 1
        for i in range(n**2): # 0-8
            ans[x][y] = i + 1
            if x + dx < 0 or x + dx >= n or y + dy < 0 or y + dy >= n or ans[x + dx][y + dy] != 0:
                dx, dy = dy, -dx
            x += dx
            y += dy

        return ans
```

## A60. ç¬¬kä¸ªæ’åˆ—

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å‡ºé›†åˆ `[1,2,3,â€¦,*n*]`ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ *n*! ç§æ’åˆ—ã€‚

æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ *n* = 3 æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š

1. `"123"`
2. `"132"`
3. `"213"`
4. `"231"`
5. `"312"`
6. `"321"`

ç»™å®š *n* å’Œ *k*ï¼Œè¿”å›ç¬¬ *k* ä¸ªæ’åˆ—ã€‚

**è¯´æ˜ï¼š**

- ç»™å®š *n* çš„èŒƒå›´æ˜¯ [1, 9]ã€‚
- ç»™å®š *k* çš„èŒƒå›´æ˜¯[1,  *n*!]ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: n = 3, k = 3
è¾“å‡º: "213"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: n = 4, k = 9
è¾“å‡º: "2314"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/permutation-sequence/>

#### **æ€è·¯:**

ã€€ã€€ç›¸åŒçš„ç¬¬ä¸€ä½æœ‰`(n-1)!`ç§å¯èƒ½ï¼Œç›¸åŒçš„å‰äºŒä½æœ‰`(n-2)!`ç§å¯èƒ½â€¦â€¦ç”¨æ•´é™¤æ‰¾å‡ºæ˜¯ç¬¬å‡ ç§å¯èƒ½ï¼Œå†åˆ°æ•°ç»„ä¸­å–å³å¯ï¼Œæ³¨æ„ç”¨è¿‡çš„æ•°å­—è¦å»æ‰å‡ºæ¥ã€‚  ã€€ã€€ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def getPermutation(self, n: int, k: int) -> str:
        factorial = [1 for _ in range(n+1)]  # é˜¶ä¹˜
        for i in range(2, n+1):
            factorial[i] = factorial[i-1] * i

        # n * (n-1) * (n-2).....
        ans = ''

        t = n - 1
        k = k - 1
        set_nums = list(range(1, n+1))

        while t >= 0:
            cur = k // factorial[t]  # è¿™ä¸€ä½æ˜¯ç¬¬å‡ ä¸ªæ•°å­—
            ans += str(set_nums[cur])
            set_nums.pop(cur)
            k -= cur * factorial[t]
            t -= 1
        return ans

```

## A61. æ—‹è½¬é“¾è¡¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ—‹è½¬é“¾è¡¨ï¼Œå°†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹å‘å³ç§»åŠ¨ *k* ä¸ªä½ç½®ï¼Œå…¶ä¸­ *k* æ˜¯éè´Ÿæ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 1->2->3->4->5->NULL, k = 2
è¾“å‡º: 4->5->1->2->3->NULL
è§£é‡Š:
å‘å³æ—‹è½¬ 1 æ­¥: 5->1->2->3->4->NULL
å‘å³æ—‹è½¬ 2 æ­¥: 4->5->1->2->3->NULL
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 0->1->2->NULL, k = 4
è¾“å‡º: 2->0->1->NULL
è§£é‡Š:
å‘å³æ—‹è½¬ 1 æ­¥: 2->0->1->NULL
å‘å³æ—‹è½¬ 2 æ­¥: 1->2->0->NULL
å‘å³æ—‹è½¬ 3 æ­¥: 0->1->2->NULL
å‘å³æ—‹è½¬ 4 æ­¥: 2->0->1->NULL
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/rotate-list/>

#### **æ€è·¯:**

ã€€ã€€å…¶å®å°±æ˜¯å°†å€’æ•°ç¬¬kä¸ªå…ƒç´ ä½œä¸ºå¤´ï¼ŒåŸæ¥çš„å¤´æ¥åˆ°åŸæ¥çš„å°¾ä¸Šã€‚  

ã€€ã€€æ‰¾åˆ°å€’æ•°ç¬¬kä¸ªå…ƒç´ å¯ä»¥ç”¨ä¸Šä¸€é¢˜[A19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªç»“ç‚¹](/dual_pointer?id=a19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹)çš„æ–¹æ³•ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def rotateRight(self, head: ListNode, k: int) -> ListNode:
        if not head or not head.next:
            return head

        fast = slow = head
        i = 0
        while i < k:
            if fast.next:
                fast = fast.next
                i += 1
            else:
                fast = head
                k = k % (i+1)
                i = 0

        while fast.next:
            fast = fast.next
            slow = slow.next
        
        if not slow.next:  # å¾ªç¯äº†è‹¥å¹²åœˆ
            return head
        
        new_head = slow.next  # æ–°çš„å¤´ç»“ç‚¹
        slow.next = None
        temp = new_head
        while temp.next:
            temp = temp.next
        
        temp.next = head
        return new_head

```

## A62. ä¸åŒè·¯å¾„

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª *m x n* ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œFinishâ€ï¼‰ã€‚

é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

![img](_img/62.png)

ä¾‹å¦‚ï¼Œä¸Šå›¾æ˜¯ä¸€ä¸ª7 x 3 çš„ç½‘æ ¼ã€‚æœ‰å¤šå°‘å¯èƒ½çš„è·¯å¾„ï¼Ÿ

 

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: m = 3, n = 2
è¾“å‡º: 3
è§£é‡Š:
ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ 3 æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚
1. å‘å³ -> å‘å³ -> å‘ä¸‹
2. å‘å³ -> å‘ä¸‹ -> å‘å³
3. å‘ä¸‹ -> å‘å³ -> å‘å³
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: m = 7, n = 3
è¾“å‡º: 28
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/unique-paths/>


#### æ€è·¯  


ã€€ã€€\# æ²¡å…¥é—¨åŠ¨æ€è§„åˆ’ä¹‹å‰ï¼Œå¤§ä½¬ï¼šç”¨åŠ¨æ€è§„åˆ’å¯è§£ ç¨å¾®å…¥é—¨åŠ¨æ€è§„åˆ’åï¼Œå¤§ä½¬ï¼šä¸€ä¸ªæ–¹ç¨‹å°±å¯è§£ã€‚  

ã€€ã€€\# æˆ‘ï¼šï¼Ÿï¼Ÿï¼Ÿ  

ã€€ã€€æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ã€‚ä¸Šè¾¹ç•Œå’Œå·¦è¾¹ç•Œçš„è·¯å¾„æ•°ä¸º1ã€‚å…¶ä»–ä½ç½®çš„è·¯å¾„æ•°ç­‰äº`ä¸Šè¾¹æ ¼å­çš„è·¯å¾„æ•°`+`å·¦è¾¹æ ¼å­çš„è·¯å¾„æ•°`ã€‚  

ã€€ã€€æ–¹æ³•äºŒï¼šæœºå™¨äººä¸€å®šä¼šèµ°`m + n - 2`æ­¥ï¼Œå³ä»`m + n - 2`ä¸­æŒ‘å‡º`m - 1`æ­¥å‘ä¸‹èµ°ä¸å°±è¡Œäº†å—ï¼Ÿå³`C((m + n - 2), (m - 1))`ã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š  

```python
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        if not m or not n:
            return 0
        # m * n
        ans = [[1 for i in range(m)] for j in range(n)]

        for i in range(1, n):
            for j in range(1, m):
                ans[i][j] = ans[i-1][j] + ans[i][j-1]

        return ans[n-1][m-1]
```

ã€€ã€€æ–¹æ³•äºŒï¼š  

```python
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        def factor(num):
            if num < 2:
                return 1
            res = 1
            for i in range(1, num+1):
                res *= i
            return res

        def A(m, n):
            return factor(m) // factor(m-n)

        def C(m, n):
            return A(m, n) // factor(n)

        return C(m+n-2,m-1)
         
```

## A63. ä¸åŒè·¯å¾„ II

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª *m x n* ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œFinishâ€ï¼‰ã€‚

ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

![img](_img/63.png)

ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ `1` å’Œ `0` æ¥è¡¨ç¤ºã€‚

**è¯´æ˜ï¼š***m* å’Œ *n* çš„å€¼å‡ä¸è¶…è¿‡ 100ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
[
  [0,0,0],
  [0,1,0],
  [0,0,0]
]
è¾“å‡º: 2
è§£é‡Š:
3x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚
ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ï¼š
1. å‘å³ -> å‘å³ -> å‘ä¸‹ -> å‘ä¸‹
2. å‘ä¸‹ -> å‘ä¸‹ -> å‘å³ -> å‘å³
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/unique-paths-ii/>

#### æ€è·¯  

ã€€ã€€\# è§£æ³•å€’æ˜¯ç®€å•ï¼Œä½†æ˜¯æ•°æ®å¡äººã€‚ä¼šæœ‰å‚»xæŠŠéšœç¢æ”¾åœ¨å…¥å£ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ  

ã€€ã€€\# ç½‘å‹ï¼šæ˜¯çš„ï¼Œé˜²æ­¢ç–«æƒ…æ‰©æ•£ï¼Œæ‰€ä»¥åšéš”ç¦»  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚æ‰€æœ‰æœ‰éšœç¢ç‰©çš„ä½ç½®è·¯å¾„æ•°ä¸º`0`ã€‚å…ˆæŠŠç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ç®—å¥½ã€‚å…¶ä»–ä½ç½®çš„è·¯å¾„æ•°ç­‰äº`ä¸Šè¾¹æ ¼å­çš„è·¯å¾„æ•°`+`å·¦è¾¹æ ¼å­çš„è·¯å¾„æ•°`ã€‚  

#### ä»£ç   
```python
class Solution:
    def uniquePathsWithObstacles(self, obstacleGrid: List[List[int]]) -> int:
        # m * n
        m = len(obstacleGrid)
        n = len(obstacleGrid[0])
        if obstacleGrid[0][0] == 1:  # å¼€å§‹å°±æ˜¯éšœç¢ç‰©
            return 0

        ans = [[1 if not obstacleGrid[i][j] else 0 for j in range(n)] for i in range(m)]
        print(ans)
        for i in range(m):
            for j in range(n):
                if obstacleGrid[i][j] == 0:
                    if i == 0 and j == 0:
                        pass
                    elif i == 0:
                        ans[i][j] = ans[i][j-1]
                    elif j == 0:
                        ans[i][j] = ans[i-1][j]
                    else:
                        ans[i][j] = ans[i-1][j] + ans[i][j-1]

        return ans[m-1][n-1]
      
```

## A64. æœ€å°è·¯å¾„å’Œ 

éš¾åº¦ `ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„ *m* x *n* ç½‘æ ¼ï¼Œè¯·æ‰¾å‡ºä¸€æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œä¸ºæœ€å°ã€‚

**è¯´æ˜ï¼š**æ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥:
[
  [1,3,1],
  [1,5,1],
  [4,2,1]
]
è¾“å‡º: 7
è§£é‡Š: å› ä¸ºè·¯å¾„ 1â†’3â†’1â†’1â†’1 çš„æ€»å’Œæœ€å°ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-path-sum/>


#### æ€è·¯  


ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚å…ˆå°†ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ç®—å¥½ï¼Œå†é€‰è¾ƒå°çš„ä¸è‡ªèº«ç›¸åŠ ã€‚  

#### ä»£ç   
```python
class Solution:
    def minPathSum(self, grid: List[List[int]]) -> int:
        m = len(grid)
        if m == 0:
            return 0

        n = len(grid[0])
        ans = [[0 for i in range(n)] for j in range(m)]
        for i in range(m):
            for j in range(n):
                if i == 0 and j == 0:
                    ans[i][j] = grid[i][j]
                elif i == 0:
                    ans[i][j] = grid[i][j] +  ans[i][j-1]
                elif j == 0:
                    ans[i][j] = grid[i][j] +  ans[i-1][j]
                else:
                    ans[i][j] = grid[i][j] +  min(ans[i-1][j], ans[i][j-1])

        return ans[m-1][n-1]
```

## A65. æœ‰æ•ˆæ•°å­—

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

éªŒè¯ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥è§£é‡Šä¸ºåè¿›åˆ¶æ•°å­—ã€‚

ä¾‹å¦‚:

```
"0"` => `true`
`" 0.1 "` => `true`
`"abc"` => `false`
`"1 a"` => `false`
`"2e10"` => `true`
`" -90e3   "` => `true`
`" 1e"` => `false`
`"e3"` => `false`
`" 6e-1"` => `true`
`" 99e2.5 "` => `false`
`"53.5e93"` => `true`
`" --6 "` => `false`
`"-+3"` => `false`
`"95a54e53"` => `false
```

**è¯´æ˜:** æˆ‘ä»¬æœ‰æ„å°†é—®é¢˜é™ˆè¿°åœ°æ¯”è¾ƒæ¨¡ç³Šã€‚åœ¨å®ç°ä»£ç ä¹‹å‰ï¼Œä½ åº”å½“äº‹å…ˆæ€è€ƒæ‰€æœ‰å¯èƒ½çš„æƒ…å†µã€‚è¿™é‡Œç»™å‡ºä¸€ä»½å¯èƒ½å­˜åœ¨äºæœ‰æ•ˆåè¿›åˆ¶æ•°å­—ä¸­çš„å­—ç¬¦åˆ—è¡¨ï¼š

- æ•°å­— 0-9
- æŒ‡æ•° - "e"
- æ­£/è´Ÿå· - "+"/"-"
- å°æ•°ç‚¹ - "."

å½“ç„¶ï¼Œåœ¨è¾“å…¥ä¸­ï¼Œè¿™äº›å­—ç¬¦çš„ä¸Šä¸‹æ–‡ä¹Ÿå¾ˆé‡è¦ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/valid-number/>

#### æ€è·¯  

ã€€ã€€æˆ‘çš„æ­£åˆ™ä¸€çº§æ£’âœŒï¸ã€‚  

ã€€ã€€ä¸€äº›ä¼šè¸©å‘çš„**æ­£ç¡®**æ ·ä¾‹ï¼š  

```
"+3."  
".3"
"1.e0"
"-.1e+5"
```

ã€€ã€€æ„Ÿå…´è¶£ä¹Ÿå¯ä»¥å‚è€ƒ[æœ‰é™çŠ¶æ€æœº](https://leetcode-cn.com/problems/valid-number/solution/biao-qu-dong-fa-by-user8973/)è§£æ³•ã€‚  

#### ä»£ç   

```python
import re
class Solution:
    def isNumber(self, s: str) -> bool:
        s = s.strip(' ')
        # [æ­£è´Ÿå·å¼€å¤´](Nç‚¹M or ç‚¹M or Nç‚¹ or N)[e [æ­£è´Ÿå·] å‡ ]
        pattern = '([+-]?)(([0-9]+[\.][0-9]+)|([\.][0-9]+)|([0-9]+[\.])|([0-9]+))([e][+-]?[0-9]+)?'
        a = re.search(pattern, s)
 
        if a:
            a = a.group() 
            return len(a)>0 and a == s
        return False
            
```

## A66. åŠ ä¸€

éš¾åº¦ `ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç”±**æ•´æ•°**ç»„æˆçš„**éç©º**æ•°ç»„æ‰€è¡¨ç¤ºçš„éè´Ÿæ•´æ•°ï¼Œåœ¨è¯¥æ•°çš„åŸºç¡€ä¸ŠåŠ ä¸€ã€‚

æœ€é«˜ä½æ•°å­—å­˜æ”¾åœ¨æ•°ç»„çš„é¦–ä½ï¼Œ æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ åªå­˜å‚¨**å•ä¸ª**æ•°å­—ã€‚

ä½ å¯ä»¥å‡è®¾é™¤äº†æ•´æ•° 0 ä¹‹å¤–ï¼Œè¿™ä¸ªæ•´æ•°ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3]
è¾“å‡º: [1,2,4]
è§£é‡Š: è¾“å…¥æ•°ç»„è¡¨ç¤ºæ•°å­— 123ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [4,3,2,1]
è¾“å‡º: [4,3,2,2]
è§£é‡Š: è¾“å…¥æ•°ç»„è¡¨ç¤ºæ•°å­— 4321ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/plus-one/>


#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šæœ€åä¸€ä½åŠ `1`ï¼Œå¦‚æœæ»¡`10`äº†ä¾æ¬¡å‘å‰è¿›ä½å³å¯ã€‚  
ã€€ã€€æ–¹æ³•äºŒï¼šç”¨`map`æ˜ å°„ä¸€è¡Œä»£ç å³å¯ã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š

```python
class Solution:
    def plusOne(self, digits: List[int]) -> List[int]:
        n = len(digits)
        digits[-1] += 1
        for i in range(n-1, 0, -1):
            if digits[i] == 10:
                digits[i] = 0
                digits[i-1] += 1
            else:
                break

        if digits[0] == 10:
            digits[0] = 0
            return [1] + digits

        return digits
```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def plusOne(self, digits: List[int]) -> List[int]:
        return list(map(int, list(str(int(''.join(map(str, digits))) + 1))))
```

## A67. äºŒè¿›åˆ¶æ±‚å’Œ

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè¿”å›ä»–ä»¬çš„å’Œï¼ˆç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚

è¾“å…¥ä¸º**éç©º**å­—ç¬¦ä¸²ä¸”åªåŒ…å«æ•°å­— `1` å’Œ `0`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: a = "11", b = "1"
è¾“å‡º: "100"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: a = "1010", b = "1011"
è¾“å‡º: "10101"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/add-binary/>

#### æ€è·¯  

ã€€ã€€æ´»ç”¨`int`å’Œ`bin`ã€‚  

#### ä»£ç   

```python
class Solution:
    def addBinary(self, a: str, b: str) -> str:
        ans = int(a, base=2) + int(b, base=2)
        return bin(ans)[2:]
      
```

## A68. æ–‡æœ¬å·¦å³å¯¹é½

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå•è¯æ•°ç»„å’Œä¸€ä¸ªé•¿åº¦ *maxWidth*ï¼Œé‡æ–°æ’ç‰ˆå•è¯ï¼Œä½¿å…¶æˆä¸ºæ¯è¡Œæ°å¥½æœ‰ *maxWidth* ä¸ªå­—ç¬¦ï¼Œä¸”å·¦å³ä¸¤ç«¯å¯¹é½çš„æ–‡æœ¬ã€‚

ä½ åº”è¯¥ä½¿ç”¨â€œè´ªå¿ƒç®—æ³•â€æ¥æ”¾ç½®ç»™å®šçš„å•è¯ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå°½å¯èƒ½å¤šåœ°å¾€æ¯è¡Œä¸­æ”¾ç½®å•è¯ã€‚å¿…è¦æ—¶å¯ç”¨ç©ºæ ¼ `' '` å¡«å……ï¼Œä½¿å¾—æ¯è¡Œæ°å¥½æœ‰ *maxWidth* ä¸ªå­—ç¬¦ã€‚

è¦æ±‚å°½å¯èƒ½å‡åŒ€åˆ†é…å•è¯é—´çš„ç©ºæ ¼æ•°é‡ã€‚å¦‚æœæŸä¸€è¡Œå•è¯é—´çš„ç©ºæ ¼ä¸èƒ½å‡åŒ€åˆ†é…ï¼Œåˆ™å·¦ä¾§æ”¾ç½®çš„ç©ºæ ¼æ•°è¦å¤šäºå³ä¾§çš„ç©ºæ ¼æ•°ã€‚

æ–‡æœ¬çš„æœ€åä¸€è¡Œåº”ä¸ºå·¦å¯¹é½ï¼Œä¸”å•è¯ä¹‹é—´ä¸æ’å…¥**é¢å¤–çš„**ç©ºæ ¼ã€‚

**è¯´æ˜:**

- å•è¯æ˜¯æŒ‡ç”±éç©ºæ ¼å­—ç¬¦ç»„æˆçš„å­—ç¬¦åºåˆ—ã€‚
- æ¯ä¸ªå•è¯çš„é•¿åº¦å¤§äº 0ï¼Œå°äºç­‰äº *maxWidth*ã€‚
- è¾“å…¥å•è¯æ•°ç»„ `words` è‡³å°‘åŒ…å«ä¸€ä¸ªå•è¯ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥:
words = ["This", "is", "an", "example", "of", "text", "justification."]
maxWidth = 16
è¾“å‡º:
[
   "This    is    an",
   "example  of text",
   "justification.  "
]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
words = ["What","must","be","acknowledgment","shall","be"]
maxWidth = 16
è¾“å‡º:
[
  "What   must   be",
  "acknowledgment  ",
  "shall be        "
]
è§£é‡Š: æ³¨æ„æœ€åä¸€è¡Œçš„æ ¼å¼åº”ä¸º "shall be    " è€Œä¸æ˜¯ "shall     be",
     å› ä¸ºæœ€åä¸€è¡Œåº”ä¸ºå·¦å¯¹é½ï¼Œè€Œä¸æ˜¯å·¦å³ä¸¤ç«¯å¯¹é½ã€‚       
     ç¬¬äºŒè¡ŒåŒæ ·ä¸ºå·¦å¯¹é½ï¼Œè¿™æ˜¯å› ä¸ºè¿™è¡ŒåªåŒ…å«ä¸€ä¸ªå•è¯ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥:
words = ["Science","is","what","we","understand","well","enough","to","explain",
         "to","a","computer.","Art","is","everything","else","we","do"]
maxWidth = 20
è¾“å‡º:
[
  "Science  is  what we",
  "understand      well",
  "enough to explain to",
  "a  computer.  Art is",
  "everything  else  we",
  "do                  "
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/text-justification/>

#### æ€è·¯  

ã€€ã€€ä¸ç®—æ˜¯å›°éš¾é¢˜ï¼Œä½†æ˜¯å¾ˆéº»çƒ¦ã€‚  

-  è¦åŒºåˆ†æ˜¯ä¸æ˜¯æœ€åä¸€è¡Œï¼Œå¦‚æœæ˜¯æœ€åä¸€è¡Œåˆ™`å·¦å¯¹é½`ï¼Œå¦åˆ™`ä¸¤è¾¹å¯¹é½`ã€‚
-  å…ˆæ‰¾å‡ºæ¯ä¸€è¡Œæœ‰å“ªäº›å•è¯ï¼Œç„¶åå¯¹æ¯è¡Œåˆ†åˆ«æ“ä½œã€‚  
-  å¤„ç†ç©ºæ ¼æ—¶ï¼šå¦‚æœ`æ€»ç©ºæ ¼æ•°`æ˜¯`æ€»é—´éš™æ•°`çš„å€æ•°ï¼Œå‡åŒ€åœ°å¡«å……å³å¯ã€‚å¦åˆ™å¡«å……`æ€»ç©ºæ ¼æ•° // æ€»é—´éš™æ•° + 1`ä¸ªç©ºæ ¼ã€‚(å› ä¸ºå·¦è¾¹çš„ç©ºæ ¼è¦æ¯”å³è¾¹çš„å¤š)ã€‚ 

#### ä»£ç   

```python
class Solution:
    def fullJustify(self, words: List[str], maxWidth: int) -> List[str]:
        if not len(words): return []
        ans = []
        lines = []
        temp = [words[0]]
        count = len(words[0])
        for word in words[1:]:
            if count + len(word) + 1 <= maxWidth:
                temp.append(word)
                count += len(word) + 1
            else:
                lines.append(temp)
                temp = [word]
                count = len(word)

        def form_line(words):  # è°ƒæ•´ä¸€è¡Œ
            blanks = maxWidth - sum([len(word) for word in words]) - (len(words) - 1)
            intervals = max(1, len(words)-1)  # æœ‰å‡ ä¸ªé—´éš™
            blank_list = []
            if blanks == 0: return ' '.join(words)
            for i in range(intervals, 0, -1):
                if blanks % i == 0:
                    cur_blank = (blanks // i)      
                else:
                    cur_blank = blanks // i + 1   # å·¦è¾¹çš„è¦æ¯”å³è¾¹çš„å¤š

                blank_list.append(' ' * cur_blank) 
                blanks -= cur_blank

            line = ''
            for i in range(len(words)):
                line += words[i]
                if i == len(words) - 1:
                    break
                line += ' ' + blank_list[i]
            if len(line) < maxWidth:
                line += ' ' * (maxWidth - len(line))
            return line

        for line in lines:
            ans.append(form_line(line))

        last_line = ' '.join(temp)
        if len(last_line) < maxWidth:
            last_line += ' ' * (maxWidth - len(last_line))

        ans.append(last_line)
        return ans
      
```

## A69. x çš„å¹³æ–¹æ ¹

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

å®ç° `int sqrt(int x)` å‡½æ•°ã€‚

è®¡ç®—å¹¶è¿”å› *x* çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­ *x* æ˜¯éè´Ÿæ•´æ•°ã€‚

ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 4
è¾“å‡º: 2
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 8
è¾“å‡º: 2
è¯´æ˜: 8 çš„å¹³æ–¹æ ¹æ˜¯ 2.82842..., 
     ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/sqrtx/>

#### **æ€è·¯:**

ã€€ã€€ä»`1`åˆ°`x-1`äºŒåˆ†æŸ¥æ‰¾ã€‚  ã€€ã€€ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def mySqrt(self, x: int) -> int:
        if x == 0: return 0
        if x < 4: return 1

        i, j = 2, x - 1
        while i <= i and i < x-1:
            mid = (i+j) // 2
            if mid * mid > x:
                j = mid - 1
            elif mid * mid <= x and (mid + 1) ** 2 > x:
                return mid
            else:
                i = mid + 1
```

## A70. çˆ¬æ¥¼æ¢¯

éš¾åº¦ `ç®€å•`  
#### é¢˜ç›®æè¿°

å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ *n* é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚

æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ

**æ³¨æ„ï¼š**ç»™å®š *n* æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š 2
è¾“å‡ºï¼š 2
è§£é‡Šï¼š æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
1.  1 é˜¶ + 1 é˜¶
2.  2 é˜¶
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š 3
è¾“å‡ºï¼š 3
è§£é‡Šï¼š æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
1.  1 é˜¶ + 1 é˜¶ + 1 é˜¶
2.  1 é˜¶ + 2 é˜¶
3.  2 é˜¶ + 1 é˜¶
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/climbing-stairs/>


#### æ€è·¯  


ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚æœ€åä¸€æ­¥å¿…å®šä¸ºèµ°`1`ä¸ªå°é˜¶æˆ–`2`ä¸ªå°é˜¶ã€‚å› æ­¤æœ‰é€’æ¨å…¬å¼`dp[i]`=`dp[i-1]`+`dp[i-2]`ã€‚  

#### ä»£ç   
```python
class Solution(object):
    def climbStairs(self, n):
        """
        :type n: int
        :rtype: int
        """
        if n == 0:
            return 1
        dp = [0 for i in range(n+1)]
        dp[0] = dp[1] = 1
        for i in range(2, n+1):
            dp[i] = dp[i-1] + dp[i-2]

        # print(dp)
        return dp[-1]
      
```

## A71. ç®€åŒ–è·¯å¾„

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ä»¥ Unix é£æ ¼ç»™å‡ºä¸€ä¸ªæ–‡ä»¶çš„**ç»å¯¹è·¯å¾„**ï¼Œä½ éœ€è¦ç®€åŒ–å®ƒã€‚æˆ–è€…æ¢å¥è¯è¯´ï¼Œå°†å…¶è½¬æ¢ä¸ºè§„èŒƒè·¯å¾„ã€‚

åœ¨ Unix é£æ ¼çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç‚¹ï¼ˆ`.`ï¼‰è¡¨ç¤ºå½“å‰ç›®å½•æœ¬èº«ï¼›æ­¤å¤–ï¼Œä¸¤ä¸ªç‚¹ ï¼ˆ`..`ï¼‰ è¡¨ç¤ºå°†ç›®å½•åˆ‡æ¢åˆ°ä¸Šä¸€çº§ï¼ˆæŒ‡å‘çˆ¶ç›®å½•ï¼‰ï¼›ä¸¤è€…éƒ½å¯ä»¥æ˜¯å¤æ‚ç›¸å¯¹è·¯å¾„çš„ç»„æˆéƒ¨åˆ†ã€‚æ›´å¤šä¿¡æ¯è¯·å‚é˜…ï¼š[Linux / Unixä¸­çš„ç»å¯¹è·¯å¾„ vs ç›¸å¯¹è·¯å¾„](https://blog.csdn.net/u011327334/article/details/50355600)

è¯·æ³¨æ„ï¼Œè¿”å›çš„è§„èŒƒè·¯å¾„å¿…é¡»å§‹ç»ˆä»¥æ–œæ  `/` å¼€å¤´ï¼Œå¹¶ä¸”ä¸¤ä¸ªç›®å½•åä¹‹é—´å¿…é¡»åªæœ‰ä¸€ä¸ªæ–œæ  `/`ã€‚æœ€åä¸€ä¸ªç›®å½•åï¼ˆå¦‚æœå­˜åœ¨ï¼‰**ä¸èƒ½**ä»¥ `/` ç»“å°¾ã€‚æ­¤å¤–ï¼Œè§„èŒƒè·¯å¾„å¿…é¡»æ˜¯è¡¨ç¤ºç»å¯¹è·¯å¾„çš„**æœ€çŸ­**å­—ç¬¦ä¸²ã€‚ 

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š"/home/"
è¾“å‡ºï¼š"/home"
è§£é‡Šï¼šæ³¨æ„ï¼Œæœ€åä¸€ä¸ªç›®å½•ååé¢æ²¡æœ‰æ–œæ ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š"/../"
è¾“å‡ºï¼š"/"
è§£é‡Šï¼šä»æ ¹ç›®å½•å‘ä¸Šä¸€çº§æ˜¯ä¸å¯è¡Œçš„ï¼Œå› ä¸ºæ ¹æ˜¯ä½ å¯ä»¥åˆ°è¾¾çš„æœ€é«˜çº§ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼š"/home//foo/"
è¾“å‡ºï¼š"/home/foo"
è§£é‡Šï¼šåœ¨è§„èŒƒè·¯å¾„ä¸­ï¼Œå¤šä¸ªè¿ç»­æ–œæ éœ€è¦ç”¨ä¸€ä¸ªæ–œæ æ›¿æ¢ã€‚
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼š"/a/./b/../../c/"
è¾“å‡ºï¼š"/c"
```

> **ç¤ºä¾‹ 5ï¼š**

```
è¾“å…¥ï¼š"/a/../../b/../c//.//"
è¾“å‡ºï¼š"/c"
```

> **ç¤ºä¾‹ 6ï¼š**

```
è¾“å…¥ï¼š"/a//b////c/d//././/.."
è¾“å‡ºï¼š"/a/b/c"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/simplify-path/>

#### æ€è·¯  

ã€€ã€€æ ˆã€‚Pythonå¤§æ³•çœŸæ˜¯å¥½ï¼  

- æŒ‰`'/'`å…ˆ`split`ï¼Œä¸º`''`æˆ–`'.'`æ—¶ä¸åšä»»ä½•æ“ä½œã€‚  
- ä¸º`'..'`æ—¶å‡ºæ ˆã€‚  
- å…¶ä»–æƒ…å†µæ—¶å…¥æ ˆã€‚  

#### ä»£ç   

```python
class Solution:
    def simplifyPath(self, path: str) -> str:
        stack = []
        splits = path.split('/')
        for s in splits:
            if not s or s == '.':  # ä¸ºç©ºæˆ–è€…ä¸º"."ï¼Œä¸åšä»»ä½•æ“ä½œ
                pass
            elif s == '..' and stack:  # è¿”å›ä¸Šä¸€çº§
                stack.pop()  # å‡ºæ ˆ
            else:
                stack.append(s)

        return '/' + '/'.join(stack)

```

## A72. ç¼–è¾‘è·ç¦»

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå•è¯ *word1* å’Œ *word2* ï¼Œè®¡ç®—å‡ºå°† *word1* è½¬æ¢æˆ *word2* æ‰€ä½¿ç”¨çš„æœ€å°‘æ“ä½œæ•° ã€‚

ä½ å¯ä»¥å¯¹ä¸€ä¸ªå•è¯è¿›è¡Œå¦‚ä¸‹ä¸‰ç§æ“ä½œï¼š

1. æ’å…¥ä¸€ä¸ªå­—ç¬¦
2. åˆ é™¤ä¸€ä¸ªå­—ç¬¦
3. æ›¿æ¢ä¸€ä¸ªå­—ç¬¦

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: word1 = "horse", word2 = "ros"
è¾“å‡º: 3
è§£é‡Š: 
horse -> rorse (å°† 'h' æ›¿æ¢ä¸º 'r')
rorse -> rose (åˆ é™¤ 'r')
rose -> ros (åˆ é™¤ 'e')
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: word1 = "intention", word2 = "execution"
è¾“å‡º: 5
è§£é‡Š: 
intention -> inention (åˆ é™¤ 't')
inention -> enention (å°† 'i' æ›¿æ¢ä¸º 'e')
enention -> exention (å°† 'n' æ›¿æ¢ä¸º 'x')
exention -> exection (å°† 'n' æ›¿æ¢ä¸º 'c')
exection -> execution (æ’å…¥ 'u')
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/edit-distance/>


#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ï¼Œä»¤`dp[i][j]`è¡¨ç¤º`word1[:i]`å˜æˆ`word2[:j]`çš„æœ€å°‘æ“ä½œæ•°ã€‚  

ã€€ã€€å…ˆè€ƒè™‘ä¸ºç©ºæ—¶çš„æƒ…å†µï¼Œ`word1`ä¸ºç©ºæ—¶ï¼Œ`''`å˜æˆ`word2[:j]`éœ€è¦åŠ ä¸Š`j`ä¸ªä¸ªå­—ç¬¦ã€‚åŒæ ·ï¼Œ`word2`ä¸ºç©ºæ—¶ï¼Œ`word1[:i]`å˜æˆ`''`éœ€è¦å‡å»`i`ä¸ªå­—ç¬¦ã€‚å› æ­¤ï¼Œ`dp[0][j]`=`j`ï¼Œ`dp[i][0]`=`i`ã€‚  

ã€€ã€€è€ƒè™‘ä¸ä¸ºç©ºçš„æƒ…å†µã€‚å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²å½“å‰çš„æœ«å°¾ç›¸åŒï¼Œå³`word1[i-1]`==`word2[j-1]`ï¼Œé‚£ä¹ˆ`dp[i][j]`=`dp[i-1][j-1]`ã€‚å¦‚ä¸‹å¦‚æ‰€ç¤ºï¼š  

<img src="_img/a72_1.png" style="zoom:50%"/>  

ã€€ã€€å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²å½“å‰çš„æœ«å°¾ä¸åŒï¼Œé‚£ä¹ˆæœ‰ä¸‰ç§å¤„ç†æ–¹å¼ã€‚å³1. `åˆ é™¤word1æœ«å°¾çš„å…ƒç´ `ï¼Œç„¶åæŒ‰`dp[i-1][j]`å¤„ç†ï¼›2. `å°†word1æœ«å°¾çš„å…ƒç´ æ›¿æ¢æˆword2æœ«å°¾çš„å…ƒç´ `ï¼Œç„¶åæŒ‰`dp[i-1][j-1]`å¤„ç†ï¼›3. `åœ¨word1æœ«å°¾æ·»åŠ word2æœ«å°¾çš„å…ƒç´ `ï¼Œç„¶åæŒ‰`dp[i][j-1]`å¤„ç†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

  

<img src="_img/a72_2.png" style="zoom:60%"/>

ã€€ã€€æœ€ç»ˆ`dp[i][j]`çš„å€¼ä¸ºè¿™ä¸‰ç§æ“ä½œçš„æ“ä½œæ¬¡æ•°ä¸­æœ€å°‘çš„ã€‚å³`dp[i][j]`=min(`dp[i-1][j-1]`,`dp[i-1][j]`,`dp[i][j-1]`)+`1`ã€‚  

#### ä»£ç   

```python
class Solution(object):
    def minDistance(self, word1, word2):
        """
        :type word1: str
        :type word2: str
        :rtype: int
        """
        # word1[i] word2[j]
        # dp[i][j] è¡¨ç¤º word1[i] å˜æˆ word2[j]çš„æœ€å°‘æ“ä½œæ•°
        l1, l2 = len(word1), len(word2)
        dp = [[0 for j in range(l2+1)]for i in range(l1+1)]
        for i in range(l1+1):
            for j in range(l2+1):
                if i == 0:
                    dp[i][j] = j
                elif j == 0:
                    dp[i][j] = i
                else:
                    if word1[i-1] == word2[j-1]:
                        dp[i][j] = dp[i-1][j-1]
                    else:
                        dp[i][j] = min(dp[i-1][j-1], dp[i-1][j], dp[i][j-1]) + 1
        # print(dp)
        return dp[-1][-1]
```

## A73. çŸ©é˜µç½®é›¶

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ª *m* x *n* çš„çŸ©é˜µï¼Œå¦‚æœä¸€ä¸ªå…ƒç´ ä¸º 0ï¼Œåˆ™å°†å…¶æ‰€åœ¨è¡Œå’Œåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½è®¾ä¸º 0ã€‚è¯·ä½¿ç”¨**åŸåœ°**ç®—æ³•**ã€‚**

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 
[
  [1,1,1],
  [1,0,1],
  [1,1,1]
]
è¾“å‡º: 
[
  [1,0,1],
  [0,0,0],
  [1,0,1]
]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 
[
  [0,1,2,0],
  [3,4,5,2],
  [1,3,1,5]
]
è¾“å‡º: 
[
  [0,0,0,0],
  [0,4,5,0],
  [0,3,1,0]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/set-matrix-zeroes/>


#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šå…ˆéå†ä¸€éçŸ©é˜µï¼Œå°†å‡ºç°`0`ä½ç½®çš„åŒä¸€è¡ŒåŒä¸€åˆ—æ‰€æœ‰`ä¸ä¸º0`çš„å…ƒç´ æ ‡è®°ä¸º`None`ã€‚ç„¶åå†éå†ä¸€éçŸ©é˜µï¼Œå°†æ‰€æœ‰`None`æ›´æ”¹ä¸º`0`ã€‚è¿™ç§æ–¹æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸º`O(1)`ï¼›ä½†æ˜¯æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚  
ã€€ã€€æ–¹æ³•äºŒï¼šç”¨çŸ©é˜µçš„`ç¬¬ä¸€è¡Œ`å’Œ`ç¬¬ä¸€åˆ—`æ¥è®°å½•æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—æ˜¯å¦æœ‰`0`ã€‚è¿™ä¸€æ­¥æ“ä½œå¯èƒ½ä¼šè®©é¦–è¡Œé¦–åˆ—æ˜¯å¦æœ‰é›¶è¿™ä¸ªä¿¡æ¯æŸå¤±æ‰ï¼Œå› ä¸ºé¦–è¡Œé¦–åˆ—è¢«ç”¨æ¥å­˜å‚¨å…¶ä»–ä¿¡æ¯äº†ï¼Œä¼šæ”¹å˜ä»–ä»¬çš„å–å€¼ï¼Œæ‰€ä»¥å†å®šä¹‰ä¸¤ä¸ªå˜é‡`row0`å’Œ`col0`è®°å½•é¦–è¡Œé¦–åˆ—æ˜¯å¦æœ‰é›¶ã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š 

```python
class Solution:
    def setZeroes(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        m = len(matrix)
        n = len(matrix[0])
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == 0:
                    for k in range(m):
                        if matrix[k][j] != 0:
                            matrix[k][j] = None
                    for k in range(n):
                        if matrix[i][k] != 0:
                            matrix[i][k] = None

        for i in range(m):
            for j in range(n):
                if matrix[i][j] is None:
                    matrix[i][j] = 0
                    
```

ã€€ã€€æ–¹æ³•äºŒï¼š  

```python
class Solution:
    def setZeroes(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        m = len(matrix)
        n = len(matrix[0])
        row_0, col_0 = False, False

        for i in range(m):
            for j in range(n):
                if matrix[i][j] == 0:
                    if i == 0:
                        row_0 = True
                    if j == 0:
                        col_0 = True
                    matrix[i][0] = matrix[0][j] = 0
        
        for i in range(1, m):
            for j in range(1, n):
               if matrix[0][j] == 0 or matrix[i][0] == 0:
                    matrix[i][j] = 0

        if row_0:
            for j in range(n):
                matrix[0][j] = 0

        if col_0:
            for i in range(m):
                matrix[i][0] = 0

```

## A74. æœç´¢äºŒç»´çŸ©é˜µ

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥åˆ¤æ–­ *m* x *n* çŸ©é˜µä¸­ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªç›®æ ‡å€¼ã€‚è¯¥çŸ©é˜µå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š

- æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰å‡åºæ’åˆ—ã€‚
- æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
matrix = [
  [1,   3,  5,  7],
  [10, 11, 16, 20],
  [23, 30, 34, 50]
]
target = 3
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
matrix = [
  [1,   3,  5,  7],
  [10, 11, 16, 20],
  [23, 30, 34, 50]
]
target = 13
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/search-a-2d-matrix/>

#### æ€è·¯  

ã€€ã€€æ•´é™¤å’Œå–æ¨¡æŠŠä¸€ç»´åæ ‡è½¬ä¸ºäºŒç»´ï¼Œç„¶åå¥—ç”¨äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿ã€‚æ—¶é—´å¤æ‚åº¦`O(log(mn))`ã€‚  

#### ä»£ç   

```python
class Solution:
    def searchMatrix(self, matrix: List[List[int]], target: int) -> bool:
        m = len(matrix)
        if m == 0:
            return False

        n = len(matrix[0])

        def _1d_to_2d(i):
            return i // n, i % n
        
        i, j = 0, m * n
        while i <= j and i < m * n:
            mid = (i + j) // 2
            x, y = _1d_to_2d(mid)
            num = matrix[x][y]
            if num > target:
                j = mid - 1
            elif num < target:
                i = mid + 1
            else:
                return num == target
            
        return False
      
```

## A75. é¢œè‰²åˆ†ç±»

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…± *n* ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œ**åŸåœ°**å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚

æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚

**æ³¨æ„:**
ä¸èƒ½ä½¿ç”¨ä»£ç åº“ä¸­çš„æ’åºå‡½æ•°æ¥è§£å†³è¿™é“é¢˜ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [2,0,2,1,1,0]
è¾“å‡º: [0,0,1,1,2,2]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/sort-colors/>

#### æ€è·¯  

ã€€ã€€ä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆå¯ä»¥å®ç°**ä¸€è¶Ÿæ‰«æ**ï¼Œ`low`çš„å‰é¢å…¨éƒ½æ˜¯`0`ï¼Œè€Œ`high`çš„åé¢å…¨éƒ½æ˜¯`2`ã€‚`i`è¡¨ç¤ºå½“å‰ä½ç½®ï¼Œå¦‚æœå½“å‰ä½ç½®ä¸º`0`ï¼Œåˆ™ä¸`low`äº¤æ¢ã€‚å¦‚æœä¸º`2`ï¼Œåˆ™ä¸`high`äº¤æ¢ã€‚  

#### ä»£ç   

```python
class Solution:
    def sortColors(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        low, high = 0, len(nums) - 1
        i = 0
        while i <= high:
            if nums[i] == 0:
                nums[i], nums[low] = nums[low], nums[i]
                low += 1
                i += 1
            elif nums[i] == 2:
                nums[i], nums[high] = nums[high], nums[i]
                high -= 1
            elif nums[i] == 1:
                i += 1

```

## A76. æœ€å°è¦†ç›–å­ä¸²

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² Sã€ä¸€ä¸ªå­—ç¬¦ä¸² Tï¼Œè¯·åœ¨å­—ç¬¦ä¸² S é‡Œé¢æ‰¾å‡ºï¼šåŒ…å« T æ‰€æœ‰å­—æ¯çš„æœ€å°å­ä¸²ã€‚

> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥: S = "ADOBECODEBANC", T = "ABC"
è¾“å‡º: "BANC"
```

**è¯´æ˜ï¼š**

- å¦‚æœ S ä¸­ä¸å­˜è¿™æ ·çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² `""`ã€‚
- å¦‚æœ S ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-window-substring/>

#### æ€è·¯  

ã€€ã€€å…ˆç”¨ä¸€ä¸ªå­—å…¸ç»Ÿè®¡`t`ä¸­æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œæ³¨æ„å‡ºç°çš„å­—æ¯æ˜¯`å‡å»`æ¬¡æ•°ã€‚  

ã€€ã€€ç„¶åç”¨ä¸¤ä¸ªæŒ‡é’ˆ`left`å’Œ`right`ç»´æŠ¤ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œéå†`s`ï¼Œ`å³æŒ‡é’ˆ`ç§»åŠ¨æ—¶åœ¨å­—å…¸ä¸­åŠ ä¸Šæ¬¡æ•°ï¼Œ`å·¦æŒ‡é’ˆ`ç§»åŠ¨æ—¶åœ¨å­—å…¸ä¸­å‡å»æ¬¡æ•°ã€‚å­—å…¸ä¸­æ¯ä¸ªå­—æ¯å¯¹åº”æ¬¡æ•°çš„æ„ä¹‰ä¸ºï¼š  

- å‡ºç°æ¬¡æ•°`> 0` çš„å­—æ¯æ˜¯å¤šä½™çš„ï¼›
- å‡ºç°æ¬¡æ•°`== 0`è¡¨ç¤ºæ­£å¥½åŒ¹é…ï¼›
- å‡ºç°æ¬¡æ•°`< 0` çš„å­—æ¯æ˜¯ç¼ºå°‘çš„ã€‚

ã€€ã€€æ»‘åŠ¨çª—å£çš„ç§»åŠ¨ï¼šåˆ†ä¸‰ç§æƒ…å†µæ¥ç§»åŠ¨çª—å£ï¼šï¼ˆè¿™é‡Œä»¤å½“å‰çª—å£çš„å·¦å³è¾¹ç•Œåˆ†åˆ«ä¸ºlï¼Œrï¼Œçª—å£çš„å¤§å°ä¸ºwinSize=r-l+1ï¼‰

```
1) å½“winSize < len(t) r++;  ä¹Ÿå°±æ˜¯çª—å£å³è¾¹ç•Œå‘å³ç§»åŠ¨
2) å½“winSize == len(t) :
   2.1) å½“çª—å£ä¸­çš„å­—ç¬¦å·²ç»ç¬¦åˆè¦æ±‚äº†ï¼Œç›´æ¥è¿”å›returnï¼Œå·²ç»æ‰¾åˆ°äº†
   2.2) å¦åˆ™r++ï¼Œçª—å£å³è¾¹ç•Œå‘å³ç§»åŠ¨
3) å½“winSize > len(t)
   3.1) å½“çª—å£ä¸­çš„å­—ç¬¦å·²ç»ç¬¦åˆè¦æ±‚äº†ï¼Œl++ï¼Œçª—å£å·¦è¾¹ç•Œå‘å³ç§»åŠ¨
   3.2) å¦åˆ™r++ï¼Œçª—å£å³è¾¹ç•Œå‘å³ç§»åŠ¨
```

ã€€ã€€å½“æ»‘åŠ¨çª—å£ä¸­çš„å­—æ¯æ­£å¥½åŒ¹é…æ—¶ï¼Œå°†`right-left`å’Œä¹‹å‰çš„æœ€å°å€¼æ¯”è¾ƒã€‚  

#### ä»£ç   

```python
from collections import defaultdict

class Solution(object):
    def minWindow(self, s, t):
        mem = defaultdict(int)
        for char in t:  #  ç»Ÿè®¡tæ¯ä¸ªå­—æ¯çš„å‡ºç°æ¬¡æ•°
            mem[char] -= 1  # è´Ÿçš„è¡¨ç¤ºç¼ºçš„ï¼Œæ­£çš„è¡¨ç¤ºå¤šä½™çš„

        count = len(t)

        left = 0
        min_i, min_j = 0, len(s)
        for right, char in enumerate(s):
            if mem[char] < 0:
                count -= 1
            mem[char] += 1

            if count == 0:  # æˆåŠŸåŒ¹é…
                while mem[s[left]] > 0:  # æŠŠå·¦è¾¹å¤šä½™çš„å»æ‰ ç„¶åå†è®¡ç®— min max
                    mem[s[left]] -= 1
                    left += 1

                if right - left < min_j - min_i:
                    min_i, min_j = left, right

                mem[s[left]] -= 1
                left += 1
                count += 1

        return '' if min_j == len(s) else s[min_i:min_j + 1]

```

## A77. ç»„åˆ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ•´æ•° *n* å’Œ *k*ï¼Œè¿”å› 1 ... *n* ä¸­æ‰€æœ‰å¯èƒ½çš„ *k* ä¸ªæ•°çš„ç»„åˆã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: n = 4, k = 2
è¾“å‡º:
[
  [2,4],
  [3,4],
  [2,3],
  [1,2],
  [1,3],
  [1,4],
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/combinations/>

#### **æ€è·¯:**

ã€€ã€€é€’å½’ï¼Œæ¯æ¬¡çš„å–å€¼éƒ½å¯ä»¥åœ¨`ä¸Šä¸€ä¸ªæ•°+1`åˆ°`n`ä¹‹é—´ï¼Œå½“å–æ»¡`k`ä¸ªæ—¶è¿”å›ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def combine(self, n: int, k: int) -> List[List[int]]:
        ans = []
        def dfs(i, minimal, nums):  # ç¬¬å‡ ä¸ªæ•°
            if i >= k:
                ans.append(nums.copy())
                return

            for num in range(minimal+1, n+1):  # ä¿è¯å‡åº
                dfs(i+1, num, nums + [num])

        dfs(0, 0, [])
        return ans

```

## A78. å­é›†

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ç»„**ä¸å«é‡å¤å…ƒç´ **çš„æ•´æ•°æ•°ç»„ *nums*ï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

**è¯´æ˜ï¼š**è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: nums = [1,2,3]
è¾“å‡º:
[
  [3],
  [1],
  [2],
  [1,2,3],
  [1,3],
  [2,3],
  [1,2],
  []
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/subsets/>

#### æ€è·¯  

ã€€ã€€ä½è¿ç®—è§£æ³•ã€‚ç”¨`0`åˆ°`2^n-1`äºŒè¿›åˆ¶çš„`0`å’Œ`1`æ¥è¡¨ç¤ºæ¯ä¸€ä½çš„å–æˆ–ä¸å–ã€‚  
ã€€ã€€ä¾‹å¦‚`nums = [1, 2, 3]`ã€‚  

| åè¿›åˆ¶ | äºŒè¿›åˆ¶ | å¯¹åº”çš„å­é›† |
| ------ | ------ | ---------- |
| 0      | 000    | []         |
| 1      | 001    | [3]        |
| 2      | 010    | [2]        |
| 3      | 011    | [2, 3]     |
| 4      | 100    | [1]        |
| 5      | 101    | [1, 3]     |
| 6      | 110    | [1, 2]     |
| 7      | 111    | [1, 2, 3]  |

#### ä»£ç   

```python
class Solution:
    def subsets(self, nums: List[int]) -> List[List[int]]:
        n = len(nums)
        ans = []
        for i in range(2**n):
            temp = []
            j = 0
            while i != 0:
                if i % 2:
                   temp.append(nums[j]) 
                i = i // 2
                j += 1
            ans.append(temp)

        return ans
```

## A79. å•è¯æœç´¢

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼å’Œä¸€ä¸ªå•è¯ï¼Œæ‰¾å‡ºè¯¥å•è¯æ˜¯å¦å­˜åœ¨äºç½‘æ ¼ä¸­ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

> **ç¤ºä¾‹:**

```
board =
[
  ['A','B','C','E'],
  ['S','F','C','S'],
  ['A','D','E','E']
]

ç»™å®š word = "ABCCED", è¿”å› true
ç»™å®š word = "SEE", è¿”å› true
ç»™å®š word = "ABCB", è¿”å› false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/word-search/>

#### æ€è·¯  

ã€€ã€€ä»æ¯ä¸ªå­—æ¯å¼€å§‹dfsæœç´¢ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸è¦æ¯æ¬¡éƒ½æ–°å»º`visited`æ•°ç»„ï¼Œä¸ç„¶ä¼šè¶…æ—¶ã€‚ã€€ã€€

#### ä»£ç   

```python
class Solution:
    def exist(self, board: List[List[str]], word: str) -> bool:
        m = len(board)
        if not m:
            return False
        n = len(board[0])

        visited = [[False for j in range(n)] for i in range(m)]
        def dfs(i, j, word):
            if len(word) == 0:
                return True
            if i < 0 or j < 0 or i >= m or j >= n:  # è¶…å‡ºè¾¹ç•Œ
                return False
            if board[i][j] != word[0] or visited[i][j]:  # å·²ç»èµ°è¿‡äº†æˆ–è€…å­—æ¯ä¸å¯¹
                return False
                
            visited[i][j] = True 

            if dfs(i-1, j, word[1:]) or dfs(i+1, j, word[1:]) \
            or dfs(i, j-1, word[1:]) or dfs(i, j+1, word[1:]):
                return True

            visited[i][j] = False

        for i in range(m):
            for j in range(n):
                if dfs(i, j, word):
                    return True

        return False

```

## A80. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨**åŸåœ°**åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨**åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„**å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

> **ç¤ºä¾‹ 1:**

```
ç»™å®š nums = [1,1,1,2,2,3],

å‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3 ã€‚

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

> **ç¤ºä¾‹ 2:**

```
ç»™å®š nums = [0,0,1,1,1,1,2,3,3],

å‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 7, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 0, 1, 1, 2, 3, 3 ã€‚

ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/>


#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šç”¨`i`è®°å½•å½“å‰è¦è¢«æ›¿æ¢çš„ä½ç½®ï¼Œæ¯æ¬¡å³ç§»ä¸€ä½ã€‚`j`è®°å½•ç”¨ä»€ä¹ˆæ•°å­—æ›¿æ¢çš„ä½ç½®ï¼Œæ¯æ¬¡å³ç§»è‹¥å¹²ä½ï¼Œä¿è¯æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ä¸å¤§äº`2`ã€‚  

ã€€ã€€æ–¹æ³•äºŒï¼šä¸æ–¹æ³•ä¸€ç±»ä¼¼ï¼Œç”¨`i`è®°å½•å½“å‰è¦è¢«æ›¿æ¢çš„ä½ç½®ï¼Œ`j`ä¸æ–­åç§»ï¼Œå¦‚æœ`nums[j]`ä¸ç­‰äº`nums[i-2]`åˆ™æ›¿æ¢æ‰`nums[i]`ã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š

```python
class Solution:
    def removeDuplicates(self, nums: List[int]) -> int:
        i, j = 0, 0  # iæ¯æ¬¡åç§»1ä½ï¼Œjæ¯æ¬¡åç§»è‹¥å¹²ä½
        num = -999999
        count = 0
        n = len(nums)
        while i < n and j < n:
            i += 1

            if nums[j] != num:
                count = 1
                num = nums[j]
            else:
                count += 1  # è®¡ç®—count

            if count < 2:
                j += 1
            else:
                while j < n and nums[j] == num:
                    j += 1

            if j < n:
                nums[i] = nums[j]
            else:
                return i

```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def removeDuplicates2(self, nums: List[int]) -> int:
    """
    :type nums: List[int]
    :rtype: int
    """
    i = 0
    for next_num in nums:
        if i < 2 or next_num != nums[i - 2]:
            nums[i] = next_num
            i += 1

    return i
```

## A81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚

( ä¾‹å¦‚ï¼Œæ•°ç»„ `[0,0,1,2,2,5,6]` å¯èƒ½å˜ä¸º `[2,5,6,0,0,1,2]` )ã€‚

ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚è‹¥å­˜åœ¨è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [2,5,6,0,0,1,2], target = 0
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [2,5,6,0,0,1,2], target = 3
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/>


#### æ€è·¯  


ã€€ã€€ä¸[A33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](/array?id=a33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„)æ˜¯ç±»ä¼¼çš„ï¼Œå¦‚æœä¸é‡å¤ï¼Œåˆ™å¯ä»¥å¯¹æœ‰åºçš„ä¸€åŠäºŒåˆ†æŸ¥æ‰¾ï¼Œå¦ä¸€åŠé€’å½’ã€‚å¦‚æœæœ‰é‡å¤ï¼Œæœ€åçš„æ—¶é—´å¤æ‚åº¦ä¸º`O(n)`ï¼Œä¸ç›´æ¥éå†ç›¸åŒã€‚  

#### ä»£ç   
```python
class Solution:
    def search(self, nums: List[int], target: int) -> bool:
        def helper(nums, i, j, target):
            if j <= i:
                return False
            if j == i + 1:
                return nums[i] == target
            
            middle = (i + j)//2
            if nums[i] < nums[middle]:
                # å¯¹å·¦è¾¹è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå¯¹å³è¾¹é€’å½’
                start, end = middle, j
                j = middle
            elif nums[middle] < nums[j-1]:
                # å¯¹å³è¾¹è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå¯¹å·¦è¾¹é€’å½’
                start, end = i, middle
                i = middle
            else:
                return helper(nums, i, middle, target) or helper(nums, middle, j, target)

            while i <= j and i < len(nums):
                mid = (i + j) // 2
                if nums[mid] > target:
                    j = mid - 1
                elif nums[mid] < target:
                    i = mid + 1
                else:
                    return nums[mid] == target

            return helper(nums, start, end, target)

        return helper(nums, 0, len(nums), target)
      
```

## A82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ’åºé“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰å«æœ‰é‡å¤æ•°å­—çš„èŠ‚ç‚¹ï¼Œåªä¿ç•™åŸå§‹é“¾è¡¨ä¸­ *æ²¡æœ‰é‡å¤å‡ºç°* çš„æ•°å­—ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 1->2->3->3->4->4->5
è¾“å‡º: 1->2->5
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 1->1->1->2->3
è¾“å‡º: 2->3
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii/>

#### **æ€è·¯:**

ã€€ã€€ç”¨ä¸€ä¸ªå­—å…¸è®°å½•æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœå‡ºç°æ¬¡æ•°å¤§äº`1`å°±åˆ é™¤ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def deleteDuplicates(self, head: ListNode) -> ListNode:
        if not head:
            return

        ans = ListNode(0)
        cur = ans
        mem = defaultdict(int)
        node = head
        while node:
            mem[node.val] += 1
            node = node.next

        node = head
        while node:
            if mem[node.val] == 1:
                cur.next = node
                cur = node
            else:
                cur.next = None
            node = node.next

        return ans.next

```

## A84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™å®š *n* ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚  

æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚  

![img](_img/84_1.png)

ä»¥ä¸Šæ˜¯æŸ±çŠ¶å›¾çš„ç¤ºä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªæŸ±å­çš„å®½åº¦ä¸º 1ï¼Œç»™å®šçš„é«˜åº¦ä¸º `[2,1,5,6,2,3]`ã€‚

 

![img](_img/84_2.png)

å›¾ä¸­é˜´å½±éƒ¨åˆ†ä¸ºæ‰€èƒ½å‹¾å‹’å‡ºçš„æœ€å¤§çŸ©å½¢é¢ç§¯ï¼Œå…¶é¢ç§¯ä¸º `10` ä¸ªå•ä½ã€‚ 

> **ç¤ºä¾‹:**

```
è¾“å…¥: [2,1,5,6,2,3]
è¾“å‡º: 10
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/largest-rectangle-in-histogram/>

#### æ€è·¯  

ã€€ã€€å•è°ƒæ ˆï¼Œæ–°å…ƒç´ å¦‚æœå°äºç­‰äºæ ˆé¡¶å…ƒç´ åˆ™**ä¸æ–­**å¼¹æ ˆã€‚å®é™…å®ç°æ—¶æ ˆå†…è®°å½•çš„æ˜¯å…ƒç´ çš„ä¸‹æ ‡ã€‚

ã€€ã€€ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå‡è®¾æ­¤æ—¶æ ˆå†…å…ƒç´ ä¸º `A`  `B` ã€‚é‡åˆ°å…ƒç´ `C <= B`ï¼Œéœ€è¦åšå‡ºæ ˆå¤„ç†ï¼ˆç„¶åå†å°†`C`å…¥æ ˆï¼‰ï¼Œåˆ™å¯¹äºå³å°†è¦å‡ºæ ˆçš„Bæ¥è¯´ï¼š`A`æ˜¯ä»`B`èµ·å‘å·¦ï¼Œç¬¬ä¸€ä¸ªå°äº`B`çš„å…ƒç´ ï¼›`C`æ˜¯ä»`B`èµ·å‘å³ï¼Œç¬¬ä¸€ä¸ªå°äºç­‰äºBçš„å…ƒç´ ã€‚`A`å’Œ`C`çš„ä¸‹æ ‡ä¹‹å·®å³é«˜åº¦ä¸º`B`çš„æœ€å¤§å®½åº¦ã€‚    

ã€€ã€€ä¾‹å¦‚ï¼š`heights= [2,1,5,6,2,3]`ã€‚æ ˆæ“ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š  

```
å…¥æ ˆ 2
å‡ºæ ˆ 2 å®½åº¦ 1 ans=2
å…¥æ ˆ 1
å…¥æ ˆ 5
å…¥æ ˆ 6
å‡ºæ ˆ 6 å®½åº¦ 1 ans=6
å‡ºæ ˆ 5 å®½åº¦ 2 ans=10
å…¥æ ˆ 2
å…¥æ ˆ 3
å‡ºæ ˆ 3 å®½åº¦ 1 ansä¸å˜
å‡ºæ ˆ 2 å®½åº¦ 4 ansä¸å˜
å‡ºæ ˆ 1 å®½åº¦ 6 ansä¸å˜
```

#### ä»£ç   

```python
class Solution:
    def largestRectangleArea(self, heights: List[int]) -> int:
        n = len(heights)
        if n == 0:
            return 0

        s = [-1]
        heights.append(0)
        ans = 0
        for i, h in enumerate(heights):
            while len(s) >= 2 and h <= heights[s[-1]]:  # å‡ºæ ˆ
                last = s.pop()  
                before = s[-1]
                w = i - before - 1
                ans = max(ans, heights[last] * w)
                # print('å‡ºæ ˆ', heights[last], 'å®½åº¦', w)

            if len(s)==0 or h >= heights[s[-1]]:  # å…¥æ ˆ
                s.append(i)
                # print('å…¥æ ˆ', heights[i])

        return ans
```

## A85. æœ€å¤§çŸ©å½¢

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥:
[
  ["1","0","1","0","0"],
  ["1","0","1","1","1"],
  ["1","1","1","1","1"],
  ["1","0","0","1","0"]
]
è¾“å‡º: 6
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximal-rectangle/>

#### æ€è·¯  

ã€€ã€€å¯¹æ¯ä¸€è¡Œéƒ½æ±‚å‡ºæ¯ä¸€åˆ—çš„é«˜åº¦ï¼Œç„¶åæ¯è¡Œä¾æ¬¡è°ƒç”¨ä¸Šä¸€é¢˜[A84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](/stack?id=a84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢)çš„`largestRectangleArea`å‡½æ•°ã€‚  
ã€€ã€€ä¾‹å¦‚ç¤ºä¾‹å¯¹åº”çš„é«˜åº¦çŸ©é˜µä¸ºï¼š

```
[
  [1, 0, 1, 0, 0],  # è¯¥è¡Œè°ƒç”¨largestRectangleAreaç»“æœä¸º1
  [2, 0, 2, 1, 1],  # è¯¥è¡Œè°ƒç”¨largestRectangleAreaç»“æœä¸º3
  [3, 1, 3, 2, 2],  # è¯¥è¡Œè°ƒç”¨largestRectangleAreaç»“æœä¸º6
  [4, 0, 0, 3, 0]   # è¯¥è¡Œè°ƒç”¨largestRectangleAreaç»“æœä¸º1
]
```

#### ä»£ç   

```python
class Solution:
    def largestRectangleArea(self, heights: List[int]) -> int:
        n = len(heights)
        if n == 0:
            return 0

        s = [-1]
        heights.append(0)
        ans = 0
        for i, h in enumerate(heights):
            while len(s) >= 2 and h <= heights[s[-1]]:  # å‡ºæ ˆ
                last = s.pop()  
                before = s[-1]
                w = i - before - 1
                ans = max(ans, heights[last] * w)

            if len(s)==0 or h >= heights[s[-1]]:  # å…¥æ ˆ
                s.append(i)
        return ans

    def maximalRectangle(self, matrix: List[List[str]]) -> int:
        m = len(matrix)
        if m == 0:
            return 0
        n = len(matrix[0])
        helper = [[0 for i in range(n)] for i in range(m)]
        for j in range(n):
            tmp = 0
            for i in range(m):
                if matrix[i][j] == '1':
                    tmp += 1
                    helper[i][j] = tmp
                else:
                    tmp = 0

        ans = 0
        for heights in helper:
            aera_line = self.largestRectangleArea(heights)
            ans = max(ans, aera_line)
        
        return ans

```

## A86. åˆ†éš”é“¾è¡¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨å’Œä¸€ä¸ªç‰¹å®šå€¼ *x*ï¼Œå¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰å°äº *x* çš„èŠ‚ç‚¹éƒ½åœ¨å¤§äºæˆ–ç­‰äº *x* çš„èŠ‚ç‚¹ä¹‹å‰ã€‚

ä½ åº”å½“ä¿ç•™ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: head = 1->4->3->2->5->2, x = 3
è¾“å‡º: 1->2->2->4->3->5
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/partition-list/>

#### **æ€è·¯:**

ã€€ã€€ç”¨ä¸¤ä¸ªæ–°é“¾è¡¨`head1`å’Œ`head2`åˆ†åˆ«è®°å½•å°äº`x`çš„å…ƒç´ å’Œå¤§äºç­‰äº`x`çš„å…ƒç´ ï¼Œç„¶åå†æŠŠå®ƒä»¬è¿æ¥èµ·æ¥ã€‚  

ã€€ã€€ç»™ä¸¤ä¸ªæ–°é“¾è¡¨ä½¿ç”¨è™šæ‹Ÿå¤´ç»“ç‚¹(`dummyhead`)ï¼Œä½¿ä»£ç æ›´ç®€å•ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def partition(self, head: ListNode, x: int) -> ListNode:
        if not head:
            return None

        p1 = dummyhead1 = ListNode(None)
        p2 = dummyhead2 = ListNode(None)

        node = head
        while node:
            cur = node
            node = node.next
            if cur.val < x:
                p1.next = cur
                p1 = p1.next
                p1.next = None
            elif cur.val >= x:
                p2.next = cur
                p2 = p2.next
                p2.next = None 

        p1.next = dummyhead2.next  # å°†head2è¿æ¥å†head1æœ€å
        return dummyhead1.next

```

## A87. æ‰°ä¹±å­—ç¬¦ä¸²

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² *s1*ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒé€’å½’åœ°åˆ†å‰²æˆä¸¤ä¸ªéç©ºå­å­—ç¬¦ä¸²ï¼Œä»è€Œå°†å…¶è¡¨ç¤ºä¸ºäºŒå‰æ ‘ã€‚

ä¸‹å›¾æ˜¯å­—ç¬¦ä¸² *s1* = `"great"` çš„ä¸€ç§å¯èƒ½çš„è¡¨ç¤ºå½¢å¼ã€‚

```
    great
   /    \
  gr    eat
 / \    /  \
g   r  e   at
           / \
          a   t
```

åœ¨æ‰°ä¹±è¿™ä¸ªå­—ç¬¦ä¸²çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‘é€‰ä»»ä½•ä¸€ä¸ªéå¶èŠ‚ç‚¹ï¼Œç„¶åäº¤æ¢å®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æŒ‘é€‰éå¶èŠ‚ç‚¹ `"gr"` ï¼Œäº¤æ¢å®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå°†ä¼šäº§ç”Ÿæ‰°ä¹±å­—ç¬¦ä¸² `"rgeat"` ã€‚

```
    rgeat
   /    \
  rg    eat
 / \    /  \
r   g  e   at
           / \
          a   t
```

æˆ‘ä»¬å°† `"rgeatâ€` ç§°ä½œ `"great"` çš„ä¸€ä¸ªæ‰°ä¹±å­—ç¬¦ä¸²ã€‚

åŒæ ·åœ°ï¼Œå¦‚æœæˆ‘ä»¬ç»§ç»­äº¤æ¢èŠ‚ç‚¹ `"eat"` å’Œ `"at"` çš„å­èŠ‚ç‚¹ï¼Œå°†ä¼šäº§ç”Ÿå¦ä¸€ä¸ªæ–°çš„æ‰°ä¹±å­—ç¬¦ä¸² `"rgtae"` ã€‚

```
    rgtae
   /    \
  rg    tae
 / \    /  \
r   g  ta  e
       / \
      t   a
```

æˆ‘ä»¬å°† `"rgtaeâ€` ç§°ä½œ `"great"` çš„ä¸€ä¸ªæ‰°ä¹±å­—ç¬¦ä¸²ã€‚

ç»™å‡ºä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„å­—ç¬¦ä¸² *s1* å’Œ *s2*ï¼Œåˆ¤æ–­ *s2* æ˜¯å¦æ˜¯ *s1* çš„æ‰°ä¹±å­—ç¬¦ä¸²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: s1 = "great", s2 = "rgeat"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: s1 = "abcde", s2 = "caebd"
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/scramble-string/>

#### æ€è·¯  

ã€€ã€€è¿™é¢˜çš„ä¸»è¦éš¾ç‚¹åœ¨äºç†è§£é¢˜æ„ã€‚æ ¹æ®é¢˜æ„ï¼Œ`s2`æ˜¯`s1`çš„**æ‰°ä¹±å­—ç¬¦ä¸²**çš„å……åˆ†å¿…è¦æ¡ä»¶ä¸ºï¼šæŠŠå®ƒä»¬åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œè¿™ä¸¤éƒ¨åˆ†éƒ½äº’ä¸ºæ‰°ä¹±å­—ç¬¦ä¸²ã€‚åˆ’åˆ†æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š  

<img src="_img/a87.png" style="zoom:40%"/>

ã€€ã€€å› æ­¤åªè¦é€’å½’åœ°åˆ¤æ–­å³å¯ã€‚å¯¹äºä¸€å‰ä¸€åçš„åˆ’åˆ†æ–¹å¼ï¼Œ`s1[:i]`ä¸`s2[n-i:]`äº’ä¸ºæ‰°ä¹±å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”`s1[i:]`å’Œ`s2[:n-i]`äº’ä¸ºæ‰°ä¹±å­—ç¬¦ä¸²ã€‚  

ã€€ã€€ä¸‹é¢ä¸¤ä¸ªç»“è®ºå¯ä»¥åœ¨é€’å½’åˆ¤æ–­ä¸­ç®€åŒ–é—®é¢˜ï¼š  

ã€€ã€€1ã€å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²äº’ä¸ºæ‰°ä¹±å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå®ƒä»¬å‡ºç°çš„å­—æ¯ä¸€å®šæ˜¯ç›¸åŒçš„ã€‚  

ã€€ã€€2ã€ç›¸åŒçš„å­—ç¬¦ä¸²äº’ä¸ºæ‰°ä¹±å­—ç¬¦ä¸²ã€‚  

ã€€ã€€è‡³äºä»£ç ä¸­çš„ä½¿ç”¨ *å¸¦è®°å¿†æ•°ç»„* å­˜å‚¨ä¸­é—´è¿‡ç¨‹ï¼Œå®é™…è¿è¡Œä¸­å¹¶ä¸èƒ½æœ‰æ•ˆåœ°å‡å°‘æ—¶é—´ã€‚  

#### ä»£ç   
```python
class Solution(object):
    def isScramble(self, s1, s2):
        if len(s1) != len(s2):
            return False
        n = len(s1)
        # dp[i][j][l]è¡¨ç¤ºs1[i:i+l]èƒ½å¦å’Œs2[j:j+l]åŒ¹é…
        dp = [[[None for l in range(n+1)] for j in range(n)] for i in range(n)]  # å¸¦è®°å¿†æ•°ç»„
        for i in range(n):
            for j in range(n):
                dp[i][j][1] = s1[i] == s2[j]

        def dfs(i, j, lp): # lpè¡¨ç¤ºçˆ¶å­—ç¬¦ä¸²çš„é•¿åº¦
            if dp[i][j][lp] is not None:  # å¦‚æœå¸¦è®°å¿†æ•°ç»„ä¸­å·²ç»æœ‰ç»“æœ åˆ™ç›´æ¥è¿”å›
                return dp[i][j][lp]

            if s1[i:i+lp] == s2[j:j+lp]:  # ç›¸åŒçš„å­—ç¬¦ä¸²äº’ç›¸æ‰°ä¹±
                dp[i][j][lp] = True
                return True

            if sorted(s1[i:i+lp]) != sorted(s2[j:j+lp]):  # å­—ç¬¦ä¸åŒï¼Œä¸äº’ç›¸æ‰°ä¹±
                dp[i][j][lp] = False
                return False

            for l in range(1, lp):
                if dfs(i, j, l) and dfs(i+l, j+l, lp-l):  # éƒ½åœ¨å‰çš„åˆ’åˆ†æ–¹å¼
                    return True
                if dfs(i, j+lp-l, l) and dfs(i+l, j, lp-l):  # ä¸€å‰ä¸€åçš„åˆ’åˆ†æ–¹å¼
                    return True
                    
            return False
        
        return dfs(0, 0, n)
```

## A88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„

éš¾åº¦ `ç®€å•`  
#### é¢˜ç›®æè¿°

ç»™ä½ ä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ *nums1* å’Œ *nums2* ã€‚è¯·ä½ å°† *nums2* åˆå¹¶åˆ° *nums1* ä¸­*ï¼Œ*ä½¿ *num1* æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚

**è¯´æ˜:**

- åˆå§‹åŒ– *nums1* å’Œ *nums2* çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸º *m* å’Œ *n* ã€‚
- ä½ å¯ä»¥å‡è®¾ *nums1* æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ˆç©ºé—´å¤§å°å¤§äºæˆ–ç­‰äº *m + n* ï¼‰æ¥ä¿å­˜ *nums2* ä¸­çš„å…ƒç´ ã€‚ 

> **ç¤ºä¾‹:**

```
è¾“å…¥:
nums1 = [1,2,3,0,0,0], m = 3
nums2 = [2,5,6],       n = 3

è¾“å‡º: [1,2,2,3,5,6]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/merge-sorted-array/>


#### æ€è·¯  


ã€€ã€€å’Œ[é¢è¯•é¢˜ 10.01](https://leetcode-cn.com/problems/sorted-merge-lcci/)ç›¸åŒã€‚å°†`nums2`ä¸­çš„å…ƒç´ ç”¨`insert`æ’å…¥åˆ°`nums1`ä¸­å³å¯ã€‚æ³¨æ„`nums1`ä¸ºç©ºæ—¶å¯èƒ½ä¼šè¶Šç•Œå¼‚å¸¸ã€‚  

#### ä»£ç   
```python
class Solution:
    def merge(self, nums1: List[int], m: int, nums2: List[int], n: int) -> None:
        A, B = nums1, nums2
        if m == 0:
            A[:] = B[:]
            return
            
        temp = A[:m]
        i = 0 
        j = 0
        for j in range(n):
            while temp[i] < B[j]:
                i += 1
                if i >= len(temp):
                    break
            
            temp.insert(i, B[j])

        A[:] = temp[:]
        
```

## A89. æ ¼é›·ç¼–ç 

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

æ ¼é›·ç¼–ç æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œä¸¤ä¸ªè¿ç»­çš„æ•°å€¼ä»…æœ‰ä¸€ä¸ªä½æ•°çš„å·®å¼‚ã€‚

ç»™å®šä¸€ä¸ªä»£è¡¨ç¼–ç æ€»ä½æ•°çš„éè´Ÿæ•´æ•° *n*ï¼Œæ‰“å°å…¶æ ¼é›·ç¼–ç åºåˆ—ã€‚æ ¼é›·ç¼–ç åºåˆ—å¿…é¡»ä»¥ 0 å¼€å¤´ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 2
è¾“å‡º: [0,1,3,2]
è§£é‡Š:
00 - 0
01 - 1
11 - 3
10 - 2

å¯¹äºç»™å®šçš„ nï¼Œå…¶æ ¼é›·ç¼–ç åºåˆ—å¹¶ä¸å”¯ä¸€ã€‚
ä¾‹å¦‚ï¼Œ[0,2,3,1] ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ ¼é›·ç¼–ç åºåˆ—ã€‚

00 - 0
10 - 2
11 - 3
01 - 1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 0
è¾“å‡º: [0]
è§£é‡Š: æˆ‘ä»¬å®šä¹‰æ ¼é›·ç¼–ç åºåˆ—å¿…é¡»ä»¥ 0 å¼€å¤´ã€‚
     ç»™å®šç¼–ç æ€»ä½æ•°ä¸º n çš„æ ¼é›·ç¼–ç åºåˆ—ï¼Œå…¶é•¿åº¦ä¸º 2nã€‚å½“ n = 0 æ—¶ï¼Œé•¿åº¦ä¸º 20 = 1ã€‚
     å› æ­¤ï¼Œå½“ n = 0 æ—¶ï¼Œå…¶æ ¼é›·ç¼–ç åºåˆ—ä¸º [0]ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/gray-code/>

#### **æ€è·¯:**

ã€€ã€€ç”¨ä¸€ä¸ª`é›†åˆ`è®°å½•æœ‰å“ªäº›æ•°å­—æ˜¯æ²¡æœ‰ç”¨è¿‡çš„ã€‚â‘  å°è¯•ç¿»è½¬æ¯ä¸€ä½ï¼Œå¦‚æœæ–°çš„æ•°å­—æ²¡æœ‰ç”¨è¿‡å°±è®°å½•ä¸‹æ¥ï¼Œç„¶åç»§ç»­é‡å¤ â‘ ã€‚  

ã€€ã€€ç¿»è½¬æŸä¸€ä½å¯ä»¥ç”¨` ^ (1 << i)`å®ç°ï¼Œ(å¼‚æˆ–`0`çš„ä½ä¸å˜ï¼Œå¼‚æˆ–`1`çš„ä½ç¿»è½¬)ã€‚ã€€ 

#### **ä»£ç :**

```python
class Solution:
    def grayCode(self, n: int) -> List[int]:
        not_used = set(range(1, 2**n))
        ans = [0]
        cur = 0
        for _ in range(2**n-1):
            for i in range(n):
                flip = cur ^ (1 << i)  # ç¿»è½¬æŸä¸€ä½
                if flip in not_used:  # æ²¡æœ‰ä½¿ç”¨è¿‡
                    cur = flip
                    ans.append(cur)
                    can_use.remove(cur)
                    break  # è·³å‡ºé‡Œé¢çš„forå¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡â‘ 

        return ans
      
```

## A90. å­é›† II

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå¯èƒ½åŒ…å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ ***nums*** ï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

**è¯´æ˜ï¼š**è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [1,2,2]
è¾“å‡º:
[
  [2],
  [1],
  [1,2,2],
  [2,2],
  [1,2],
  []
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/subsets-ii/>

#### æ€è·¯  

ã€€ã€€è¿™é¢˜å’Œ[A78. å­é›†](/bit?id=a78-å­é›†)ç±»ä¼¼ï¼Œåªä¸è¿‡å¤šäº†é‡å¤çš„æƒ…å†µï¼Œéœ€è¦åœ¨æœç´¢æ—¶å‡æï¼Œæ’é™¤é‡å¤çš„æ–¹æ³•ä¸[A40. ç»„åˆæ€»æ•° II](/dfs?id=a40-ç»„åˆæ€»å’Œ-ii)ç±»ä¼¼ã€‚  

ã€€ã€€å…ˆæ’åºï¼Œåœ¨æ¯è½®çš„`for`å¾ªç¯ä¸­ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´ å¤–ï¼Œ**ä¸ä½¿ç”¨**å’Œä¸Šä¸€ä¸ªé‡å¤çš„å…ƒç´ ã€‚

#### ä»£ç   

```python
class Solution:
    def subsetsWithDup(self, nums: List[int]) -> List[List[int]]:
        nums.sort()
        ans = []
        l = len(nums)
        def dfs(n, temp):
            ans.append(temp.copy())
            nonlocal l
            for i in range(n, l):
                if i == n or nums[i] != nums[i-1]:  # ç”¨ä¸åŒé€’å½’æ¬¡æ•°æ¥å‡æ
                    temp.append(nums[i])
                    dfs(i+1, temp)
                    temp.remove(nums[i])

        dfs(0, [])
        return ans
```

## A91. è§£ç æ–¹æ³•

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ä¸€æ¡åŒ…å«å­—æ¯ `A-Z` çš„æ¶ˆæ¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œäº†ç¼–ç ï¼š

```
'A' -> 1
'B' -> 2
...
'Z' -> 26
```

ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„**éç©º**å­—ç¬¦ä¸²ï¼Œè¯·è®¡ç®—è§£ç æ–¹æ³•çš„æ€»æ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "12"
è¾“å‡º: 2
è§£é‡Š: å®ƒå¯ä»¥è§£ç ä¸º "AB"ï¼ˆ1 2ï¼‰æˆ–è€… "L"ï¼ˆ12ï¼‰ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "226"
è¾“å‡º: 3
è§£é‡Š: å®ƒå¯ä»¥è§£ç ä¸º "BZ" (2 26), "VF" (22 6), æˆ–è€… "BBF" (2 2 6) ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/decode-ways/>


#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ï¼Œè¿™é“é¢˜çš„è§£æ³•ä¸éš¾ï¼Œä½†æ˜¯è¦æ³¨æ„è€ƒè™‘`0`çš„æƒ…å†µã€‚  
ã€€ã€€`dp[i]`è¡¨ç¤º`s`çš„å‰`i`ä½èƒ½è§£ç çš„æ–¹æ³•æ€»æ•°ã€‚è®¡ç®—`dp[i]`æ—¶é¡»è€ƒè™‘`æœ€åä¸€ä½èƒ½è§£ç `å’Œ`æœ€åä¸¤ä½èƒ½è§£ç `çš„æƒ…å†µã€‚å¦‚æœæœ€åä¸€ä½èƒ½è§£ç (å³æœ€åä¸€ä½ä¸ä¸º`'0'`)ï¼Œåˆ™`dp[i]`åŠ ä¸Š`dp[i-1]`ã€‚å¦‚æœæœ€åä¸¤ä½èƒ½è§£ç (å³æœ€åä¸¤ä½åœ¨`10`å’Œ`26`ä¹‹é—´)ï¼Œåˆ™`dp[i]`åŠ ä¸Š`dp[i-2]`ã€‚  

ã€€ã€€å³æœ‰é€’æ¨å…¬å¼ï¼š

ã€€ã€€`dp[i]`=`dp[i-1]`(æœ€åä¸€ä½èƒ½è§£ç ) +`dp[i-2]`(æœ€åä¸¤ä½èƒ½è§£ç ) else `0`

#### ä»£ç   
```python
class Solution(object):
    def numDecodings(self, s: str) -> int:
        # dp[i] = dp[i-1] + dp[i-2](if 10 <= int(s[i-2: i]) <= 26)
        n = len(s)
        if n == 0:
            return n
        dp = [0 for i in range(n+1)]
        dp[0] = 1
        dp[1] = 1 if s[0] != '0' else 0
        for i in range(2, n+1):
            last_1 = dp[i-1] if s[i-1] != '0' else 0  # æœ€åä¸€ä½èƒ½å¤Ÿè§£ç 
            last_2 = dp[i-2] if 10 <= int(s[i-2: i]) <= 26 else 0 # æœ€åä¸¤ä½èƒ½å¤Ÿè§£ç ï¼ŒèŒƒå›´åœ¨10-26ä¹‹é—´
            dp[i] = last_1 + last_2

        # print(dp)
        return dp[-1]
```

## A92. åè½¬é“¾è¡¨ II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

åè½¬ä»ä½ç½® *m* åˆ° *n* çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚

**è¯´æ˜:**
1 â‰¤ *m* â‰¤ *n* â‰¤ é“¾è¡¨é•¿åº¦ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 1->2->3->4->5->NULL, m = 2, n = 4
è¾“å‡º: 1->4->3->2->5->NULL
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reverse-linked-list-ii/>

#### **æ€è·¯:**

ã€€ã€€ç¬¬ä¸€ä¸ªæŒ‡é’ˆå…ˆä»å¤´æŒ‡é’ˆå‘åç§»`m-1`æ¬¡ï¼Œç„¶ååè½¬`n-m+1`ä¸ªç»“ç‚¹ï¼Œæœ€åæŠŠç»“å°¾çš„ç»“ç‚¹è¿åœ¨æœ€åå³å¯ã€‚  

#### **ä»£ç :**

```python

class Solution:
    def reverseBetween(self, head: ListNode, m: int, n: int) -> ListNode:
        node = head
        dummy = ListNode(0)

        mid = dummy
        for _ in range(m-1):
            mid = node
            node = node.next

        mid2 = node
        rever = None

        for _ in range(n-m+1):
            node.next, rever, node = rever, node, node.next

        mid.next = rever  # midæ˜¯å‰é¢çš„éƒ¨åˆ†ï¼Œreveræ˜¯åè½¬çš„éƒ¨åˆ†
        mid2.next = node  # mid2æ˜¯åè½¬éƒ¨åˆ†çš„æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œnodeæ˜¯åé¢çš„éƒ¨åˆ†
        return rever if m == 1 else head
      
```

## A93. å¤åŸIPåœ°å€

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå¤åŸå®ƒå¹¶è¿”å›æ‰€æœ‰å¯èƒ½çš„ IP åœ°å€æ ¼å¼ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: "25525511135"
è¾“å‡º: ["255.255.11.135", "255.255.111.35"]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/restore-ip-addresses/>


#### æ€è·¯  

ã€€ã€€æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚  

ã€€ã€€**æ³¨æ„ï¼š**ipåœ°å€æ¯ä¸€æ®µéƒ½ä¸èƒ½æœ‰`å‰å¯¼0`ï¼Œå¦‚`0.010.0.1`æ˜¯ä¸åˆæ³•çš„ã€‚  

#### ä»£ç   
```python
class Solution:
    def restoreIpAddresses(self, s: str) -> List[str]:
        ls = len(s)
        if ls > 12: return []
        temp = [''] * 4
        valid = lambda x: len(x) > 0 and int(x) < 256 and (x == '0' or not x.startswith('0'))

        ans = []
        def dfs(n, s): # næ˜¯ç¬¬å‡ æ®µï¼Œå–å€¼0123
            if not s: return
            if n == 3:
                if valid(s):
                    temp[3] = s
                    ans.append('.'.join(temp))
                return
            
            for i in range(1, 4):
                if valid(s[:i]):
                    temp[n] = s[:i]
                    dfs(n+1, s[i:])
            
        dfs(0, s)
        return ans
      
```

## A94. äºŒå‰æ ‘çš„ä¸­åºéå†

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„*ä¸­åº* éå†ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [1,null,2,3]
   1
    \
     2
    /
   3

è¾“å‡º: [1,3,2]
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-inorder-traversal/>

#### **æ€è·¯:**


ã€€ã€€ä¸­åºéå†æ˜¯`å…ˆå·¦ä¸­æ ¹åå³`çš„éå†æ–¹æ³•ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªéé€’å½’çš„å†™æ³•ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def inorderTraversal(self, root: TreeNode) -> List[int]:
        # å·¦æ ¹å³
        if not root:
            return []

        stack = []
        ans = []
        while stack or root:
            while root:
                stack.append(root)
                root = root.left
            
            root = stack.pop()
            ans.append(root.val)
            root = root.right

        return ans

```

## A95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•° *n*ï¼Œç”Ÿæˆæ‰€æœ‰ç”± 1 ... *n* ä¸ºèŠ‚ç‚¹æ‰€ç»„æˆçš„**äºŒå‰æœç´¢æ ‘**ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 3
è¾“å‡º:
[
  [1,null,3,2],
  [3,2,null,1],
  [3,1,null,null,2],
  [2,1,3],
  [1,null,2,null,3]
]
è§£é‡Š:
ä»¥ä¸Šçš„è¾“å‡ºå¯¹åº”ä»¥ä¸‹ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘ï¼š

   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/unique-binary-search-trees-ii/>


#### æ€è·¯  

ã€€ã€€å…¶å®ä¸ç”¨åŠ¨æ€è§„åˆ’ï¼Œç”±äºäºŒå‰æœç´¢æ ‘æ˜¯ *é€’å½’å®šä¹‰* çš„ï¼Œé€’å½’å³å¯ã€‚  
ã€€ã€€`generate(i, j)`ç”¨äºç”Ÿæˆæ•°å­—`[i, j)`ä¹‹é—´çš„**æ‰€æœ‰**äºŒå‰æœç´¢æ ‘ã€‚  

ã€€ã€€å°†æ¯ä¸ª`k`âˆˆ`[i, j)`ä½œä¸ºæ ¹ç»“ç‚¹ï¼Œå…ˆç”Ÿæˆæ‰€æœ‰å·¦å­æ ‘ï¼Œå†ç”Ÿæˆæ‰€æœ‰å³å­æ ‘ã€‚éå†å·¦å­æ ‘å’Œå³å­æ ‘çš„åˆ—è¡¨ï¼Œä½œä¸º`k`çš„å·¦å³å­ç»“ç‚¹ã€‚æœ€åå°†æ‰€æœ‰ä¸åŒçš„æ ‘ä½œä¸ºä¸€ä¸ªåˆ—è¡¨è¿”å›ã€‚  

#### ä»£ç   
```python
class Solution:
    def generateTrees(self, n: int) -> List[TreeNode]:
        # generate[i][j]  [i: j)
        def generate(i, j):
            if j <= i:
                return [None]

            for k in range(i, j):
                left = generate(i, k)  # å·¦å­æ ‘çš„åˆ—è¡¨
                right = generate(k+1, j)  # å³å­æ ‘çš„åˆ—è¡¨
                for l in left:
                    for r in right:
                        root = TreeNode(k)
                        root.left = l
                        root.right = r
                        ans.append(root)
            return ans
        
        return generate(1, n+1) if n else []
```

## A96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•° *n*ï¼Œæ±‚ä»¥ 1 ... *n* ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ

> **ç¤ºä¾‹:**

```
è¾“å…¥: 3
è¾“å‡º: 5
è§£é‡Š:
ç»™å®š n = 3, ä¸€å…±æœ‰ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘:

   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/unique-binary-search-trees/>


#### æ€è·¯  

ã€€ã€€å’Œä¸Šä¸€é¢˜[A95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II](/dp?id=a95-ä¸åŒçš„äºŒå‰æœç´¢æ ‘-ii)æ€è·¯ç±»ä¼¼ï¼Œé€’å½’æ±‚è§£ã€‚  

ã€€ã€€ä»¥æ¯ä¸ªå…ƒç´ ä½œä¸ºæ ¹ç»“ç‚¹æ—¶ï¼Œå·¦å³å­æ ‘æƒ…å†µçš„**ä¹˜ç§¯**å³ä¸ºè¿™ä¸ªæ ¹ç»“ç‚¹çš„ç§æ•°ã€‚ç”¨ä¸€ä¸ª *è®°å¿†æ•°ç»„* ä¿å­˜è®¡ç®—è¿‡ç»“æœçš„`n`ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚  

#### ä»£ç   
```python
class Solution:
    def numTrees(self, n: int) -> int:
        # 0ã€1ã€2 ä¸ªç»“ç‚¹åˆ†åˆ«æœ‰ 1ã€1ã€2ç§
        dp = [1, 1, 2] + [0 for i in range(n)] 
        def helper(n):  # å’Œ numTrees(n) ä½œç”¨ç›¸åŒ
            if dp[n]: return dp[n]  # å¦‚æœåœ¨è®°å¿†æ•°ç»„ä¸­ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œä¸éœ€è¦é‡å¤è®¡ç®—

            ans = 0
            for root in range(1, n+1):  # æ ¹ç»“ç‚¹
                left = helper(root-1)
                right = helper(n-root)
                ans += left * right
                
            dp[n] = ans
            return ans

        return helper(n)
```

## A97. äº¤é”™å­—ç¬¦ä¸²

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸‰ä¸ªå­—ç¬¦ä¸² *s1*, *s2*, *s3*, éªŒè¯ *s3* æ˜¯å¦æ˜¯ç”± *s1* å’Œ *s2* äº¤é”™ç»„æˆçš„ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: s1 = "aabcc", s2 = "dbbca", s3 = "aadbbcbcac"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: s1 = "aabcc", s2 = "dbbca", s3 = "aadbbbaccc"
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/interleaving-string/>


#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚`dp[i][j]`è¡¨ç¤º`s1[:i]`å’Œ`s2[:j]`èƒ½å¦äº¤é”™ç»„æˆ`s3[:i+j]`ã€‚  

ã€€ã€€å…ˆè€ƒè™‘æœ‰ä¸€ä¸ªä¸ºç©ºçš„æƒ…å†µã€‚`j=0`æ—¶ï¼Œ`dp[i][0]`=`s1[:i] == s3[:i]`ï¼›åŒæ ·ï¼Œ`i=0`æ—¶ï¼Œ`dp[0][j]` = `s2[:j] == s3[:j]`ã€‚  

<img src="_img/a97.png" style="zoom:40%"/>

ã€€ã€€`dp[i][j]`åªåœ¨æ»¡è¶³ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¹‹ä¸€æ—¶ä¸ºçœŸï¼š  

ã€€ã€€1. `s3`çš„æœ«å°¾å…ƒç´ å’Œ`s1`çš„æœ«å°¾å…ƒç´ ç›¸åŒï¼Œä¸”`dp[i-1][j] = True`ï¼›  

ã€€ã€€2. `s3` çš„æœ«å°¾å…ƒç´ å’Œ`s2`çš„æœ«å°¾å…ƒç´ ç›¸åŒï¼Œä¸”`dp[i][j-1] = True`ã€‚ä¸Šå›¾æ‰€ç¤ºçš„æ˜¯ç¬¬äºŒç§æƒ…å†µã€‚    

#### ä»£ç   
```python
class Solution:
    def isInterleave(self, s1: str, s2: str, s3: str) -> bool:
        # s1[i] s2[j] s3[i+j]
        l1, l2, l3 = len(s1), len(s2), len(s3)
        if l3 != l1 + l2:
            return False
        if not l1: return s2 == s3
        elif not l2: return s1 == s3

        dp = [[False for j in range(l2+1)] for i in range(l1+1)]
        for i in range(l1+1):
            dp[i][0] = s1[:i] == s3[:i]

        for j in range(l2+1):
            dp[0][j] = s2[:j] == s3[:j]

        for i in range(1, l1+1):
            for j in range(1, l2+1):
                dp[i][j] = (s3[i+j-1] == s1[i-1] and dp[i-1][j]) or (s3[i+j-1] == s2[j-1] and dp[i][j-1])

        # print(dp)
        return dp[-1][-1]
```
## A98. éªŒè¯äºŒå‰æœç´¢æ ‘

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚

å‡è®¾ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š

- èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å«**å°äº**å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚
- èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å«**å¤§äº**å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚
- æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
    2
   / \
  1   3
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
    5
   / \
  1   4
     / \
    3   6
è¾“å‡º: false
è§£é‡Š: è¾“å…¥ä¸º: [5,1,4,null,null,3,6]ã€‚
     æ ¹èŠ‚ç‚¹çš„å€¼ä¸º 5 ï¼Œä½†æ˜¯å…¶å³å­èŠ‚ç‚¹å€¼ä¸º 4 ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/validate-binary-search-tree/>

#### **æ€è·¯:**

ã€€ã€€DFSï¼Œåœ¨é€’å½’è¿‡ç¨‹ä¸­è®°å½•æ¯æ£µå­æ ‘çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œç„¶åå’Œæ ¹èŠ‚ç‚¹æ¯”è¾ƒã€‚  

#### **ä»£ç :**  

ã€€ã€€**å†™æ³•ä¸€ï¼š**

```python
class Solution:
    def isValidBST(self, root: TreeNode) -> bool:
        
        def dfs(root):  # è¿”å›æœ€å°å€¼ æœ€å¤§å€¼ ä»¥åŠæ˜¯ä¸æ˜¯BST
            min_root = max_root = root.val
            bst_root = True
            if root.left:
                if root.left.val >= root.val: return 0, 0, False  # å¿«é€Ÿåˆ¤æ–­ å‡å°‘æœç´¢æ¬¡æ•°

                min_left, max_left, bst_left = dfs(root.left)
                if not bst_left or max_left >= root.val:  # å·¦å­æ ‘ä¸æ˜¯æˆ–è€…å·¦å­æ ‘æœ€å¤§å€¼å¤§äºæ ¹ç»“ç‚¹
                    return 0, 0, False
                min_root = min(min_root, min_left)
                max_root = max(max_root, max_left)

            if root.right:
                if root.right.val <= root.val: return 0, 0, False
                
                min_right, max_right, bst_right = dfs(root.right)
                if not bst_right or min_right <= root.val:  # å·¦å­æ ‘ä¸æ˜¯æˆ–è€…å·¦å­æ ‘æœ€å¤§å€¼å¤§äºæ ¹ç»“ç‚¹
                    return 0, 0, False
                min_root = min(min_root, min_right)
                max_root = max(max_root, max_right)

            return min_root, max_root, bst_root

        if not root:
            return True

        _, _, ans = dfs(root)

        return ans

```

ã€€ã€€**å†™æ³•äºŒï¼š**

```python
class Solution:
    def isValidBST(self, root: TreeNode) -> bool:
        
        def dfs(root, minimum, maximun):  # å½“å‰èŠ‚ç‚¹çš„æœ€å°å’Œæœ€å¤§èŒƒå›´
            if not root: return True

            if root.val <= minimum or root.val >= maximun:
                return False

            return dfs(root.left, minimum, root.val) and dfs(root.right, root.val, maximun)

        return dfs(root, float('-inf'), float('inf'))

```

## A99. æ¢å¤äºŒå‰æœç´¢æ ‘

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

äºŒå‰æœç´¢æ ‘ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹è¢«é”™è¯¯åœ°äº¤æ¢ã€‚

è¯·åœ¨ä¸æ”¹å˜å…¶ç»“æ„çš„æƒ…å†µä¸‹ï¼Œæ¢å¤è¿™æ£µæ ‘ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,3,null,null,2]

   1
  /
 3
  \
   2

è¾“å‡º: [3,1,null,null,2]

   3
  /
 1
  \
   2
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,1,4,null,null,2]

  3
 / \
1   4
   /
  2

è¾“å‡º: [2,1,4,null,null,3]

  2
 / \
1   4
   /
  3
```

**è¿›é˜¶:**

- ä½¿ç”¨ O(*n*) ç©ºé—´å¤æ‚åº¦çš„è§£æ³•å¾ˆå®¹æ˜“å®ç°ã€‚
- ä½ èƒ½æƒ³å‡ºä¸€ä¸ªåªä½¿ç”¨å¸¸æ•°ç©ºé—´çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/recover-binary-search-tree/>

#### **æ€è·¯:**

ã€€ã€€äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ä¸€å®šæ˜¯æœ‰åºçš„ã€‚  

ã€€ã€€å…ˆä¸­åºéå†ï¼Œå°†éå†çš„ç»“æœæ’åºï¼Œå¯¹æ¯”å®ƒä»¬å¯ä»¥æ‰¾åˆ°ä¸¤ä¸ªæ›´æ”¹è¿‡çš„ç»“ç‚¹ï¼Œäº¤æ¢å®ƒä»¬å³å¯ã€‚  ã€€ã€€ã€€ã€€

#### **ä»£ç :**  

```python
class Solution:
    def recoverTree(self, root: TreeNode) -> None:
        """
        Do not return anything, modify root in-place instead.
        """
        nodes = []
        def dfs(node):
            if not node:
                return
            dfs(node.left)
            nodes.append(node)  # ä¸­æ ¹éå†
            dfs(node.right)

        dfs(root)

        s = sorted(nodes, key=lambda kv: kv.val)

        a = None
        for x, y in zip(nodes, s):
            if x.val != y.val:
                if a is None:
                    a = x
                else:
                    b = x

        a.val, b.val = b.val, a.val
         
```

## A100. ç›¸åŒçš„æ ‘

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒå®ƒä»¬æ˜¯å¦ç›¸åŒã€‚

å¦‚æœä¸¤ä¸ªæ ‘åœ¨ç»“æ„ä¸Šç›¸åŒï¼Œå¹¶ä¸”èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:       1         1
          / \       / \
         2   3     2   3

        [1,2,3],   [1,2,3]

è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:      1          1
          /           \
         2             2

        [1,2],     [1,null,2]

è¾“å‡º: false
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥:       1         1
          / \       / \
         2   1     1   2

        [1,2,1],   [1,1,2]

è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/same-tree/>

#### **æ€è·¯:**

ã€€ã€€å…ˆåˆ¤æ–­æ ¹ç»“ç‚¹æ˜¯å¦ç›¸åŒï¼Œç„¶åé€’å½’åˆ¤æ–­å·¦å³å­æ ‘ã€‚  ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def isSameTree(self, p: TreeNode, q: TreeNode) -> bool:
        if not p and not q:  # éƒ½ä¸ºç©º
            return True

        if not p and q or not q and p:  # æœ‰ä¸€ä¸ªä¸ºç©º å¦ä¸€ä¸ªä¸ä¸ºç©º
            return False

        if p.val != q.val:  # éƒ½ä¸ä¸ºç©º ä½†æ˜¯å€¼ä¸åŒ
            return False
            
        return self.isSameTree(p.left, q.left) and self.isSameTree(p.right, q.right)  # é€’å½’åˆ¤æ–­å·¦å³å­æ ‘

```

## A101. å¯¹ç§°äºŒå‰æ ‘

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„ã€‚

ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ `[1,2,2,3,4,4,3]` æ˜¯å¯¹ç§°çš„ã€‚

```
    1
   / \
  2   2
 / \ / \
3  4 4  3
```

ä½†æ˜¯ä¸‹é¢è¿™ä¸ª `[1,2,2,null,3,null,3]` åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:

```
    1
   / \
  2   2
   \   \
   3    3
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/symmetric-tree/>

#### **æ€è·¯:**

ã€€ã€€åŒæŒ‡é’ˆï¼Œ`left`ä»å·¦å­æ ‘å¼€å§‹ï¼Œ`right`ä»å³å­æ ‘å¼€å§‹ã€‚`left`å‘å·¦éå†æ—¶`right`å°±å‘å³éå†ï¼›`left`å‘å³éå†æ—¶`right`å°±å‘å·¦éå†ï¼›å¦‚æœæœ‰ä¸ç›¸ç­‰å°±è¿”å›`False`ã€‚  

#### **ä»£ç :**

```python
lass Solution:
    def isSymmetric(self, root: TreeNode) -> bool:
        def dfs(node_left, node_right):  # åŒæŒ‡é’ˆ
            if not node_left and not node_right: 
                return True

            if not node_left and node_right or not node_right and node_left:
                return False

            if node_left.val != node_right.val:
                return False

            return dfs(node_left.left, node_right.right) and dfs(node_left.right, node_right.left) 

        if not root:
            return True

        return dfs(root.left, root.right)
```

## A102. äºŒå‰æ ‘çš„å±‚åºéå†

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›å…¶æŒ‰ **å±‚åºéå†** å¾—åˆ°çš„èŠ‚ç‚¹å€¼ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚

**ç¤ºä¾‹ï¼š**
äºŒå‰æ ‘ï¼š`[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š

```
[
  [3],
  [9,20],
  [15,7]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-level-order-traversal/>

#### **æ€è·¯:**

ã€€ã€€[å±‚åºéå†æ¨¡æ¿](/å®ç”¨æ¨¡æ¿?id=å¹¿æœï¼šbfsğŸŒ²å±‚åºéå†)ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def levelOrder(self, root: TreeNode) -> List[List[int]]:
        if not root:
            return []

        queue = [root]
        ans = []
        while queue:
            ans.append([q.val for q in queue])
            temp = []
            # queueå­˜æ”¾çš„æ˜¯å½“å‰å±‚çš„æ‰€æœ‰ç»“ç‚¹
            for q in queue:
                if q.left:
                    temp.append(q.left)
                if q.right:
                    temp.append(q.right)

            queue = temp
        return ans

```

## A103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„é”¯é½¿å½¢å±‚æ¬¡éå†ã€‚ï¼ˆå³å…ˆä»å·¦å¾€å³ï¼Œå†ä»å³å¾€å·¦è¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå±‚ä¸å±‚ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼‰ã€‚

ä¾‹å¦‚ï¼š
ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›é”¯é½¿å½¢å±‚æ¬¡éå†å¦‚ä¸‹ï¼š

```
[
  [3],
  [20,9],
  [15,7]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-zigzag-level-order-traversal/>

#### **æ€è·¯:**

ã€€ã€€å’Œä¸Šä¸€é¢˜ä¸€æ ·ã€‚ç”¨ä¸€ä¸ª`flag`æ ‡è®°æ˜¯ä»å·¦å¾€å³è¿˜æ˜¯ä»å³å¾€å·¦å°±è¡Œäº†ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def zigzagLevelOrder(self, root: TreeNode) -> List[List[int]]:
        if not root:
            return []

        queue = [root]
        ans = []
        left_to_right = True
        while queue:
            if left_to_right:
                ans.append([q.val for q in queue])
            else:
                ans.append([q.val for q in queue[::-1]])
            left_to_right = not left_to_right
            temp = []
            # queueå­˜æ”¾çš„æ˜¯å½“å‰å±‚çš„æ‰€æœ‰ç»“ç‚¹
            for q in queue:
                if q.left:
                    temp.append(q.left)
                if q.right:
                    temp.append(q.right)

            queue = temp
        return ans

```

## A104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚

äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹ï¼š**  

ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`ï¼Œ

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/>

#### **æ€è·¯:**

ã€€ã€€æ–¹æ³•ä¸€ï¼šdfsï¼Œç”¨ä¸€ä¸ªå…¨å±€å˜é‡è®°å½•æœ€å¤§æ·±åº¦ï¼Œå¦‚æœå½“å‰ç»“ç‚¹çš„æ·±åº¦å¤§äºæœ€å¤§æ·±åº¦åˆ™æ›´æ–°æœ€å¤§æ·±åº¦ã€‚  

ã€€ã€€æ–¹æ³•ä¸€ï¼šbfsï¼Œå±‚åºä¼˜å…ˆéå†ï¼Œè¿”å›æœ€åä¸€å±‚çš„æ˜¯ç¬¬å‡ å±‚ã€‚  ã€€ã€€ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def maxDepth(self, root: TreeNode) -> int:
        ans = 0
        def dfs(node, depth):
            nonlocal ans
            if not node:
                return
            depth += 1
            ans = max(ans, depth)
            if node.left:
                dfs(node.left, depth)
            
            if node.right:
                dfs(node.right, depth)

        dfs(root, 0)
        return ans
      
```

## A105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

æ ¹æ®ä¸€æ£µæ ‘çš„å‰åºéå†ä¸ä¸­åºéå†æ„é€ äºŒå‰æ ‘ã€‚

**æ³¨æ„:**
ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚

ä¾‹å¦‚ï¼Œç»™å‡º

```
å‰åºéå† preorder = [3,9,20,15,7]
ä¸­åºéå† inorder = [9,3,15,20,7]
```

è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š

```
    3
   / \
  9  20
    /  \
   15   7
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/>

#### æ€è·¯  

ã€€ã€€å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªä¸€å®šä¸ºæ ¹ç»“ç‚¹ï¼Œåœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°è¿™ä¸ªç»“ç‚¹ã€‚å®ƒä¹‹å‰çš„æ‰€æœ‰å…ƒç´ è¡¨ç¤ºå·¦å­æ ‘çš„ä¸­åºéå†ï¼Œåœ¨å‰åºéå†ä¸­å–ç›¸åŒé•¿åº¦åˆ™ä¸ºå·¦å­æ ‘çš„å‰åºéå†ã€‚  

ã€€ã€€æ ¹æ®å·¦å­æ ‘çš„å‰åºå’Œä¸­åºéå†æ„å»ºå·¦å­æ ‘ï¼Œå³å­æ ‘åŒç†ã€‚  

ã€€ã€€é€’å½’å¤„ç†ï¼Œç»“ç‚¹æ•°ä¸º1æ—¶ï¼Œç›´æ¥è¿”å›è¯¥å¶å­ç»“ç‚¹ã€‚  

#### ä»£ç   

```python

class Solution:
    def buildTree(self, preorder: List[int], inorder: List[int]) -> TreeNode:
        if len(preorder) == 0:  # ç©ºæ ‘
            return None
            
        if len(inorder) == 1:  # åªæœ‰ä¸€ä¸ªç»“ç‚¹çš„æ ‘
            return TreeNode(inorder[0])

        root = preorder[0]  # ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæ ¹ç»“ç‚¹
        i = inorder.index(root)  # åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°æ ¹ç»“ç‚¹
        left = self.buildTree(preorder[1:i+1], inorder[:i])  # é€’å½’æ„å»ºå·¦å­æ ‘
        right = self.buildTree(preorder[i+1:], inorder[i+1:])  # é€’å½’æ„å»ºå³å­æ ‘

        ans = TreeNode(root)
        ans.left = left
        ans.right = right
        return ans
```

## A106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

æ ¹æ®ä¸€æ£µæ ‘çš„ä¸­åºéå†ä¸ååºéå†æ„é€ äºŒå‰æ ‘ã€‚

**æ³¨æ„:**
ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚

ä¾‹å¦‚ï¼Œç»™å‡º

```
ä¸­åºéå† inorder = [9,3,15,20,7]
ååºéå† postorder = [9,15,7,20,3]
```

è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š

```
    3
   / \
  9  20
    /  \
   15   7
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/>

#### **æ€è·¯:**

ã€€ã€€ååºéå†ä¸­çš„**æœ€åä¸€ä¸ª**ç»“ç‚¹ä¸€å®šä¸ºæ ¹ç»“ç‚¹ï¼Œåœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°è¿™ä¸ªç»“ç‚¹ã€‚å®ƒä¹‹å‰çš„æ‰€æœ‰å…ƒç´ è¡¨ç¤ºå·¦å­æ ‘çš„ä¸­åºéå†ï¼Œåœ¨å‰åºéå†ä¸­å–ç›¸åŒé•¿åº¦åˆ™ä¸ºå·¦å­æ ‘çš„å‰åºéå†ã€‚  

ã€€ã€€æ ¹æ®å·¦å­æ ‘çš„å‰åºå’Œä¸­åºéå†æ„å»ºå·¦å­æ ‘ï¼Œå³å­æ ‘åŒç†ã€‚  ã€€ã€€

#### **ä»£ç :**

```python

class Solution:
    def buildTree(self, inorder: List[int], postorder: List[int]) -> TreeNode:
        if not inorder:
            return None

        root = postorder[-1]
        idx = inorder.index(root)
        ans = TreeNode(root)

        left = self.buildTree(inorder[:idx], postorder[:idx])
        right = self.buildTree(inorder[idx+1:], postorder[idx:-1])

        ans.left = left
        ans.right = right

        return ans

```

## A108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

å°†ä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æœ‰åºæ•°ç»„ï¼Œè½¬æ¢ä¸ºä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚

æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘*æ¯ä¸ªèŠ‚ç‚¹* çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚

> **ç¤ºä¾‹:**

```
ç»™å®šæœ‰åºæ•°ç»„: [-10,-3,0,5,9],

ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0,-3,9,-10,null,5]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š

      0
     / \
   -3   9
   /   /
 -10  5
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/>

#### **æ€è·¯:**

ã€€ã€€æ¨¡æ¿é¢˜ã€‚è§[æœ‰åºæ•°ç»„æ„å»ºå¹³è¡¡äºŒå‰æ ‘](/å®ç”¨æ¨¡æ¿?id=æœ‰åºæ•°ç»„æ„å»ºå¹³è¡¡äºŒå‰æ ‘)ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def sortedArrayToBST(self, nums: List[int]) -> TreeNode:
        def build(nums, i, j):
            mid = (i+j)//2
            root = TreeNode(nums[mid])
            if(i==j):
                return root
            if i <= mid-1:
                root.left = build(nums,i,mid-1)
            if mid+1 <= j:
                root.right = build(nums, mid+1, j)

            return root

        if not nums: return []
        return build(nums, 0, len(nums)-1)
```

## A110. å¹³è¡¡äºŒå‰æ ‘

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ã€‚

æœ¬é¢˜ä¸­ï¼Œä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æ ‘å®šä¹‰ä¸ºï¼š

> ä¸€ä¸ªäºŒå‰æ ‘*æ¯ä¸ªèŠ‚ç‚¹* çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ã€‚

> **ç¤ºä¾‹ 1:**

ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å› `true` ã€‚

> **ç¤ºä¾‹ 2:**

ç»™å®šäºŒå‰æ ‘ `[1,2,2,3,3,null,null,4,4]`

```
       1
      / \
     2   2
    / \
   3   3
  / \
 4   4
```

è¿”å› `false` ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/balanced-binary-tree/>

#### **æ€è·¯:**

ã€€ã€€dfsï¼Œæœç´¢æ—¶è¿”å›å½“å‰æ ‘çš„æ·±åº¦ï¼Œä»¥åŠæ˜¯å¦å¹³è¡¡ã€‚  

ã€€ã€€å·¦å³å­æ ‘çš„æ·±åº¦ä¹‹å·®ç»å¯¹å€¼å¤§äº1ï¼Œåˆ™è¯¥æ ‘ä¸å¹³è¡¡ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def isBalanced(self, root: TreeNode) -> bool:
        def dfs(node):  # depth, æ˜¯å¦å¹³è¡¡
            if not node:
                return 0, True

            depth = 0

            left, left_balance = dfs(node.left) 
            depth = max(depth, left)

            right, right_balance = dfs(node.right) 
            depth = max(depth, right)

            if not left_balance or not right_balance or abs(left - right) > 1:
                return 0, False


            return depth + 1, True

        _, balance = dfs(root)
        return balance
```

## A111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å°æ·±åº¦ã€‚

æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹:**

ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å®ƒçš„æœ€å°æ·±åº¦  2.

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚ç”¨ä¸€ä¸ª**å…¨å±€å˜é‡**`ans`è®°å½•æœ€å°æ·±åº¦ï¼Œå¦‚æœé‡åˆ°å¶å­ç»“ç‚¹çš„æ·±åº¦å°äº`ans`ï¼Œå°±æ›´æ–°`ans`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def minDepth(self, root: TreeNode) -> int:
        ans = float('inf')
        def dfs(node, depth):
            nonlocal ans
            if not node:
                return 

            depth += 1
            if not node.left and not node.right:
                ans = min(ans, depth)
            else:
                dfs(node.left, depth)
                dfs(node.right, depth)
            
        if not root:
            return 0
            
        dfs(root, 0)
        return ans
```

## A112. è·¯å¾„æ€»å’Œ

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œåˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹:**   

ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ `sum = 22`ï¼Œ

```
              5
             / \
            4   8
           /   / \
          11  13  4
         /  \      \
        7    2      1
```

è¿”å› `true`, å› ä¸ºå­˜åœ¨ç›®æ ‡å’Œä¸º 22 çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ `5->4->11->2`ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/path-sum/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚æœç´¢åˆ°æ¯ä¸ªç»“ç‚¹éƒ½åŠ ä¸Šè¿™ä¸ªç»“ç‚¹çš„`val`ï¼Œæ³¨æ„å‡½æ•°è¿”å›æ—¶è¦å°†åŠ ä¸Šçš„`val`å‡å»ã€‚  

ã€€ã€€å½“æŸä¸ªå¶å­ç»“ç‚¹çš„å’Œç­‰äº`sum`æ—¶è¿”å›`True`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def hasPathSum(self, root: TreeNode, sum: int) -> bool:
        temp = 0
        def dfs(node):
            nonlocal temp
            if not node:
                return False

            temp += node.val

            if not node.left and not node.right and temp == sum:
                return True

            if dfs(node.left) or dfs(node.right):
                return True

            temp -= node.val
            return False

        return dfs(root)
```

## A113. è·¯å¾„æ€»å’Œ II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œæ‰¾åˆ°æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„æ€»å’Œç­‰äºç»™å®šç›®æ ‡å’Œçš„è·¯å¾„ã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹:**  

ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ `sum = 22`ï¼Œ

```
              5
             / \
            4   8
           /   / \
          11  13  4
         /  \    / \
        7    2  5   1
```

è¿”å›:

```
[
   [5,4,11,2],
   [5,8,4,5]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/path-sum-ii/>

#### **æ€è·¯:**

ã€€ã€€æ¯”ä¸Šä¸€é¢˜[A112. è·¯å¾„ç»¼åˆ](/dfs?id=a112-è·¯å¾„æ€»å’Œ)å¤šäº†ä¸€æ­¥è®°å½•`ä»æ ¹ç»“ç‚¹åˆ°å½“å‰ç»“ç‚¹çš„è·¯å¾„`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def pathSum(self, root: TreeNode, sum: int) -> List[List[int]]:
        temp = 0
        path = []  # è®°å½•è·¯å¾„
        ans = []
        def dfs(node):
            if not node:
                return 
            nonlocal temp

            temp += node.val
            path.append(node.val)
            pop_idx = len(path) - 1  # è®°å½•æ’å…¥åˆ°pathä¸­çš„ä½ç½® åœ¨å‡½æ•°è¿”å›å‰åˆ é™¤æ‰

            if not node.left and not node.right and temp == sum:
                ans.append(path.copy())
            else:
                dfs(node.left)
                dfs(node.right)

            # è¿˜åŸåˆ°è°ƒç”¨ä¹‹å‰çš„çŠ¶æ€
            temp -= node.val  
            path.pop(pop_idx)

        dfs(root)
        return ans
      
```

## A114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œ[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•/8010757)å°†å®ƒå±•å¼€ä¸ºé“¾è¡¨ã€‚

ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘

```
    1
   / \
  2   5
 / \   \
3   4   6
```

å°†å…¶å±•å¼€ä¸ºï¼š

```
1
 \
  2
   \
    3
     \
      4
       \
        5
         \
          6
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚  è§„åˆ™å¦‚ä¸‹ï¼š  

```
  â‘  åªæœ‰å³å­æ ‘ï¼šä¸åšä»»ä½•æ“ä½œ å¯¹å³å­æ ‘é€’å½’
  â‘¡ å¶å­ç»“ç‚¹ï¼šæŠŠè‡ªå·±è¿”å›å›å»
  â‘¢ åªæœ‰å·¦å­æ ‘ï¼šå·¦å­æ ‘æ”¾åˆ°å³å­æ ‘ ç„¶åæŠŠå·¦å­æ ‘ç½®ç©º å¯¹å³å­æ ‘é€’å½’
  â‘£ å·¦å³å­æ ‘éƒ½æœ‰ï¼šdfs(å·¦å­æ ‘).right = å³å­æ ‘ node.right=å·¦å­æ ‘ ç„¶åæŠŠå·¦å­æ ‘ç½®ç©º å¯¹(ä¹‹å‰çš„)å³å­æ ‘é€’å½’
```

#### **ä»£ç :**

```python
class Solution:
    def flatten(self, root: TreeNode) -> None:
        """
        Do not return anything, modify root in-place instead.
        """
        # åªæœ‰å³å­æ ‘ï¼š ä¸åšä»»ä½•æ“ä½œ
        # å¶å­ç»“ç‚¹ï¼šæŠŠè‡ªå·±è¿”å›å›å»
        # åªæœ‰å·¦å­æ ‘ï¼šå·¦å­æ ‘æ”¾åˆ°å³å­æ ‘ ç„¶åæŠŠå·¦å­æ ‘ç½®ç©º
        # å·¦å³å­æ ‘éƒ½æœ‰ï¼š dfs(å·¦å­æ ‘).right = å³å­æ ‘ node.right=å·¦å­æ ‘ ç„¶åæŠŠå·¦å­æ ‘ç½®ç©º
        def dfs(node):
            if not node:
                return 

            if not node.left and not node.right:  # å¶å­ç»“ç‚¹
                return node

            if node.left and node.right:
                right = node.right
                dfs(node.left).right = node.right
                node.right = node.left
                node.left = None
                return dfs(right)

            if node.left:
                left = node.left
                node.right = node.left
                node.left = None
                return dfs(left)

            if node.right:
                return dfs(node.right)

        dfs(root)
```

## A115. ä¸åŒçš„å­åºåˆ—

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² **S** å’Œä¸€ä¸ªå­—ç¬¦ä¸² **T**ï¼Œè®¡ç®—åœ¨ **S** çš„å­åºåˆ—ä¸­ **T** å‡ºç°çš„ä¸ªæ•°ã€‚

ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€ä¸ªå­åºåˆ—æ˜¯æŒ‡ï¼Œé€šè¿‡åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å­—ç¬¦ä¸”ä¸å¹²æ‰°å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®æ‰€ç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆä¾‹å¦‚ï¼Œ`"ACE"` æ˜¯ `"ABCDE"` çš„ä¸€ä¸ªå­åºåˆ—ï¼Œè€Œ `"AEC"` ä¸æ˜¯ï¼‰

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: S = "rabbbit", T = "rabbit"
è¾“å‡º: 3
è§£é‡Š:

å¦‚ä¸‹å›¾æ‰€ç¤º, æœ‰ 3 ç§å¯ä»¥ä» S ä¸­å¾—åˆ° "rabbit" çš„æ–¹æ¡ˆã€‚
(ä¸Šç®­å¤´ç¬¦å· ^ è¡¨ç¤ºé€‰å–çš„å­—æ¯)

rabbbit
^^^^ ^^
rabbbit
^^ ^^^^
rabbbit
^^^ ^^^
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: S = "babgbag", T = "bag"
è¾“å‡º: 5
è§£é‡Š:

å¦‚ä¸‹å›¾æ‰€ç¤º, æœ‰ 5 ç§å¯ä»¥ä» S ä¸­å¾—åˆ° "bag" çš„æ–¹æ¡ˆã€‚ 
(ä¸Šç®­å¤´ç¬¦å· ^ è¡¨ç¤ºé€‰å–çš„å­—æ¯)

babgbag
^^ ^
babgbag
^^    ^
babgbag
^    ^^
babgbag
  ^  ^^
babgbag
    ^^^
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/distinct-subsequences/>


#### æ€è·¯  

ã€€ã€€ä»¤`dp[i][j]`è¡¨ç¤º`t[:j]`åœ¨`s[:i]`çš„å­åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚  

ã€€ã€€ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œ`T`=`''`æ—¶ï¼Œè®¤ä¸ºå¯ä»¥åŒ¹é…`S`ï¼Œå³`dp[i][0]`=`1`ã€‚  

ã€€ã€€è®¡ç®—ä¸€èˆ¬æƒ…å†µä¸‹çš„`dp[i][j]`ï¼Œè¦æ ¹æ®`S`çš„æœ€åä¸€ä¸ªå­—ç¬¦æ˜¯å¦å’Œ`T`æœ€åä¸€ä¸ªå­—ç¬¦ç›¸ç­‰æ¥è®¨è®ºã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

<img src="_img/a115.png" style="zoom:40%"/>

ã€€ã€€å½“æœ€åä¸€ä¸ªå­—æ¯ä¸ç›¸ç­‰æ—¶ï¼ŒæŠ›å¼ƒ`S`çš„æœ€åä¸€ä¸ªå­—æ¯ä¸ç”¨ï¼ˆå³`T`åŒ¹é…`S[:-1]`çš„ç§æ•°ï¼‰ï¼Œæœ‰`dp[i-1][j]`ç§å¯èƒ½ã€‚  

ã€€ã€€å½“æœ€åä¸€ä¸ªå­—æ¯ç›¸ç­‰æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¸ç”¨æœ€åä¸€ä¸ªå­—æ¯ï¼Œä¹Ÿå¯ä»¥**ç”¨`S`çš„æœ€åä¸€ä¸ªå­—æ¯åŒ¹é…`T`çš„æœ€åä¸€ä¸ªå­—æ¯**ï¼Œå…±æœ‰`dp[i-1][j]`+`dp[i-1][j-1]`ç§å¯èƒ½ã€‚  

#### ä»£ç   
```python
class Solution:
    def numDistinct(self, s: str, t: str) -> int:
        # s[:i] t[:j]
        set_t = set(t)
        # ä¸‹é¢è¿™ä¸€è¡Œå»æ‰sä¸­æ²¡æœ‰åœ¨tä¸­å‡ºç°çš„å­—æ¯ï¼Œå¯ä»¥æå¤§åœ°åŠ å¿«è¿è¡Œé€Ÿåº¦ã€‚  
        #  s = ''.join(map(lambda x: x if x in set_t else '', s))

        ls, lt = len(s), len(t)
        if lt > ls:
            return 0
        if not lt:
            return 1

        dp = [[0 for j in range(lt+1)] for i in range(ls+1)]
        for j in range(lt+1):
            dp[j][j] = 1 if s[:j] == t[:j] else 0  # ç›¸åŒä¸²å¯ä»¥åŒ¹é…
            
        for i in range(ls+1):
            dp[i][0] = 1  # T='' å¯ä»¥åŒ¹é…ä»»æ„S

        for j in range(1, lt+1):
            for i in range(j+1, ls+1):
                dp[i][j] = dp[i-1][j]  # è‡³å°‘æœ‰ä¸ç”¨Sçš„æœ€åä¸€ä¸ªå­—æ¯ç§å¯èƒ½
                if s[i-1] == t[j-1]:  # æœ€åä¸€ä¸ªå­—æ¯ç›¸åŒï¼Œå¯ä»¥ç”¨Sçš„æœ€åä¸€ä¸ªå­—æ¯åŒ¹é…Tçš„æœ€åä¸€ä¸ªå­—æ¯
                    dp[i][j] += dp[i-1][j-1]

        return dp[-1][-1]
```

## A116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**å®Œç¾äºŒå‰æ ‘**ï¼Œå…¶æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚äºŒå‰æ ‘å®šä¹‰å¦‚ä¸‹ï¼š

```
struct Node {
  int val;
  Node *left;
  Node *right;
  Node *next;
}
```

å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸º `NULL`ã€‚

åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰ next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸º `NULL`ã€‚

> **ç¤ºä¾‹ï¼š**

<img src="_img/116.png" style="zoom:60%"/>

```
è¾“å…¥ï¼š{"$id":"1","left":{"$id":"2","left":{"$id":"3","left":null,"next":null,"right":null,"val":4},"next":null,"right":{"$id":"4","left":null,"next":null,"right":null,"val":5},"val":2},"next":null,"right":{"$id":"5","left":{"$id":"6","left":null,"next":null,"right":null,"val":6},"next":null,"right":{"$id":"7","left":null,"next":null,"right":null,"val":7},"val":3},"val":1}

è¾“å‡ºï¼š{"$id":"1","left":{"$id":"2","left":{"$id":"3","left":null,"next":{"$id":"4","left":null,"next":{"$id":"5","left":null,"next":{"$id":"6","left":null,"next":null,"right":null,"val":7},"right":null,"val":6},"right":null,"val":5},"right":null,"val":4},"next":{"$id":"7","left":{"$ref":"5"},"next":null,"right":{"$ref":"6"},"val":3},"right":{"$ref":"4"},"val":2},"next":null,"right":{"$ref":"7"},"val":1}

è§£é‡Šï¼šç»™å®šäºŒå‰æ ‘å¦‚å›¾ A æ‰€ç¤ºï¼Œä½ çš„å‡½æ•°åº”è¯¥å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œä»¥æŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œå¦‚å›¾ B æ‰€ç¤ºã€‚ 
```

**æç¤ºï¼š**

- ä½ åªèƒ½ä½¿ç”¨å¸¸é‡çº§é¢å¤–ç©ºé—´ã€‚
- ä½¿ç”¨é€’å½’è§£é¢˜ä¹Ÿç¬¦åˆè¦æ±‚ï¼Œæœ¬é¢˜ä¸­é€’å½’ç¨‹åºå ç”¨çš„æ ˆç©ºé—´ä¸ç®—åšé¢å¤–çš„ç©ºé—´å¤æ‚åº¦ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node/>

#### **æ€è·¯:**

ã€€ã€€å¡«å……åçš„`next`æŒ‡é’ˆä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šã€‚  ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def connect(self, root: 'Node') -> 'Node':
        if not root:
            return None
            
        if not root.left:
            return root

        root.left.next = root.right
        if root.next:
            root.right.next = root.next.left

        self.connect(root.left)
        self.connect(root.right)

        return root

```

## A117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘

```
struct Node {
  int val;
  Node *left;
  Node *right;
  Node *next;
}
```

å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸º `NULL`ã€‚

åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰ next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸º `NULL`ã€‚ 

**è¿›é˜¶ï¼š**

- ä½ åªèƒ½ä½¿ç”¨å¸¸é‡çº§é¢å¤–ç©ºé—´ã€‚
- ä½¿ç”¨é€’å½’è§£é¢˜ä¹Ÿç¬¦åˆè¦æ±‚ï¼Œæœ¬é¢˜ä¸­é€’å½’ç¨‹åºå ç”¨çš„æ ˆç©ºé—´ä¸ç®—åšé¢å¤–çš„ç©ºé—´å¤æ‚åº¦ã€‚

> **ç¤ºä¾‹ï¼š**

<img src="_img/117.png" style="zoom:60%"/>

```
è¾“å…¥ï¼šroot = [1,2,3,4,5,null,7]
è¾“å‡ºï¼š[1,#,2,3,#,4,5,7,#]
è§£é‡Šï¼šç»™å®šäºŒå‰æ ‘å¦‚å›¾ A æ‰€ç¤ºï¼Œä½ çš„å‡½æ•°åº”è¯¥å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œä»¥æŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œå¦‚å›¾ B æ‰€ç¤ºã€‚
```

**æç¤ºï¼š**

- æ ‘ä¸­çš„èŠ‚ç‚¹æ•°å°äº `6000`
- `-100 <= node.val <= 100`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node-ii/>

#### **æ€è·¯:**

ã€€ã€€ä¸ä¸Šä¸€é¢˜ä¸åŒï¼Œä¸èƒ½ç›´æ¥ç”¨è‡ªèº«`next`çš„å­©å­ä½œä¸ºå­©å­çš„`next`ï¼Œå› ä¸ºè‡ªèº«çš„`next`å¯èƒ½æ²¡æœ‰å­©å­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“å‰ç»“ç‚¹ä¸º`4`ï¼Œç»™å·¦å­©å­`7`å¯»æ‰¾`next`æŒ‡é’ˆæ—¶ï¼Œéœ€è¦æ²¿ç€`next`ä¸€ç›´å‘å³è¾¹æ‰«æï¼Œä¸€ç›´åˆ°æŸä¸ª**æœ‰å­©å­çš„ç»“ç‚¹**æ—¶(`6`)æ‰åœä¸‹æ¥ã€‚  

ã€€ã€€<img src="_img/a117.png" style="zoom:50%"/>

ã€€ã€€æ­¤å¤–ï¼Œè¦**å…ˆæœç´¢å³å­æ ‘ï¼Œåæœç´¢å·¦å­æ ‘ã€‚**å¦åˆ™é‡åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æƒ…å†µæ—¶ï¼Œç»™`7`çš„å³å­©å­`0`æ‰¾`next`æ—¶ï¼Œ`7`çš„`nextçš„next`å°šæœªæœç´¢ï¼Œå› æ­¤æ— æ³•æ‰¾åˆ°`0`çš„`next`ã€‚  

ã€€ã€€<img src="_img/a117_2.png" style="zoom:50%"/>

#### **ä»£ç :**

```python
class Solution:
    def connect(self, root: 'Node') -> 'Node':
        if not root:
            return None
            
        if not root.left and not root.right:
            return root

        curr = root.right
        if root.left and root.right:
            root.left.next = root.right
        elif root.left:
            curr = root.left

        temp = root.next
        next = None
        while temp:
            if temp.left:
                next = temp.left
                break
            elif temp.right:
                next = temp.right
                break
            temp = temp.next

        curr.next = next

        self.connect(root.right)
        self.connect(root.left)

        return root
```

## A118. æ¨è¾‰ä¸‰è§’

éš¾åº¦ `ç®€å•`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° *numRows* ï¼Œç”Ÿæˆæ¨è¾‰ä¸‰è§’çš„å‰ *numRows* è¡Œã€‚

![img](_img/118.gif)

åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 5
è¾“å‡º:
[
     [1],
    [1,1],
   [1,2,1],
  [1,3,3,1],
 [1,4,6,4,1]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/pascals-triangle/>


#### æ€è·¯  


ã€€ã€€ä»ä¸Šåˆ°ä¸‹dpã€‚  

#### ä»£ç   
```python
class Solution:
    def generate(self, numRows: int) -> List[List[int]]:
        if numRows == 0:
            return []
        elif numRows == 1:
            return [[1]]

        ans = [[1]] + [[1] + [0 for i in range(j)] + [1] for j in range(numRows-1)]
        for i in range(2, len(ans)):
            for j in range(1, i):
                ans[i][j] = ans[i-1][j-1] + ans[i-1][j]

        return ans
```

## A120. ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä¸‰è§’å½¢ï¼Œæ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹ä¸Šã€‚

ä¾‹å¦‚ï¼Œç»™å®šä¸‰è§’å½¢ï¼š

```
[
     [2],
    [3,4],
   [6,5,7],
  [4,1,8,3]
]
```

è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸º `11`ï¼ˆå³ï¼Œ**2** + **3** + **5** + **1** = 11ï¼‰ã€‚

**è¯´æ˜ï¼š**

å¦‚æœä½ å¯ä»¥åªä½¿ç”¨ *O*(*n*) çš„é¢å¤–ç©ºé—´ï¼ˆ*n* ä¸ºä¸‰è§’å½¢çš„æ€»è¡Œæ•°ï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆä½ çš„ç®—æ³•ä¼šå¾ˆåŠ åˆ†ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/triangle/>


#### æ€è·¯  


ã€€ã€€ä»ä¸Šåˆ°ä¸‹åŠ¨æ€è§„åˆ’ã€‚

#### ä»£ç   
```python
class Solution:
    def minimumTotal(self, triangle: List[List[int]]) -> int:
        n = len(triangle)
        if n == 0:
            return 0
        ans = 0
        dp = [[0 for i in range(j+1)] for j in range(n)]
        dp[0][0] = triangle[0][0]
        for i in range(1, n):
            for j in range(i+1):
                cur = triangle[i][j]
                if j==0:  # ç¬¬ä¸€ä¸ªæ•°
                    dp[i][j] = cur + dp[i-1][0]
                elif j == i:  # æœ€åä¸€ä¸ªæ•°
                    dp[i][j] = cur + dp[i-1][-1]
                else:  # ä¸­é—´çš„æ•°
                    dp[i][j] = cur + min(dp[i-1][j-1], dp[i-1][j])

        return min(dp[-1])
```

## A121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº

éš¾åº¦ `ç®€å•`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ *i* ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ *i* å¤©çš„ä»·æ ¼ã€‚

å¦‚æœä½ æœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ï¼ˆå³ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ä¸€æ¬¡ï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚

æ³¨æ„ï¼šä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [7,1,5,3,6,4]
è¾“å‡º: 5
è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚
     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [7,6,4,3,1]
è¾“å‡º: 0
è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/>


#### æ€è·¯  


ã€€ã€€ä½¿ç”¨åŒæŒ‡é’ˆï¼Œ`i`è¡¨ç¤ºä¹°å…¥æ—¶çš„ä¸‹æ ‡ï¼Œ`j`è¡¨ç¤ºå–å‡ºæ—¶çš„ä¸‹æ ‡ï¼Œ`ans`å­˜æ”¾å…¨å±€åˆ©æ¶¦æœ€å¤§å€¼ã€‚å¦‚æœ`å–å‡ºä»·æ ¼<=ä¹°å…¥ä»·æ ¼`ï¼Œåˆ™å°†`ä¹°å…¥ä»·æ ¼`æ›´æ–°ä¸º`å–å‡ºä»·æ ¼`ã€‚å¦åˆ™`j`ä¸æ–­å‘åç§»ï¼Œå¦‚æœ`prices[j]-prices[i]`å¤§äº`ans`ï¼Œåˆ™æ›´æ–°å…¨å±€çš„`ans`ã€‚  

#### ä»£ç   
```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        i, j = 0, 1
        l = len(prices)
        ans = 0
        while True:
            if j >= l:
                return ans
            buy = prices[i]
            sell = prices[j]
            if sell <= buy:  # å–å‡ºä»·æ ¼å°äºä¹°å…¥ä»·æ ¼ï¼Œåˆ™ä»¥å–å‡ºä»·æ ¼ä¹°å…¥
                i = j
                j = j + 1
            else:
                ans = max(ans, sell - buy)  # å¦‚æœæœ‰æ›´å¤§åˆ©æ¶¦åˆ™æ›´æ–°åˆ©æ¶¦
                j += 1

        return ans

```

## A122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ *i* ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ *i* å¤©çš„ä»·æ ¼ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚

**æ³¨æ„ï¼š**ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚
> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [7,1,5,3,6,4]
è¾“å‡º: 7
è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚
     éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-3 = 3 ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,2,3,4,5]
è¾“å‡º: 4
è§£é‡Š: åœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚
     æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚
     å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [7,6,4,3,1]
è¾“å‡º: 0
è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚
```
**æç¤ºï¼š**

- `1 <= prices.length <= 3 * 10 ^ 4`
- `0 <= prices[i] <= 10 ^ 4`


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/>

#### **æ€è·¯:**


ã€€ã€€è´ªå¿ƒï¼Œå¦‚æœæŸå¤©çš„è‚¡ç¥¨ä»·æ ¼æ¯”å‰ä¸€å¤©é«˜ï¼Œé‚£ä¹ˆå°±èµšå–è¿™ä¸¤å¤©ä¹‹é—´çš„å·®ä»·ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        n = len(prices)
        ans = 0

        for i in range(1, n):
            if prices[i] > prices[i-1]:
                ans += prices[i] - prices[i-1]

        return ans

```

## A123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ *i* ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ *i* å¤©çš„ä»·æ ¼ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ *ä¸¤ç¬”* äº¤æ˜“ã€‚

**æ³¨æ„:** ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3,3,5,0,0,3,1,4]
è¾“å‡º: 6
è§£é‡Š: åœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 0ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 6 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 3-0 = 3 ã€‚
     éšåï¼Œåœ¨ç¬¬ 7 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 8 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 4ï¼‰çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 4-1 = 3 ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,2,3,4,5]
è¾“å‡º: 4
è§£é‡Š: åœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚   
     æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚   
     å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [7,6,4,3,1] 
è¾“å‡º: 0 
è§£é‡Š: åœ¨è¿™ä¸ªæƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/>

#### æ€è·¯  

1. `dp1[i]`=`prices[i] - minval` ä»å‰å¾€åéå†ï¼Œè¡¨ç¤ºç¬¬`i`å¤©å–å‡ºç¬¬ä¸€ç¬”çš„æœ€å¤§åˆ©æ¶¦ï¼›
2. `dp2[i]`=`max(dp2[i+1], maxval - prices[i])` ä»åå¾€å‰éå†ï¼Œè¡¨ç¤ºç¬¬`i`å¤©åˆ°æœ€åä¸€å¤©ä¹‹é—´çš„æœ€å¤§åˆ©æ¶¦ï¼›
3. `ans`= `max(dp1[i] + dp2[i])`ï¼Œ`dp1[i] + dp2[i]` æ­£å¥½è¡¨ç¤ºä»ç¬¬1å¤©åˆ°æœ€åä¸€å¤©ï¼ˆåœ¨`i`å¤©å–å‡ºç¬¬ä¸€ç¬”ï¼‰ç»è¿‡ä¸¤æ¬¡äº¤æ˜“çš„æœ€å¤§åˆ©æ¶¦ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä»¤æ€»åˆ©æ¶¦æœ€å¤§çš„`i`ã€‚  

ã€€ã€€ä¾‹å¦‚å¯¹äºç¤ºä¾‹1ï¼š  

```python
prices = [3, 3, 5, 0, 0, 3, 1, 4]
dp1 =    [0, 0, 2, 0, 0, 3, 1, 4]  # ç¬¬iå¤©å–å‡ºçš„æœ€å¤§åˆ©æ¶¦
dp2 =    [0, 4, 4, 4, 3, 3, 0, 0]  # ç¬¬iå¤©ä¹‹åè¿›è¡Œçš„ç¬¬äºŒç¬”äº¤æ˜“çš„æœ€å¤§åˆ©æ¶¦
sum() =  [0, 4, 6, 4, 3, 6, 1, 4]  # dp1[i] + dp2[i]
max() = 6  # åœ¨ç¬¬3å¤©æˆ–ç¬¬6å¤©ç¬¬ä¸€æ¬¡å–å‡ºè‚¡ç¥¨éƒ½å¯ä»¥è·å¾—æœ€å¤§åˆ©æ¶¦
```

#### ä»£ç   
```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        #  dp1[i-1] è¡¨ç¤ºç¬¬iå¤©å”®å‡ºç¬¬ä¸€ç¬”è‚¡ç¥¨ï¼Œç¬¬ä¸€æ¬¡äº¤æ˜“çš„æœ€å¤§æ”¶ç›Š
        n = len(prices)
        if n < 2:
            return 0
        dp1 = [0 for i in range(n)]
        cost = prices[0]  # æˆæœ¬
        for i in range(1, n):
            cost = min(cost, prices[i-1])
            dp1[i] = max(0, prices[i] - cost)
        # dp2[i] è¡¨ç¤ºç¬¬iå¤©ä»¥åè¿›è¡Œçš„ç¬¬äºŒæ¬¡äº¤æ˜“çš„æœ€å¤§æ”¶ç›Š
        sell = prices[-1]
        profit = 0
        dp2 = [0 for i in range(n)]
        for i in range(n-3, 0, -1): # n-3 ~ 1
            cost = prices[i+1]
            if sell < cost:
                sell = cost  # å¦‚æœå–çš„ä»·æ ¼ä½ï¼Œå°±ä»¥æˆæœ¬æ¥å–
            profit = max(profit, sell - cost)
            dp2[i] = profit

        return max([sum(i) for i in zip(dp1, dp2)])  # p1å’Œp2å…ƒç´ å’Œçš„æœ€å¤§å€¼

```

## A124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**éç©º**äºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚

æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„**è‡³å°‘åŒ…å«ä¸€ä¸ª**èŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3]

       1
      / \
     2   3

è¾“å‡º: 6
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [-10,9,20,null,null,15,7]

   -10
   / \
  9  20
    /  \
   15   7

è¾“å‡º: 42
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚æœç´¢æ—¶è¦å…³æ³¨çš„æœ‰ä¸¤ç§å¯èƒ½æ€§ï¼š  

ã€€ã€€â‘  ä»¥æ ¹ç»“ç‚¹ä¸º**ä¸­é—´ç»“ç‚¹**(å³ç©¿è¿‡æ ¹ç»“ç‚¹)çš„æœ€å¤§è·¯å¾„ï¼Œè®¡ç®—æ–¹æ³•ä¸º`ä»¥å·¦ç»“ç‚¹ä¸ºç»ˆç‚¹çš„æœ€å¤§è·¯å¾„`+`ä»¥å³ç»“ç‚¹ä¸ºç»ˆç‚¹çš„æœ€å¤§è·¯å¾„`+`æ ¹ç»“ç‚¹å€¼`ã€‚

ã€€ã€€â‘¡ ä»¥æ ¹ç»“ç‚¹ä¸º**ç»ˆç‚¹**çš„æœ€å¤§è·¯å¾„ï¼Œè®¡ç®—æ–¹æ³•ä¸º max(`ä»¥å·¦ç»“ç‚¹ä¸ºç»ˆç‚¹çš„æœ€å¤§è·¯å¾„`+`æ ¹ç»“ç‚¹å€¼`ï¼Œ`ä»¥å³ç»“ç‚¹ä¸ºç»ˆç‚¹çš„æœ€å¤§è·¯å¾„`+`æ ¹ç»“ç‚¹å€¼`ï¼Œ`å•ç‹¬æ ¹ç»“ç‚¹çš„å€¼`)ã€‚ç®€åŒ–åçš„è¡¨è¾¾å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€ã€€ã€€ã€€<img src="_img/a124.png" style="zoom:45%"/>ã€€ã€€  
ã€€ã€€ååºéå†ï¼Œè®¿é—®æ ¹ç»“ç‚¹æ—¶å·²ç»çŸ¥é“äº†ä¸¤ä¸ªå­©å­ç»“ç‚¹çš„â‘ å’Œâ‘¡ï¼ŒæŒ‰æ¡ä»¶é€’å½’å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def maxPathSum(self, root: TreeNode) -> int:
        ans = float('-inf')  

        def dfs(node): 
            if not node:
                return 0, 0

            nonlocal ans
            if not node.left and not node.right:  # å¶å­ç»“ç‚¹
                ans = max(ans, node.val)
                return node.val, node.val

            cross_l, end_l = dfs(node.left)
            cross_r, end_r = dfs(node.right)

            cross_node = end_l + end_r + node.val
            end_node = max(end_l, end_r, 0) + node.val  # å¯èƒ½ç”¨å·¦å­æ ‘æˆ–å³å­æ ‘ï¼Œä¹Ÿå¯èƒ½éƒ½ä¸ç”¨

            ans = max(ans, cross_node, end_node)  
            # cross_nodeè¡¨ç¤ºä»¥å½“å‰ç»“ç‚¹ä¸ºä¸­é—´ç»“ç‚¹çš„æœ€å¤§è·¯å¾„ 
            # end_nodeè¡¨ç¤ºä»¥å½“å‰ç»“ç‚¹ä¸ºç»ˆç‚¹çš„æœ€å¤§è·¯å¾„
            return cross_node, end_node

        dfs(root)
        return ans
      
```

## A125. éªŒè¯å›æ–‡ä¸²

éš¾åº¦ `ç®€å•`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œåªè€ƒè™‘å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ã€‚

**è¯´æ˜ï¼š**æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å°†ç©ºå­—ç¬¦ä¸²å®šä¹‰ä¸ºæœ‰æ•ˆçš„å›æ–‡ä¸²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "A man, a plan, a canal: Panama"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "race a car"
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/valid-palindrome/>


#### æ€è·¯  


ã€€ã€€å…ˆå»æ‰å…¶ä»–å­—ç¬¦ï¼Œåªä¿ç•™`æ•°å­—å’Œå­—æ¯`ï¼Œç„¶åè½¬æˆ`å…¨éƒ¨å°å†™`ã€‚æœ€ååˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚  

#### ä»£ç   
```python
class Solution:
    def isPalindrome(self, s: str) -> bool:
        s = ''.join(filter(str.isalnum, s)).lower()
        return s == s[::-1]
```

## A126. å•è¯æ¥é¾™ II

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆ*beginWord* å’Œ *endWord*ï¼‰å’Œä¸€ä¸ªå­—å…¸ *wordList* ï¼Œæ‰¾å‡ºæ‰€æœ‰ä» *beginWord* åˆ° *endWord* çš„æœ€çŸ­è½¬æ¢åºåˆ—ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š

1. æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚
2. è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚

**è¯´æ˜:**

- å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚
- æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚
- æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚
- å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚
- ä½ å¯ä»¥å‡è®¾ *beginWord* å’Œ *endWord* æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
beginWord = "hit",
endWord = "cog",
wordList = ["hot","dot","dog","lot","log","cog"]

è¾“å‡º:
[
  ["hit","hot","dot","dog","cog"],
  ["hit","hot","lot","log","cog"]
]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
beginWord = "hit"
endWord = "cog"
wordList = ["hot","dot","dog","lot","log"]

è¾“å‡º: []

è§£é‡Š: endWord "cog" ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ç¬¦åˆè¦æ±‚çš„è½¬æ¢åºåˆ—ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/word-ladder-ii/>

#### æ€è·¯  

ã€€ã€€è¿™é¢˜å®é™…ä¸Šæ˜¯å›¾è®ºä¸­çš„**å•æºæœ€çŸ­è·¯å¾„**é—®é¢˜ï¼Œåªç›¸å·®ä¸€ä¸ªå­—æ¯çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä¸€æ¡è¾¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚  

ã€€ã€€<img src="_img/a126.png" style="zoom:40%"/>

ã€€ã€€å•è¯çš„æ•°é‡å¯èƒ½ä¼šéå¸¸å¤šï¼Œæœ‰å¾ˆå¤šæ ¹æœ¬å°±ç”¨ä¸åˆ°ï¼Œå› æ­¤**ä¸éœ€è¦æ„å»ºå®Œæ•´çš„å›¾**ã€‚  

ã€€ã€€å¯¹`å½“å‰å­—æ¯çš„æ¯ä¸€ä½`éƒ½æ›¿æ¢æˆå¦å¤–çš„å°å†™å­—æ¯ï¼Œå¦‚æœè¿™ä¸ªæ–°å•è¯åœ¨`wordList`ä¸­ï¼Œé‚£ä¹ˆå®ƒå’Œå½“å‰å•è¯ä¹‹é—´å°±æœ‰ä¸€æ¡è¾¹ã€‚è¿™æ ·åšå¤æ‚åº¦ä»…æœ‰`26*l*log(N)`ï¼Œå…¶ä¸­`l`è¡¨ç¤ºå•è¯é•¿åº¦ï¼Œ`N`è¡¨ç¤ºè¯æ±‡è¡¨é•¿åº¦ã€‚è€Œéå†`wordList`å¤æ‚åº¦ä¸º`N^2`ã€‚  

ã€€ã€€æ„å»ºå¥½å›¾ä¹‹åï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢å³å¯ï¼Œåœ¨æœç´¢è¿‡ç¨‹ä¸­è®°å½•æ¥çš„æ—¶å€™çš„è·¯å¾„ã€‚  

#### ä»£ç   

```python
from collections import defaultdict
class Solution:
    def findLadders(self, beginWord: str, endWord: str, wordList: List[str]) -> List[List[str]]:
        edge = defaultdict(list)
        paths = defaultdict(list)  # å­˜æ”¾æ‰€æœ‰çš„ç»“æœï¼Œansä¹Ÿç”±å®ƒè¿”å›

        word_bag = frozenset(wordList)
        w = [beginWord] + wordList if beginWord not in wordList else wordList
        visited = {i: False for i in w}
        n = len(w)
        # print('length', n)
        l = len(beginWord)

        # è·å–ç›¸é‚»çš„è¾¹
        def get_edges(cur_word):
            next_words = []
            for i in range(l):
                for c in list(string.ascii_lowercase):
                    next_word = cur_word[:i] + c + cur_word[i + 1:]
                    if next_word != cur_word and next_word in word_bag:
                        next_words.append(next_word)
            return next_words

        # BFSæ¨¡æ¿
        paths[beginWord] = [[beginWord]]
        queue = [beginWord]
        while queue:
            for q in queue:
                visited[q] = True

            temp = []
            for q in queue:
                if q == endWord:
                    # print(paths)
                    return paths[endWord]
                for neibour in get_edges(q):
                    if not visited[neibour]:
                        if neibour not in temp:
                            temp.append(neibour)
                        # print('  ', neibour, ' å…¥é˜Ÿåˆ—')
                        for path in paths[q]:
                            paths[neibour].append(path + [neibour])
                            
            queue = temp
            
        return []
```


## A127. å•è¯æ¥é¾™

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆ*beginWord* å’Œ *endWord* ï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» *beginWord* åˆ° *endWord* çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š

1. æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚
2. è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚

**è¯´æ˜:**

- å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚
- æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚
- æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚
- å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚
- ä½ å¯ä»¥å‡è®¾ *beginWord* å’Œ *endWord* æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
beginWord = "hit",
endWord = "cog",
wordList = ["hot","dot","dog","lot","log","cog"]

è¾“å‡º: 5

è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ "hit" -> "hot" -> "dot" -> "dog" -> "cog",
     è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
beginWord = "hit"
endWord = "cog"
wordList = ["hot","dot","dog","lot","log"]

è¾“å‡º: 0

è§£é‡Š: endWord "cog" ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/word-ladder/)>

#### **æ€è·¯:**

ã€€ã€€æ ‡å‡†çš„bfsã€‚è¿™é¢˜ä¸»è¦çš„æ—¶é—´èŠ±åœ¨**æ‰¾ç›¸é‚»çš„ç»“ç‚¹ä¸Š**ã€‚  

ã€€ã€€å¦‚æœæ¯æ¬¡éƒ½éå†`wordList`å»æ‰¾ç›¸é‚»çš„ç»“ç‚¹ï¼Œè¦èŠ±è´¹å¤§é‡çš„æ—¶é—´(æ—¶é—´å¤æ‚åº¦`O(n^2)`)ã€‚å› æ­¤é‡‡ç”¨æŠŠå•è¯çš„æŸä¸ªå­—æ¯æ›¿æ¢æˆå…¶ä»–å°å†™å­—æ¯çš„æ–¹å¼ï¼Œæ—¶é—´å¤æ‚åº¦ä»…ä¸º`O(n*l)`ï¼Œ`l`ä¸ºå•è¯é•¿åº¦ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def ladderLength(self, beginWord: str, endWord: str, wordList: List[str]) -> int:
        if endWord not in wordList:
            return 0

        d = defaultdict(list)
        for word in wordList:
            for i in range(len(word)):
                d[word[:i] + "*" + word[i + 1:]].append(word)

        visited = {i: False for i in wordList}
        visited[beginWord] = False

        queue = [beginWord]
        depth = 1
        while queue:
            temp = []
            for q in queue:
                visited[q] = True

            for q in queue:
                if q == endWord:
                    return depth  # åˆ°è¾¾ç»ˆç‚¹

                for i in range(len(q)):
                    key = q[:i] + "*" + q[i + 1:]
                    for neibour in d[key]:
                        if not visited[neibour]:
                            temp.append(neibour)
            depth += 1
            queue = temp
            del temp

        return 0

```

## A128. æœ€é•¿è¿ç»­åºåˆ—

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚

è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º *O(n)*ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [100, 4, 200, 1, 3, 2]
è¾“å‡º: 4
è§£é‡Š: æœ€é•¿è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-consecutive-sequence/>

#### **æ€è·¯:**ã€€ã€€ã€€ã€€

ã€€ã€€ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªæ•°å€¼æ‰€åœ¨è¿ç»­åŒºé—´çš„é•¿åº¦

â‘  è‹¥æ•°å·²åœ¨å“ˆå¸Œè¡¨ä¸­ï¼šè¯´æ˜å·²ç»å¤„ç†è¿‡äº†ï¼Œè·³è¿‡ä¸åšå¤„ç†ï¼›  
â‘¡ è‹¥æ˜¯æ–°æ•°ï¼šå–å‡ºå…¶å·¦å³ç›¸é‚»æ•°å·²æœ‰çš„è¿ç»­åŒºé—´é•¿åº¦`left`å’Œ`right`ï¼Œæ–°æ•°å’Œå·¦å³çš„æ•°èƒ½å¤Ÿç»„æˆçš„æœ€é•¿åŒºé—´ä¸ºï¼š`cur`=`left + right + 1`ï¼›  

â‘¢ æ›´æ–°åŒºé—´ä¸¤ç«¯ç‚¹çš„é•¿åº¦å€¼ï¼›  

â‘£ å¦‚æœ`cur > ans`ï¼Œåˆ™æ›´æ–°`ans`ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        mem = defaultdict(int)
        ans = 0
        for num in nums:
            if mem[num] != 0:
                continue
            left = mem[num-1]
            right = mem[num+1]
            cur = left + right + 1

            mem[num] = cur
            mem[num-left] = cur
            mem[num+right] = cur

            ans = max(ans, cur)

        return ans

```

## A129. æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾ä¸€ä¸ª `0-9` çš„æ•°å­—ï¼Œæ¯æ¡ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ã€‚

ä¾‹å¦‚ï¼Œä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ `1->2->3` ä»£è¡¨æ•°å­— `123`ã€‚

è®¡ç®—ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹ç”Ÿæˆçš„æ‰€æœ‰æ•°å­—ä¹‹å’Œã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3]
    1
   / \
  2   3
è¾“å‡º: 25
è§£é‡Š:
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 1->2 ä»£è¡¨æ•°å­— 12.
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 1->3 ä»£è¡¨æ•°å­— 13.
å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 12 + 13 = 25.
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [4,9,0,5,1]
    4
   / \
  9   0
 / \
5   1
è¾“å‡º: 1026
è§£é‡Š:
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4->9->5 ä»£è¡¨æ•°å­— 495.
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4->9->1 ä»£è¡¨æ•°å­— 491.
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4->0 ä»£è¡¨æ•°å­— 40.
å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 495 + 491 + 40 = 1026.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/sum-root-to-leaf-numbers/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚ç”¨ä¸€ä¸ªå…¨å±€å˜é‡è®°å½•`ä»æ ¹ç»“ç‚¹åˆ°å½“å‰ç»“ç‚¹çš„è·¯å¾„`ï¼Œå½“åˆ°è¾¾å¶å­ç»“ç‚¹æ—¶ç»“æœç´¯åŠ ä¸Šè¿™æ¡è·¯å¾„çš„`æ•°å€¼`ã€‚  ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def sumNumbers(self, root: TreeNode) -> int:
        curr = ''  # è·¯å¾„å­—ç¬¦ä¸²
        ans = 0  # ç´¯åŠ ç»“æœ
        def dfs(node):
            if not node:
                return 

            nonlocal curr, ans
            curr += str(node.val)

            if not node.left and not node.right:
                ans += int(curr)
                curr = curr[:-1]
                return 

            dfs(node.left)
            dfs(node.right)

            curr = curr[:-1]  # æ¢å¤åˆ°å‡½æ•°è°ƒç”¨å‰çš„çŠ¶æ€

        dfs(root)
        return ans
      
```

## A130. è¢«å›´ç»•çš„åŒºåŸŸ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒç»´çš„çŸ©é˜µï¼ŒåŒ…å« `'X'` å’Œ `'O'`ï¼ˆ**å­—æ¯ O**ï¼‰ã€‚

æ‰¾åˆ°æ‰€æœ‰è¢« `'X'` å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ `'O'` ç”¨ `'X'` å¡«å……ã€‚

> **ç¤ºä¾‹:**

```
X X X X
X O O X
X X O X
X O X X
```

è¿è¡Œä½ çš„å‡½æ•°åï¼ŒçŸ©é˜µå˜ä¸ºï¼š

```
X X X X
X X X X
X X X X
X O X X
```

**è§£é‡Š:**

è¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ `'O'` éƒ½ä¸ä¼šè¢«å¡«å……ä¸º `'X'`ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ `'O'` ç›¸è¿çš„ `'O'` æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º `'X'`ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/surrounded-regions/>

#### **æ€è·¯:**

ã€€ã€€å…ˆæ²¿ç€**è¾¹ç•Œçš„**æ¯ä¸ª`"O"`è¿›è¡Œdfsï¼ŒæŠŠæ‰€æœ‰æœç´¢åˆ°çš„`"O"`éƒ½æ›¿æ¢æˆ`"F"`ã€‚  

ã€€ã€€ç„¶åæŠŠå‰©ä¸‹çš„`â€Oâ€œ`éƒ½æ›¿æ¢æˆ`"X"`ã€‚  

ã€€ã€€æœ€åæŠŠ`"F"`å†æ›¿æ¢å›`"O"`ã€‚

#### **ä»£ç :**

```python
class Solution:
    def solve(self, board: List[List[str]]) -> None:
        """
        Do not return anything, modify board in-place instead.
        """
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]
        m = len(board)
        if not m: return 
        n = len(board[0])
        def dfs(i, j):
            if i < 0 or j < 0 or i >= m or j >= n:
                return

            if board[i][j] != 'O':
                return

            board[i][j] = 'F'  # fixed
            for di, dj in arounds:
                dfs(i + di, j + dj)

        for i in range(m):
            for j in range(n):
                if i == 0 or i == m-1 or j == 0 or j == n-1:  # è¾¹ç•Œ
                    dfs(i, j)
            
        def replace(a, b):
            for i in range(m):
                for j in range(n):
                    if board[i][j] == a:
                        board[i][j] = b

        replace('O', 'X')
        replace('F', 'O')
        
```


## A131. åˆ†å‰²å›æ–‡ä¸²

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² *s*ï¼Œå°† *s* åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚

è¿”å› *s* æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: "aab"
è¾“å‡º:
[
  ["aa","b"],
  ["a","a","b"]
]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/palindrome-partitioning/>

#### **æ€è·¯:**

ã€€ã€€é€’å½’ï¼Œå¦‚æœ`s`çš„å‰`i`ä½æ˜¯å›æ–‡ï¼Œå°±å¯¹å`n-i`ä½é€’å½’åœ°è¿›è¡Œåˆ†å‰²ï¼Œç›´åˆ°åˆ†å‰²åˆ°ç©ºå­—ç¬¦ä¸²è¿”å›ã€‚  ã€€ã€€ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def partition(self, s: str) -> List[List[str]]:
      
        def recur(s):  # é€’å½’
            if len(s) == 0:  # ç©ºå­—ç¬¦ä¸²æ˜¯å›æ–‡çš„
                return [[]]

            res = []
            for i in range(1, len(s)+1):
                if s[:i] == s[:i][::-1]:  # sçš„å‰iä½æ˜¯å›æ–‡çš„
                    for line in recur(s[i:]):
                        res.append([s[:i]] + line)
                        
            return res
          
        return recur(s)
      
```


## A132. åˆ†å‰²å›æ–‡ä¸² II

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² *s*ï¼Œå°† *s* åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚

è¿”å›ç¬¦åˆè¦æ±‚çš„æœ€å°‘åˆ†å‰²æ¬¡æ•°ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: "aab"
è¾“å‡º: 1
è§£é‡Š: è¿›è¡Œä¸€æ¬¡åˆ†å‰²å°±å¯å°† s åˆ†å‰²æˆ ["aa","b"] è¿™æ ·ä¸¤ä¸ªå›æ–‡å­ä¸²ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/palindrome-partitioning-ii/>

#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šæš´åŠ›é€’å½’ï¼Œå¯¹å­—ç¬¦ä¸²`s`ï¼ˆ`s`ä¸ä¸ºå›æ–‡ä¸²ï¼‰çš„æ¯ä¸ªä½ç½®éƒ½å°è¯•åˆ†å‰²ï¼Œ`æ€»çš„åˆ†å‰²æ¬¡æ•°`=`å·¦ä¸²åˆ†å‰²æ¬¡æ•°`+`å³ä¸²åˆ†å‰²æ¬¡æ•°`+`1`ã€‚ç”¨æ—¶å¾ˆé•¿ï¼Œä½¿ç”¨ç¼“å­˜è®°å½•è®¡ç®—è¿‡çš„å­—ç¬¦ä¸²èƒ½å‹‰å¼ºACã€‚  
ã€€ã€€æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ã€‚`dp[i+1]`è¡¨ç¤ºä»¥`s[i]`ç»“å°¾çš„æœ€å°‘åˆ†å‰²æ¬¡æ•°ã€‚  

ã€€ã€€ä¾‹å¦‚å¯¹äºç¤ºä¾‹`"ababacccab"`ï¼š`dp[i+1]`çš„æ›´æ–°è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

<img src="_img/a132.png" style="zoom:40%"/>

ã€€ã€€ä¾æ¬¡å¯»æ‰¾`s`ä¸­ä»¥æ¯ä¸ªå­—æ¯ç»“å°¾çš„æ‰€æœ‰å›æ–‡ä¸²ï¼Œå¦‚æœæ‰¾åˆ°äº†å›æ–‡ä¸²ï¼Œåˆ™ä»¥è¿™ä¸ªå›æ–‡ä¸²èµ·å§‹ä½ç½®åšåˆ†å‰²ï¼Œçœ‹èƒ½ä¸èƒ½ä½¿`dp[i+1]`å˜å°ã€‚  

#### ä»£ç   

ã€€ã€€æ–¹æ³•ä¸€ï¼š  

```python
class Solution:
    def minCut(self, s: str) -> int:
        """
        æš´åŠ›ï¼Œç”¨æ—¶1406msï¼Œå‹‰å¼ºACã€‚  
        """
        from functools import lru_cache
        @lru_cache(None)  # ä½¿ç”¨ç¼“å­˜è®°å½•å·²ç»è®¡ç®—è¿‡çš„ç»“æœ
        def dp(s: str):
            if len(s) <= 1 or s == s[::-1]:
                return 0  # æœ¬èº«å°±æ˜¯å›æ–‡ï¼Œä¸éœ€è¦åˆ†å‰²

            ans = float('inf')
            for i in range(1, len(s)):
                if s[:i] == s[:i][::-1]:  # å‰é¢æ˜¯å›æ–‡ä¸²æ‰æœ‰åˆ†çš„æ„ä¹‰
                    ans = min(ans, dp(s[i:]) + 1)
            
            return ans

        return dp(s)

```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def minCut(self, s: str) -> int:
        if s == s[::-1]: return 0

        dp = [len(s) for i in range(len(s) + 1)]
        
        dp[0] = -1
        for i in range(len(s)):
            if s[:i] == s[:i][::-1] and s[i:] == s[i:][::-1]:
                return 1
            for j in range(i + 1):
                if s[j] == s[i] and s[j:i+1] == s[j:i+1][::-1]:
                    dp[i + 1] = min(dp[i + 1], dp[j] + 1)
                    
        return dp[-1]
      
```

## A133. å…‹éš†å›¾

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ æ— å‘ **è¿é€š** å›¾ä¸­ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œè¯·ä½ è¿”å›è¯¥å›¾çš„ [**æ·±æ‹·è´**](https://baike.baidu.com/item/æ·±æ‹·è´/22785317?fr=aladdin)ï¼ˆå…‹éš†ï¼‰ã€‚

å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«å®ƒçš„å€¼ `val`ï¼ˆ`int`ï¼‰ å’Œå…¶é‚»å±…çš„åˆ—è¡¨ï¼ˆ`list[Node]`ï¼‰ã€‚

```
class Node {
    public int val;
    public List<Node> neighbors;
} 
```

**æµ‹è¯•ç”¨ä¾‹æ ¼å¼ï¼š**

ç®€å•èµ·è§ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å’Œå®ƒçš„ç´¢å¼•ç›¸åŒã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹å€¼ä¸º 1ï¼ˆ`val = 1`ï¼‰ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹å€¼ä¸º 2ï¼ˆ`val = 2`ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¯¥å›¾åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­ä½¿ç”¨é‚»æ¥åˆ—è¡¨è¡¨ç¤ºã€‚

**é‚»æ¥åˆ—è¡¨** æ˜¯ç”¨äºè¡¨ç¤ºæœ‰é™å›¾çš„æ— åºåˆ—è¡¨çš„é›†åˆã€‚æ¯ä¸ªåˆ—è¡¨éƒ½æè¿°äº†å›¾ä¸­èŠ‚ç‚¹çš„é‚»å±…é›†ã€‚

ç»™å®šèŠ‚ç‚¹å°†å§‹ç»ˆæ˜¯å›¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå€¼ä¸º 1ï¼‰ã€‚ä½ å¿…é¡»å°† **ç»™å®šèŠ‚ç‚¹çš„æ‹·è´** ä½œä¸ºå¯¹å…‹éš†å›¾çš„å¼•ç”¨è¿”å›ã€‚

> **ç¤ºä¾‹ 1ï¼š**

<img src="_img/133_1.png" style="zoom:25%"/>

```
è¾“å…¥ï¼šadjList = [[2,4],[1,3],[2,4],[1,3]]
è¾“å‡ºï¼š[[2,4],[1,3],[2,4],[1,3]]
è§£é‡Šï¼š
å›¾ä¸­æœ‰ 4 ä¸ªèŠ‚ç‚¹ã€‚
èŠ‚ç‚¹ 1 çš„å€¼æ˜¯ 1ï¼Œå®ƒæœ‰ä¸¤ä¸ªé‚»å±…ï¼šèŠ‚ç‚¹ 2 å’Œ 4 ã€‚
èŠ‚ç‚¹ 2 çš„å€¼æ˜¯ 2ï¼Œå®ƒæœ‰ä¸¤ä¸ªé‚»å±…ï¼šèŠ‚ç‚¹ 1 å’Œ 3 ã€‚
èŠ‚ç‚¹ 3 çš„å€¼æ˜¯ 3ï¼Œå®ƒæœ‰ä¸¤ä¸ªé‚»å±…ï¼šèŠ‚ç‚¹ 2 å’Œ 4 ã€‚
èŠ‚ç‚¹ 4 çš„å€¼æ˜¯ 4ï¼Œå®ƒæœ‰ä¸¤ä¸ªé‚»å±…ï¼šèŠ‚ç‚¹ 1 å’Œ 3 ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

<img src="_img/133_2.png" style="zoom:90%"/>

```
è¾“å…¥ï¼šadjList = [[]]
è¾“å‡ºï¼š[[]]
è§£é‡Šï¼šè¾“å…¥åŒ…å«ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚è¯¥å›¾ä»…ä»…åªæœ‰ä¸€ä¸ªå€¼ä¸º 1 çš„èŠ‚ç‚¹ï¼Œå®ƒæ²¡æœ‰ä»»ä½•é‚»å±…ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šadjList = []
è¾“å‡ºï¼š[]
è§£é‡Šï¼šè¿™ä¸ªå›¾æ˜¯ç©ºçš„ï¼Œå®ƒä¸å«ä»»ä½•èŠ‚ç‚¹ã€‚
```

> **ç¤ºä¾‹ 4ï¼š**

<img src="_img/133_4.png" style="zoom:90%"/>

```
è¾“å…¥ï¼šadjList = [[2],[1]]
è¾“å‡ºï¼š[[2],[1]]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/clone-graph/>

#### **æ€è·¯:**

ã€€ã€€ç”¨ä¸€ä¸ªå­—å…¸è®°å½•`ç»“ç‚¹å€¼`å’Œ`ç»“ç‚¹æŒ‡é’ˆ`çš„æ˜ å°„å…³ç³»ï¼Œè¿™æ ·åœ¨ä¸€æ¡**æ–°çš„è¾¹**è¿æ¥åˆ°**æ—§çš„ç»“ç‚¹**ä¸Šæ—¶å°±èƒ½æ‰¾åˆ°ä¹‹å‰åˆ›å»ºè¿‡çš„ç»“ç‚¹ã€‚  

ã€€ã€€é¡ºä¾¿æä¸€ä¸‹**æµ…æ‹·è´**å’Œ**æ·±æ‹·è´**çš„åŒºåˆ«ï¼š**æµ…æ‹·è´**å°†åŸæ¥çš„å›¾æ‹·è´ä¸€éï¼Œå¢åŠ æˆ–åˆ é™¤ç»“ç‚¹ä¸ä¼šå½±å“åŸæ¥çš„å›¾ï¼Œä½†æ˜¯æµ…æ‹·è´**å›¾ä¸­çš„ç»“ç‚¹è¿˜æ˜¯åŸæ¥çš„ç»“ç‚¹**ï¼Œä¿®æ”¹å›¾ä¸­ç»“ç‚¹çš„å€¼ä¼šå½±å“åŸå›¾ä¸­ç»“ç‚¹çš„å€¼ã€‚è€Œ**æ·±æ‹·è´**å°†æ‰€æœ‰çš„ç»“ç‚¹éƒ½é‡æ–°åˆå§‹åŒ–ä¸€éï¼Œä¹Ÿå°±æ˜¯æ–°çš„å›¾å’Œæ—§çš„å›¾å®Œå…¨æ²¡æœ‰å…³ç³»äº†ã€‚  

```python
G = [node1, node2, node3, node4]
G_æµ…æ‹·è´ = [node1, node2, node3, node4]
G_æ·±æ‹·è´ = [new_node1, new_node2, new_node3, new_node4]
```

#### **ä»£ç :**

```python
class Solution:
    def cloneGraph(self, node: 'Node') -> 'Node':
        visited = {}
        def dfs(node):
            if not node:
                return None

            temp = Node(node.val)
            visited[node.val] = temp
            for n in node.neighbors:
                if n.val in visited:
                    temp.neighbors.append(visited[n.val])
                    continue
                temp.neighbors.append(dfs(n))      

            return temp

        return dfs(node)

```

 ## A134. åŠ æ²¹ç«™

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

  åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰ *N* ä¸ªåŠ æ²¹ç«™ï¼Œå…¶ä¸­ç¬¬ *i* ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹ `gas[i]` å‡ã€‚

  ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬ *i* ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬ *i+1* ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹ `cost[i]` å‡ã€‚ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå¼€å§‹æ—¶æ²¹ç®±ä¸ºç©ºã€‚

  å¦‚æœä½ å¯ä»¥ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1ã€‚

  **è¯´æ˜:** 

  - å¦‚æœé¢˜ç›®æœ‰è§£ï¼Œè¯¥ç­”æ¡ˆå³ä¸ºå”¯ä¸€ç­”æ¡ˆã€‚
  - è¾“å…¥æ•°ç»„å‡ä¸ºéç©ºæ•°ç»„ï¼Œä¸”é•¿åº¦ç›¸åŒã€‚
  - è¾“å…¥æ•°ç»„ä¸­çš„å…ƒç´ å‡ä¸ºéè´Ÿæ•°ã€‚

>  **ç¤ºä¾‹ 1:**

  ```
  è¾“å…¥: 
  gas  = [1,2,3,4,5]
  cost = [3,4,5,1,2]
  
  è¾“å‡º: 3
  
  è§£é‡Š:
  ä» 3 å·åŠ æ²¹ç«™(ç´¢å¼•ä¸º 3 å¤„)å‡ºå‘ï¼Œå¯è·å¾— 4 å‡æ±½æ²¹ã€‚æ­¤æ—¶æ²¹ç®±æœ‰ = 0 + 4 = 4 å‡æ±½æ²¹
  å¼€å¾€ 4 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 1 + 5 = 8 å‡æ±½æ²¹
  å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 8 - 2 + 1 = 7 å‡æ±½æ²¹
  å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 7 - 3 + 2 = 6 å‡æ±½æ²¹
  å¼€å¾€ 2 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 6 - 4 + 3 = 5 å‡æ±½æ²¹
  å¼€å¾€ 3 å·åŠ æ²¹ç«™ï¼Œä½ éœ€è¦æ¶ˆè€— 5 å‡æ±½æ²¹ï¼Œæ­£å¥½è¶³å¤Ÿä½ è¿”å›åˆ° 3 å·åŠ æ²¹ç«™ã€‚
  å› æ­¤ï¼Œ3 å¯ä¸ºèµ·å§‹ç´¢å¼•ã€‚
  ```

>  **ç¤ºä¾‹ 2:**

  ```
  è¾“å…¥: 
  gas  = [2,3,4]
  cost = [3,4,3]
  
  è¾“å‡º: -1
  
  è§£é‡Š:
  ä½ ä¸èƒ½ä» 0 å·æˆ– 1 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå› ä¸ºæ²¡æœ‰è¶³å¤Ÿçš„æ±½æ²¹å¯ä»¥è®©ä½ è¡Œé©¶åˆ°ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ã€‚
  æˆ‘ä»¬ä» 2 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå¯ä»¥è·å¾— 4 å‡æ±½æ²¹ã€‚ æ­¤æ—¶æ²¹ç®±æœ‰ = 0 + 4 = 4 å‡æ±½æ²¹
  å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 3 + 2 = 3 å‡æ±½æ²¹
  å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 3 - 3 + 3 = 3 å‡æ±½æ²¹
  ä½ æ— æ³•è¿”å› 2 å·åŠ æ²¹ç«™ï¼Œå› ä¸ºè¿”ç¨‹éœ€è¦æ¶ˆè€— 4 å‡æ±½æ²¹ï¼Œä½†æ˜¯ä½ çš„æ²¹ç®±åªæœ‰ 3 å‡æ±½æ²¹ã€‚
  å› æ­¤ï¼Œæ— è®ºæ€æ ·ï¼Œä½ éƒ½ä¸å¯èƒ½ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ã€‚
  ```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/gas-station/>

#### **æ€è·¯:**


ã€€ã€€è´ªå¿ƒç®—æ³•ã€‚å‡è®¾ä»ç¼–å·ä¸º0ç«™å¼€å§‹ï¼Œä¸€ç›´åˆ°`k`ç«™éƒ½æ­£å¸¸ï¼Œåœ¨å¼€å¾€`k+1`ç«™æ—¶è½¦å­æ²¡æ²¹äº†ã€‚è¿™æ—¶ï¼Œåº”è¯¥å°†èµ·ç‚¹è®¾ç½®ä¸º`k+1`ç«™ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def canCompleteCircuit(self, gas: List[int], cost: List[int]) -> int:
        if sum(gas) < sum(cost):
            return -1
        n = len(gas)
        nums = [gas[i] - cost[i] for i in range(n)]  # æ²¹é‡å‡€å¢é•¿

        fuel = nums[0]

        ans = 0
        for i in range(1, n):
            if fuel < 0:  # æ²¡æ²¹äº†
                ans = i
                fuel = nums[i]  # iè®¾ä¸ºèµ·ç‚¹ï¼Œå¹¶ä¸”åœ¨iåŠ æ²¹ï¼Œé‡æ–°å¼€
            else:
                fuel += nums[i]

        return ans

```

## A135. åˆ†å‘ç³–æœ

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

è€å¸ˆæƒ³ç»™å­©å­ä»¬åˆ†å‘ç³–æœï¼Œæœ‰ *N* ä¸ªå­©å­ç«™æˆäº†ä¸€æ¡ç›´çº¿ï¼Œè€å¸ˆä¼šæ ¹æ®æ¯ä¸ªå­©å­çš„è¡¨ç°ï¼Œé¢„å…ˆç»™ä»–ä»¬è¯„åˆ†ã€‚

ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œå¸®åŠ©è€å¸ˆç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š

- æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚
- ç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­å¿…é¡»è·å¾—æ›´å¤šçš„ç³–æœã€‚

é‚£ä¹ˆè¿™æ ·ä¸‹æ¥ï¼Œè€å¸ˆè‡³å°‘éœ€è¦å‡†å¤‡å¤šå°‘é¢—ç³–æœå‘¢ï¼Ÿ

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,0,2]
è¾“å‡º: 5
è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,2,2]
è¾“å‡º: 4
è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚
     ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™å·²æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ã€‚
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/candy/>

#### **æ€è·¯:**


ã€€ã€€æŒ‰è¯„åˆ†æ’åºï¼Œè¯„åˆ†æœ€å°‘çš„ç»™1ä¸ªç³–ï¼Œç„¶åä»è¯„åˆ†ä½åˆ°é«˜ä¾æ¬¡è®¿é—®ã€‚å¦‚æœæœ‰å‰åçš„å°æœ‹å‹åˆ†æ•°ä½ä½†ç³–æ›´å¤šçš„(å‡è®¾æœ‰`n`ä¸ªç³–)ï¼Œå°±ç»™è¿™ä¸ªå°æœ‹å‹åˆ†`n+1`ä¸ªç³–ã€‚

#### **ä»£ç :**

```python
class Solution:
    def candy(self, ratings: List[int]) -> int:
        n = len(ratings)
        candies = [0 for _ in range(n)]

        mem = sorted([(r, i) for i, r in enumerate(ratings)])
        
        for _, i in mem:  # æŒ‰è¯„åˆ†ä»ä½åˆ°é«˜è®¿é—®
            if i >= 1 and ratings[i] > ratings[i-1]:  # æ¯”å‰é¢çš„æ›´é«˜
                if candies[i] <= candies[i-1]:  # ç³–å´å°‘
                    candies[i] = candies[i-1] + 1

            if i < n - 1 and ratings[i] > ratings[i+1]:  # æ¯”åé¢çš„æ›´é«˜
                if candies[i] <= candies[i+1]:  # ç³–å´å°‘
                    candies[i] = candies[i+1] + 1

        return sum(candies) + n

```

## A136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**éç©º**æ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚

**è¯´æ˜ï¼š**

ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [2,2,1]
è¾“å‡º: 1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [4,1,2,1,2]
è¾“å‡º: 4
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/single-number/>

#### **æ€è·¯:**

ã€€ã€€ç”¨ä½è¿ç®—**å¼‚æˆ–**æ¥æ±‚è§£ã€‚  

ã€€ã€€å·²çŸ¥`0 ^ num = num`ï¼Œ`num ^ num = 0`ã€‚  

ã€€ã€€å¦å¤–ï¼Œå¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ï¼Œå³`a ^ b ^ c = c ^ a ^ b`ã€‚  

ã€€ã€€å°†æ‰€æœ‰æ•°å–å¼‚æˆ–ï¼Œä¸¤ä¸¤ç›¸åŒçš„å…ƒç´ å¼‚æˆ–ä¼šå¾—åˆ°`0`æ¶ˆé™¤æ‰ï¼Œç»“æœå°±æ˜¯å‰©ä¸‹çš„`åªå‡ºç°ä¸€æ¬¡`çš„å…ƒç´ ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(å¼‚æˆ–)

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        ans = 0
        for num in nums:
            ans ^= num

        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(é›†åˆ)

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        s = set()
        for num in nums:
            if num in s:
                s.remove(num)
            else:
                s.add(num)

        return s.pop()
      
```

## A137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**éç©º**æ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°äº†ä¸‰æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚

**è¯´æ˜ï¼š**

ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [2,2,3,2]
è¾“å‡º: 3
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [0,1,0,1,0,1,99]
è¾“å‡º: 99
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/single-number-ii/>

#### **æ€è·¯:**

ã€€ã€€è®¡ä¸€ä¸ªçŠ¶æ€è½¬æ¢ç”µè·¯ï¼Œä½¿å¾—ä¸€ä¸ªæ•°å‡ºç°3æ¬¡æ—¶èƒ½è‡ªåŠ¨æŠµæ¶ˆä¸º0ï¼Œæœ€åå‰©ä¸‹çš„å°±æ˜¯åªå‡ºç°1æ¬¡çš„æ•°ã€‚  

ã€€ã€€`a`ã€`b`å˜é‡ä¸­ï¼Œç›¸åŒä½ç½®ä¸Šï¼Œåˆ†åˆ«å–å‡ºä¸€ä½ï¼Œè´Ÿè´£å®Œæˆ`00->01->10->00`ï¼Œå½“æ•°å­—å‡ºç°3æ¬¡æ—¶ç½®é›¶ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        a = b = 0
        for num in nums:
            b = (b ^ num) & ~a;
            a = (a ^ num) & ~b;
        
        return b;

```

## A138. å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚

è¦æ±‚è¿”å›è¿™ä¸ªé“¾è¡¨çš„ **æ·±æ‹·è´**ã€‚ 

æˆ‘ä»¬ç”¨ä¸€ä¸ªç”± `n` ä¸ªèŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨æ¥è¡¨ç¤ºè¾“å…¥/è¾“å‡ºä¸­çš„é“¾è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹ç”¨ä¸€ä¸ª `[val, random_index]` è¡¨ç¤ºï¼š

- `val`ï¼šä¸€ä¸ªè¡¨ç¤º `Node.val` çš„æ•´æ•°ã€‚
- `random_index`ï¼šéšæœºæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ç´¢å¼•ï¼ˆèŒƒå›´ä» `0` åˆ° `n-1`ï¼‰ï¼›å¦‚æœä¸æŒ‡å‘ä»»ä½•èŠ‚ç‚¹ï¼Œåˆ™ä¸º  `null` ã€‚

> **ç¤ºä¾‹ 1ï¼š**

<img src="_img/138_1.png" style="zoom:40%"/>

```
è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]
è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]
```

> **ç¤ºä¾‹ 2ï¼š**

<img src="_img/138_2.png" style="zoom:40%"/>

```
è¾“å…¥ï¼šhead = [[1,1],[2,1]]
è¾“å‡ºï¼š[[1,1],[2,1]]
```

> **ç¤ºä¾‹ 3ï¼š**

<img src="_img/138_3.png" style="zoom:40%"/>

```
è¾“å…¥ï¼šhead = [[3,null],[3,0],[3,null]]
è¾“å‡ºï¼š[[3,null],[3,0],[3,null]]
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šhead = []
è¾“å‡ºï¼š[]
è§£é‡Šï¼šç»™å®šçš„é“¾è¡¨ä¸ºç©ºï¼ˆç©ºæŒ‡é’ˆï¼‰ï¼Œå› æ­¤è¿”å› nullã€‚
```

**æç¤ºï¼š**

- `-10000 <= Node.val <= 10000`
- `Node.random` ä¸ºç©ºï¼ˆnullï¼‰æˆ–æŒ‡å‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ã€‚
- èŠ‚ç‚¹æ•°ç›®ä¸è¶…è¿‡ 1000 ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/copy-list-with-random-pointer/>

#### **æ€è·¯:**

ã€€ã€€ç¬¬ä¸€æ¬¡éå†(ç”¨å“ˆå¸Œè¡¨)è®°å½•åŸå§‹é“¾è¡¨ç»“ç‚¹ä¸ä¸‹æ ‡çš„æ˜ å°„ï¼Œç¬¬äºŒæ¬¡éå†è®°å½•åŸå§‹é“¾è¡¨æ¯ä¸ªç»“ç‚¹ä¸`randomæŒ‡é’ˆ`æŒ‡å‘ç»“ç‚¹çš„**ä¸‹æ ‡**çš„æ˜ å°„ï¼Œç¬¬ä¸‰æ¬¡éå†å¤åˆ¶é“¾è¡¨ï¼Œå¹¶æ ¹æ®ä¸‹æ ‡å¤åˆ¶`randomæŒ‡é’ˆ`ã€‚  ã€€ã€€

#### **ä»£ç :**

```python
"""
class Node:
    def __init__(self, x: int, next: 'Node' = None, random: 'Node' = None):
        self.val = int(x)
        self.next = next
        self.random = random
"""
class Solution:
    def copyRandomList(self, head: 'Node') -> 'Node':
        origin = {}  # node: index
        random = {}
        copy = {}  # index: node
        i = 0
        node = head
        ans = node_copy = Node(0)
        while node:  # ç¬¬ä¸€ééå†
            origin[node] = i
            new_node = Node(node.val)
            copy[i] = new_node
            node_copy.next = new_node
            node_copy = new_node

            node = node.next
            i += 1

        node = head
        i = 0 
        while node:
            random[i] = None if node.random is None else origin[node.random]
            node = node.next
            i += 1

        node = ans.next
        i = 0
        while node:
            node.random = None if random[i] is None else copy[random[i]]
            node = node.next
            i += 1

        return ans.next        

```

## A139. å•è¯æ‹†åˆ†

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**éç©º**å­—ç¬¦ä¸² *s* å’Œä¸€ä¸ªåŒ…å«**éç©º**å•è¯åˆ—è¡¨çš„å­—å…¸ *wordDict*ï¼Œåˆ¤å®š *s* æ˜¯å¦å¯ä»¥è¢«ç©ºæ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚

**è¯´æ˜ï¼š**

- æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
- ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: s = "leetcode", wordDict = ["leet", "code"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "leetcode" å¯ä»¥è¢«æ‹†åˆ†æˆ "leet code"ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: s = "applepenapple", wordDict = ["apple", "pen"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "applepenapple" å¯ä»¥è¢«æ‹†åˆ†æˆ "apple pen apple"ã€‚
     æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: s = "catsandog", wordDict = ["cats", "dog", "sand", "and", "cat"]
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/word-break/>


#### æ€è·¯  


ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚`dp[i]`è¡¨ç¤ºå­—ç¬¦ä¸²`s`çš„å‰`i`ä¸ªå­—ç¬¦èƒ½å¦æ‹†åˆ†æˆ`wordDict`ã€‚  

#### ä»£ç   

ã€€ã€€å†™æ³•ä¸€ï¼ˆè®°å¿†æ•°ç»„ï¼‰ï¼š  

```python
class Solution:
    def wordBreak(self, s: str, wordDict: List[str]) -> bool:
        n=len(s)
        dp=[False]*(n+1)
        dp[0]=True
        word=set(wordDict)
        for i in range(1,n+1):
            for j in range(i):
                if dp[j] and s[j:i] in word:
                    dp[i]=True
                    break
        return dp[n]
```

ã€€ã€€å†™æ³•äºŒï¼ˆç¼“å­˜ï¼‰ï¼š   

```python
class Solution:
    def wordBreak(self, s: str, wordDict: List[str]) -> bool:
        set_w = set(wordDict)
        if len(set_w) == 0:
            return not s

        from functools import lru_cache
        @lru_cache(None)  # ä½¿ç”¨ç¼“å­˜è®°å½•å·²ç»è®¡ç®—è¿‡çš„ç»“æœ
        def dp(s: str):
            if s in set_w:
                return True

            for i in range(len(s)):
                if s[:i] in set_w and dp(s[i:]): return True

            return False

        return dp(s)

```

## A140. å•è¯æ‹†åˆ† II

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**éç©º**å­—ç¬¦ä¸² *s* å’Œä¸€ä¸ªåŒ…å«**éç©º**å•è¯åˆ—è¡¨çš„å­—å…¸ *wordDict*ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ ç©ºæ ¼æ¥æ„å»ºä¸€ä¸ªå¥å­ï¼Œä½¿å¾—å¥å­ä¸­æ‰€æœ‰çš„å•è¯éƒ½åœ¨è¯å…¸ä¸­ã€‚è¿”å›æ‰€æœ‰è¿™äº›å¯èƒ½çš„å¥å­ã€‚

**è¯´æ˜ï¼š**

- åˆ†éš”æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
- ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥:
s = "catsanddog"
wordDict = ["cat", "cats", "and", "sand", "dog"]
è¾“å‡º:
[
  "cats and dog",
  "cat sand dog"
]
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥:
s = "pineapplepenapple"
wordDict = ["apple", "pen", "applepen", "pine", "pineapple"]
è¾“å‡º:
[
  "pine apple pen apple",
  "pineapple pen apple",
  "pine applepen apple"
]
è§£é‡Š: æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥:
s = "catsandog"
wordDict = ["cats", "dog", "sand", "and", "cat"]
è¾“å‡º:
[]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/word-break-ii/>


#### æ€è·¯  


ã€€ã€€æœ‰ä¸ªç”¨ä¾‹ aaaaaaaâ€¦aaaaabaaaaa...aaaaaaa è¶…å‡ºå†…å­˜ã€‚å…ˆç”¨ä¸Šä¸€é¢˜[A131.å•è¯æ‹†åˆ†](/dp?id=a139-å•è¯æ‹†åˆ†)çš„ä»£ç åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœèƒ½æ‹†åˆ†å†ç”¨æ•°ç»„è®°å½•ã€‚  

#### ä»£ç   
```python
class Solution:
    def wordBreak(self, s: str, wordDict: List[str]) -> List[str]:
        n = len(s)
        can=[False]*(n+1)
        can[0]=True
        word=set(wordDict)
        for i in range(1,n+1):
            for j in range(i):
                if can[j] and s[j:i] in word:
                    can[i]=True
                    break

        if not can[n]:  # sä¸èƒ½æ‹†åˆ†æˆwordDict
            return []

        dp = [[] for i in range(n + 1)]
        for i in range(1, n + 1):
            if not can[i]: continue
            
            if s[:i] in wordDict:
                dp[i].append(s[:i])

            for j in range(1, i):
                if len(dp[j]) > 0 and s[j:i] in word:
                    for sentence in dp[j]:
                        dp[i].append(sentence + ' ' + s[j:i])

        return dp[n]
      
```

## A141. ç¯å½¢é“¾è¡¨

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

<img src="_img/141_1.png" style="zoom:70%"/>

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

<img src="_img/141_2.png" style="zoom:90%"/>

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šhead = [1], pos = -1
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
```

<img src="_img/141_3.png" style="zoom:90%"/>  

**è¿›é˜¶ï¼š**

ä½ èƒ½ç”¨ *O(1)*ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/linked-list-cycle/>

#### **æ€è·¯:**


ã€€ã€€å¿«æ…¢æŒ‡é’ˆï¼Œå¦‚æœé“¾è¡¨ä¸­æœ‰ç¯ï¼Œå¿«æ…¢æŒ‡é’ˆä¸€å®šä¼šç›¸äº¤ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def hasCycle(self, head: ListNode) -> bool:
        fast = slow = head
        while fast and fast.next:
            fast = fast.next.next  # å¿«æŒ‡é’ˆä¸€æ¬¡èµ°2æ­¥
            slow = slow.next  # æ…¢æŒ‡é’ˆä¸€æ¬¡èµ°1æ­¥
            if fast == slow:
                return True

        return False

```

## A142. ç¯å½¢é“¾è¡¨ II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› `null`ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚

**è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚
> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼štail connects to node index 1
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

<img src="_img/141_1.png" style="zoom:70%"/>

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼štail connects to node index 0
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

<img src="_img/141_2.png" style="zoom:90%"/>

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šhead = [1], pos = -1
è¾“å‡ºï¼šno cycle
è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
```

<img src="_img/141_3.png" style="zoom:90%"/>  

**è¿›é˜¶ï¼š**
ä½ æ˜¯å¦å¯ä»¥ä¸ç”¨é¢å¤–ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/linked-list-cycle-ii/>

#### **æ€è·¯:**

ã€€ã€€â‘  å…ˆç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¦‚æœé“¾è¡¨ä¸­æœ‰ç¯ï¼Œå¿«æ…¢æŒ‡é’ˆä¸€å®šä¼šç›¸äº¤(å‡è®¾ç›¸äº¤äº`slow`)ã€‚  

ã€€ã€€â‘¡ å†ç”¨å¦å¤–ä¸€ä¸ªæŒ‡é’ˆ`p`åˆå§‹æŒ‡å‘`head`ç»“ç‚¹ï¼Œ`p`å’Œ`slow`æ¯æ¬¡éƒ½å‘åç§»ä¸€æ­¥ï¼Œæœ€ç»ˆå¿…ç„¶ç›¸äº¤äºç¯çš„èµ·å§‹ç‚¹ã€‚  

#### **ä»£ç :**

```python

class Solution:
    def detectCycle(self, head: ListNode) -> ListNode:
        fast = slow = head
        while fast and fast.next:
            fast = fast.next.next  # å¿«æŒ‡é’ˆä¸€æ¬¡èµ°2æ­¥
            slow = slow.next  # æ…¢æŒ‡é’ˆä¸€æ¬¡èµ°1æ­¥
            if fast == slow:
                p = head
                while slow != p:
                    p= p.next
                    slow = slow.next
                return slow

        return None

```

## A143. é‡æ’é“¾è¡¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå•é“¾è¡¨ *L*ï¼š*L*0â†’*L*1â†’â€¦â†’*Ln*-1â†’*L*n ï¼Œ
å°†å…¶é‡æ–°æ’åˆ—åå˜ä¸ºï¼š *L*0â†’*Ln*â†’*L*1â†’*Ln*-1â†’*L*2â†’*Ln*-2â†’â€¦

ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

> **ç¤ºä¾‹ 1:**

```
ç»™å®šé“¾è¡¨ 1->2->3->4, é‡æ–°æ’åˆ—ä¸º 1->4->2->3.
```

> **ç¤ºä¾‹ 2:**

```
ç»™å®šé“¾è¡¨ 1->2->3->4->5, é‡æ–°æ’åˆ—ä¸º 1->5->2->4->3.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reorder-list/>

#### **æ€è·¯:**

ã€€ã€€å…ˆç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ã€‚ç„¶åé€†åºååŠéƒ¨åˆ†ï¼Œæœ€ååˆå¹¶å‰åä¸¤ä¸ªé“¾è¡¨ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def reorderList(self, head: ListNode) -> None:
        """
        Do not return anything, modify head in-place instead.
        """
        if not head:
            return
        fast = slow = head
        while fast.next and fast.next.next:
            slow = slow.next
            fast = fast.next.next

        list1 = head
        list2 = slow.next
        slow.next = None
        rever = None
        while list2:
            list2.next, rever, list2,  = rever, list2, list2.next

        list2 = rever
        while list1 and list2:
            n1 = list1.next
            n2 = list2.next if list2 else None
            list1.next, list2.next = list2, list1.next
            list1 = n1
            list2 = n2

```

## A144. äºŒå‰æ ‘çš„å‰åºéå†

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„ *å‰åº* éå†ã€‚

 **ç¤ºä¾‹:**

```
è¾“å…¥: [1,null,2,3]  
   1
    \
     2
    /
   3 

è¾“å‡º: [1,2,3]
```

**è¿›é˜¶:** é€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-preorder-traversal/>

#### **æ€è·¯:**

ã€€ã€€ç”¨è¿­ä»£çš„æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªå †æ ˆç»´æŠ¤å·²è®¿é—®è¿‡çš„ç»“ç‚¹ï¼Œå…ˆä¸æ–­å‘å·¦éå†ï¼Œç„¶åå†ä¸æ–­å‘å³éå†ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def preorderTraversal(self, root: TreeNode) -> List[int]:
        if not root:
            return []
        ans = []
        stack = [root]
        ans.append(root.val)

        while stack:
            node = stack[-1]
            if node.left:
                stack.append(node.left)
                ans.append(node.left.val)
                node.left = None
                continue
            if node.right:
                stack.append(node.right)
                ans.append(node.right.val)
                node.right = None
                continue

            stack.pop()

        return ans

```

## A145. äºŒå‰æ ‘çš„ååºéå†

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„ *ååº* éå†ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [1,null,2,3]  
   1
    \
     2
    /
   3 

è¾“å‡º: [3,2,1]
```

**è¿›é˜¶:** é€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-postorder-traversal/>

#### **æ€è·¯:**

ã€€ã€€è·Ÿä¸Šä¸€é¢˜ä¸€æ ·ï¼Œåªæ˜¯éå†å®Œå·¦å³ç»“ç‚¹å†éå†æ ¹ç»“ç‚¹å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def postorderTraversal(self, root: TreeNode) -> List[int]:
        if not root:
            return []
        ans = []
        stack = [root]

        while stack:
            node = stack[-1]
            if node.left:
                stack.append(node.left)
                node.left = None
                continue
            if node.right:
                stack.append(node.right)
                node.right = None
                continue

            ans.append(stack.pop().val)

        return ans

```

## A146. LRUç¼“å­˜æœºåˆ¶

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

è¿ç”¨ä½ æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª  [LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜æœºåˆ¶](https://baike.baidu.com/item/LRU)ã€‚å®ƒåº”è¯¥æ”¯æŒä»¥ä¸‹æ“ä½œï¼š è·å–æ•°æ® `get` å’Œ å†™å…¥æ•°æ® `put` ã€‚

è·å–æ•°æ® `get(key)` - å¦‚æœå¯†é’¥ (key) å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–å¯†é’¥çš„å€¼ï¼ˆæ€»æ˜¯æ­£æ•°ï¼‰ï¼Œå¦åˆ™è¿”å› -1ã€‚
å†™å…¥æ•°æ® `put(key, value)` - å¦‚æœå¯†é’¥å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ï¼›å¦‚æœå¯†é’¥ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥è¯¥ç»„ã€Œå¯†é’¥/æ•°æ®å€¼ã€ã€‚å½“ç¼“å­˜å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œå®ƒåº”è¯¥åœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®å€¼ï¼Œä»è€Œä¸ºæ–°çš„æ•°æ®å€¼ç•™å‡ºç©ºé—´ã€‚
**è¿›é˜¶:**

ä½ æ˜¯å¦å¯ä»¥åœ¨ **O(1)** æ—¶é—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸¤ç§æ“ä½œï¼Ÿ
> **ç¤ºä¾‹:**

```
LRUCache cache = new LRUCache( 2 /* ç¼“å­˜å®¹é‡ */ );

cache.put(1, 1);
cache.put(2, 2);
cache.get(1);       // è¿”å›  1
cache.put(3, 3);    // è¯¥æ“ä½œä¼šä½¿å¾—å¯†é’¥ 2 ä½œåºŸ
cache.get(2);       // è¿”å› -1 (æœªæ‰¾åˆ°)
cache.put(4, 4);    // è¯¥æ“ä½œä¼šä½¿å¾—å¯†é’¥ 1 ä½œåºŸ
cache.get(1);       // è¿”å› -1 (æœªæ‰¾åˆ°)
cache.get(3);       // è¿”å›  3
cache.get(4);       // è¿”å›  4
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/lru-cache/>

#### **æ€è·¯:**

ã€€ã€€åŒºåˆ«`LRU`å’Œ`LFU`ï¼š  


ã€€ã€€`LRU`æ˜¯**æœ€è¿‘æœ€å°‘ä½¿ç”¨é¡µé¢**ç½®æ¢ç®—æ³•(`Least Recently Used`),ä¹Ÿå°±æ˜¯é¦–å…ˆæ·˜æ±°**æœ€é•¿æ—¶é—´æœªè¢«ä½¿ç”¨**çš„é¡µé¢ï¼  

ã€€ã€€`LFU`æ˜¯**æœ€è¿‘æœ€ä¸å¸¸ç”¨é¡µé¢**ç½®æ¢ç®—æ³•(`Least Frequently Used`),ä¹Ÿå°±æ˜¯æ·˜æ±°**ä¸€å®šæ—¶æœŸå†…è¢«è®¿é—®æ¬¡æ•°æœ€å°‘çš„é¡µ**!  

ã€€ã€€`LRU`å…³é”®æ˜¯çœ‹é¡µé¢**æœ€åä¸€æ¬¡è¢«ä½¿ç”¨**åˆ°**å‘ç”Ÿè°ƒåº¦**çš„æ—¶é—´é•¿çŸ­ï¼›  

ã€€ã€€è€Œ`LFU`å…³é”®æ˜¯çœ‹**ä¸€å®šæ—¶é—´æ®µå†…é¡µé¢è¢«ä½¿ç”¨çš„é¢‘ç‡**!ã€€ã€€

#### **ä»£ç :**

```python
class LRUCache:
    def __init__(self, capacity: int):
        self.mem = {}
        self.times = {}
        self.time = 0
        self.capacity = capacity

    def get(self, key: int) -> int:
        self.time += 1
        if key in self.mem:
            self.times[key] = self.time
            return self.mem[key]
        else:
            return -1

    def put(self, key: int, value: int) -> None:
        self.time += 1
        self.times[key] = self.time
        self.mem[key] = value

        if len(self.mem) > self.capacity:
            minimal = min(self.times, key=self.times.get)
            self.mem.pop(minimal)
            self.times.pop(minimal)
        # print(self.times)

```

## A147. å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åº

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åºã€‚

<img src="_img/147.gif" style="zoom:100%"/>  

æ’å…¥æ’åºçš„åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸Šã€‚ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥é“¾è¡¨å¯ä»¥è¢«è®¤ä¸ºå·²ç»éƒ¨åˆ†æ’åºï¼ˆç”¨é»‘è‰²è¡¨ç¤ºï¼‰ã€‚
æ¯æ¬¡è¿­ä»£æ—¶ï¼Œä»è¾“å…¥æ•°æ®ä¸­ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼ˆç”¨çº¢è‰²è¡¨ç¤ºï¼‰ï¼Œå¹¶åŸåœ°å°†å…¶æ’å…¥åˆ°å·²æ’å¥½åºçš„é“¾è¡¨ä¸­ã€‚

**æ’å…¥æ’åºç®—æ³•ï¼š**

1. æ’å…¥æ’åºæ˜¯è¿­ä»£çš„ï¼Œæ¯æ¬¡åªç§»åŠ¨ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å¯ä»¥å½¢æˆä¸€ä¸ªæœ‰åºçš„è¾“å‡ºåˆ—è¡¨ã€‚
2. æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ’å…¥æ’åºåªä»è¾“å…¥æ•°æ®ä¸­ç§»é™¤ä¸€ä¸ªå¾…æ’åºçš„å…ƒç´ ï¼Œæ‰¾åˆ°å®ƒåœ¨åºåˆ—ä¸­é€‚å½“çš„ä½ç½®ï¼Œå¹¶å°†å…¶æ’å…¥ã€‚
3. é‡å¤ç›´åˆ°æ‰€æœ‰è¾“å…¥æ•°æ®æ’å…¥å®Œä¸ºæ­¢ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: 4->2->1->3
è¾“å‡º: 1->2->3->4
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: -1->5->3->4->0
è¾“å‡º: -1->0->3->4->5
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/insertion-sort-list/>

#### **æ€è·¯:**

ã€€ã€€å¦‚æœå½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹å¤§äºå½“å‰ç»“ç‚¹ï¼Œåˆ™ä¸éœ€è¦æ“ä½œï¼Œå¦åˆ™å…ˆåˆ é™¤ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œç„¶åå°†å®ƒæ’å…¥åˆ°`å¤´èŠ‚ç‚¹åˆ°å½“å‰ç»“ç‚¹`ä¹‹é—´æ­£ç¡®çš„ä½ç½®ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def insertionSortList(self, head: ListNode) -> ListNode:
        if not head or not head.next:
            return head
        head_pointer = ListNode(0)  # å¤´æŒ‡é’ˆ
        start = head_pointer
        while head:
            cur_node = head
            head = head.next

            if cur_node.val < start.val:
                start = head_pointer  # å¯»æ‰¾æ’å…¥ä½ç½®
                
            while start.next and start.next.val < cur_node.val:
                start = start.next

            cur_node.next = start.next
            start.next = cur_node
            
        return head_pointer.next
```

## A148. æ’åºé“¾è¡¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°s

åœ¨ *O*(*n* log *n*) æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 4->2->1->3
è¾“å‡º: 1->2->3->4
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: -1->5->3->4->0
è¾“å‡º: -1->0->3->4->5
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/sort-list/>

#### **æ€è·¯:**

ã€€ã€€è¯¥é¢˜é‡‡ç”¨å½’å¹¶æ’åºï¼Œå½’å¹¶æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š  

ã€€ã€€â‘  æ‰¾åˆ°ä¸­é—´ç»“ç‚¹(ç”¨å¿«æ…¢æŒ‡é’ˆ)ï¼›  

ã€€ã€€â‘¡ å¯¹å·¦åŠè¾¹è¿›è¡Œå½’å¹¶æ’åºï¼›  

ã€€ã€€â‘¢ å¯¹å³åŠè¾¹è¿›è¡Œå½’å¹¶æ’åºï¼›  

ã€€ã€€â‘£ åˆå¹¶ä¸¤ä¸ªå‡åºé“¾è¡¨å¹¶è¿”å›ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def merge(self, l1, l2):
        if not l1: return l2
        if not l2: return l1
        if l1.val <= l2.val:
            l1.next = self.merge(l1.next, l2)
            return l1
        else:
            l2.next = self.merge(l2.next, l1)
            return l2

    def mergeSort(self, node):
        if not node or not node.next:
            return node

        fast = slow = breaknode = node
        while fast and fast.next:
            fast = fast.next.next
            breaknode = slow  # ä»ä¸­é—´æ–­å¼€
            slow = slow.next

        breaknode.next = None
        mid = slow  # ä¸­é—´ç»“ç‚¹
        l1 = self.mergeSort(node)
        l2 = self.mergeSort(mid)
        return self.merge(l1, l2)

    def sortList(self, head: ListNode) -> ListNode:
        if not head:
            return None
        return self.mergeSort(head)
      
```

## A149. ç›´çº¿ä¸Šæœ€å¤šçš„ç‚¹æ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒç»´å¹³é¢ï¼Œå¹³é¢ä¸Šæœ‰ *n* ä¸ªç‚¹ï¼Œæ±‚æœ€å¤šæœ‰å¤šå°‘ä¸ªç‚¹åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [[1,1],[2,2],[3,3]]
è¾“å‡º: 3
è§£é‡Š:
^
|
|        o
|     o
|  o  
+------------->
0  1  2  3  4
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [[1,1],[3,2],[5,3],[4,1],[2,3],[1,4]]
è¾“å‡º: 4
è§£é‡Š:
^
|
|  o
|     o        o
|        o
|  o        o
+------------------->
0  1  2  3  4  5  6
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/max-points-on-a-line/>

#### **æ€è·¯:**

ã€€ã€€è¿™é¢˜è¦æ³¨æ„ç²¾åº¦çš„é—®é¢˜ã€‚  

ã€€ã€€æŠŠç›¸åŒçš„ç‚¹åˆå¹¶åˆ°ä¸€èµ·ï¼Œæ¯ä¸ªç‚¹`(x, y)`éƒ½å’Œä¹‹åçš„æ‰€æœ‰ç‚¹æ¯”è¾ƒä¸€éï¼Œçœ‹æœ€å¤šèƒ½æœ‰å¤šå°‘ä¸ªç‚¹èƒ½å’Œ`(x, y)`åœ¨ä¸€æ¡ç›´çº¿ä¸Šã€‚æœ€åç»Ÿè®¡å…¨å±€çš„æœ€å¤§å€¼ã€‚  

#### **ä»£ç :**

```python
class Solution:

    def maxPoints(self, p):
        cnt = collections.Counter((x, y) for x, y in p)
        if len(cnt) <= 2:
            return len(p)
        ans = 0
        for _ in range(1, len(cnt)):
            (x1, y1), t1 = cnt.popitem()
            slp = collections.defaultdict(lambda: t1)
            for (x2, y2), t2 in cnt.items():  # ä»¥x2,y2ä¸ºèµ·ç‚¹æ¯”è¾ƒ
                s = (y2 - y1) / (x2 - x1) if x1 != x2 else float('inf')
                slp[s] += t2
            ans = max(ans, max(slp.values()))
        print(slp)
        return ans

```

## A150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

æ ¹æ®[é€†æ³¢å…°è¡¨ç¤ºæ³•](https://baike.baidu.com/item/é€†æ³¢å…°å¼/128437)ï¼Œæ±‚è¡¨è¾¾å¼çš„å€¼ã€‚

æœ‰æ•ˆçš„è¿ç®—ç¬¦åŒ…æ‹¬ `+`, `-`, `*`, `/` ã€‚æ¯ä¸ªè¿ç®—å¯¹è±¡å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ã€‚

**è¯´æ˜ï¼š**

- æ•´æ•°é™¤æ³•åªä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚
- ç»™å®šé€†æ³¢å…°è¡¨è¾¾å¼æ€»æ˜¯æœ‰æ•ˆçš„ã€‚æ¢å¥è¯è¯´ï¼Œè¡¨è¾¾å¼æ€»ä¼šå¾—å‡ºæœ‰æ•ˆæ•°å€¼ä¸”ä¸å­˜åœ¨é™¤æ•°ä¸º 0 çš„æƒ…å†µã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: ["2", "1", "+", "3", "*"]
è¾“å‡º: 9
è§£é‡Š: ((2 + 1) * 3) = 9
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: ["4", "13", "5", "/", "+"]
è¾“å‡º: 6
è§£é‡Š: (4 + (13 / 5)) = 6
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: ["10", "6", "9", "3", "+", "-11", "*", "/", "*", "17", "+", "5", "+"]
è¾“å‡º: 22
è§£é‡Š: 
  ((10 * (6 / ((9 + 3) * -11))) + 17) + 5
= ((10 * (6 / (12 * -11))) + 17) + 5
= ((10 * (6 / -132)) + 17) + 5
= ((10 * 0) + 17) + 5
= (0 + 17) + 5
= 17 + 5
= 22
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/evaluate-reverse-polish-notation/>

#### **æ€è·¯:**

ã€€ã€€ç»´æŠ¤ä¸€ä¸ª`æ•°æ®æ ˆ`å’Œä¸€ä¸ª`ç¬¦å·æ ˆ`ï¼Œé‡åˆ°æ•°å€¼æ—¶å…¥æ•°æ®æ ˆï¼Œé‡åˆ°ç¬¦å·æ—¶ä»æ•°æ®æ ˆå‡ºæ ˆ2ä¸ªå…ƒç´ `num2`å’Œ`num1`ï¼Œå°†`num1`å’Œ`num2`æŒ‰ç¬¦å·è¿ç®—åçš„ç»“æœå†å…¥æ•°æ®æ ˆã€‚æœ€åæ•°æ®æ ˆä¸­åªå‰©ä¸‹å”¯ä¸€çš„ä¸€ä¸ªå…ƒç´ å°±æ˜¯ç»“æœã€‚  

#### **ä»£ç :**

```python
class Solution:
    def evalRPN(self, tokens: List[str]) -> int:
        def op(num1, num2, sign):
            if sign == '+': return num1 + num2
            if sign == '-': return num1 - num2
            if sign == '*': return num1 * num2
            if sign == '/': return int(num1 / num2)

        nums = []
        signs = []
        for token in tokens:
            try:
                nums.append(int(token))  # æ•°å€¼
            except:
                num2 = nums.pop()
                num1 = nums.pop()
                num = op(num1, num2, token)
                # print(num1, token, num2, '=', num)
                nums.append(num)

        # print(nums)
        return nums[0]

```

## A151. ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€ä¸ªç¿»è½¬å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå•è¯ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: "the sky is blue"
è¾“å‡º: "blue is sky the"
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: "  hello world!  "
è¾“å‡º: "world! hello"
è§£é‡Š: è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥: "a good   example"
è¾“å‡º: "example good a"
è§£é‡Š: å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reverse-words-in-a-string/>

#### æ€è·¯  


ã€€ã€€è°ƒç”¨`split`ã€‚  

#### ä»£ç   

```python
class Solution:
    def reverseWords(self, s: str) -> str:
        s = s.strip(' ')
        reverse = filter(lambda x: x != '', s.split(' ')[::-1])
        return ' '.join(reverse)
```


## A152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾å‡ºä¸€ä¸ªåºåˆ—ä¸­ä¹˜ç§¯æœ€å¤§çš„è¿ç»­å­åºåˆ—ï¼ˆè¯¥åºåˆ—è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°ï¼‰ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [2,3,-2,4]
è¾“å‡º: 6
è§£é‡Š: å­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [-2,0,-1]
è¾“å‡º: 0
è§£é‡Š: ç»“æœä¸èƒ½ä¸º 2, å› ä¸º [-2,-1] ä¸æ˜¯å­æ•°ç»„ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximum-product-subarray/>


#### æ€è·¯  


ã€€ã€€ç”¨`dp_pos[i]`å’Œ`dp_neg[i]`åˆ†åˆ«è¡¨ç¤ºä»¥`nums[i]`ç»“å°¾çš„**æœ€å¤§æ­£æ•°ä¹˜ç§¯**å’Œ**æœ€å°è´Ÿæ•°ä¹˜ç§¯**ã€‚é‡åˆ°`0`æ—¶ä¼šé‡æ–°å¼€å§‹è®¡ç®—ã€‚ä¸€äº›ä¾‹å­å¦‚ä¸‹ï¼š  

```python
nums =   [2,  -5, -2, 0, 3, 2]
dp_pos = [2,   0, 20, 0, 3, 6]  # æœ€å¤§æ­£æ•°ä¹˜ç§¯
dp_neg = [0, -10, -2, 0, 0, 0]  # æœ€å¤§è´Ÿæ•°ä¹˜ç§¯

nums =   [-2,  3,   3,  -2]
dp_pos = [0,   3,   9,  36]  # æœ€å¤§æ­£æ•°ä¹˜ç§¯
dp_neg = [-2, -6, -18, -18]  # æœ€å¤§è´Ÿæ•°ä¹˜ç§¯
```

ã€€ã€€æ ¹æ®`nums[i]`æ˜¯æ­£æ•°è¿˜æ˜¯è´Ÿæ•°ï¼Œåˆ†åˆ«æ›´æ–°`dp_pos[i]`å’Œ`dp_neg[i]`ã€‚ã€€ã€€

#### ä»£ç   
```python
class Solution:
    def maxProduct(self, nums: List[int]) -> int:
        n = len(nums) 
        if n == 1:
            return nums[0]
        dp_pos = [0 for i in range(n)]  # è®°å½•æœ€å¤§æ­£æ•°ä¹˜ç§¯
        dp_neg = [0 for i in range(n)]  # è®°å½•æœ€å¤§è´Ÿæ•°ä¹˜ç§¯

        temp = 1
        ans = 0
        for i in range(n):
            num = nums[i]
            if num > 0:  # numæ˜¯æ­£æ•°
                dp_pos[i] = max(dp_pos[i-1] * num, num) if i else num  # æ­£æ•° Ã— æ­£æ•° = æ­£æ•°
                dp_neg[i] = dp_neg[i-1] * num  # æ­£æ•° Ã— è´Ÿæ•° = è´Ÿæ•°
            elif num < 0:  # numæ˜¯è´Ÿæ•°
                dp_neg[i] = min(dp_pos[i-1] * num, num) if i else num  # æ­£æ•° Ã— è´Ÿæ•° = è´Ÿæ•°
                dp_pos[i] = dp_neg[i-1] * num  # è´Ÿæ•° Ã— è´Ÿæ•° = æ­£æ•°

            ans = max(ans, dp_pos[i])
            
        return ans
        
```

## A153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚

( ä¾‹å¦‚ï¼Œæ•°ç»„ `[0,1,2,4,5,6,7]` å¯èƒ½å˜ä¸º `[4,5,6,7,0,1,2]` )ã€‚

è¯·æ‰¾å‡ºå…¶ä¸­æœ€å°çš„å…ƒç´ ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤å…ƒç´ ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3,4,5,1,2]
è¾“å‡º: 1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [4,5,6,7,0,1,2]
è¾“å‡º: 0
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/>

#### **æ€è·¯:**

ã€€ã€€äºŒåˆ†æŸ¥æ‰¾ï¼Œæ¯”è¾ƒç¬¬ä¸€ä¸ªæ•°å’Œä¸­é—´çš„æ•°ï¼Œå¦‚æœä¸­é—´çš„æ•°å¤§ï¼Œåˆ™`å·¦åŠè¾¹æœ‰åº`ï¼Œå¦åˆ™`å³åŠè¾¹æœ‰åº`ã€‚  

ã€€ã€€å¯¹äºæœ‰åºçš„åŠè¾¹ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªæ•°å¯èƒ½æ˜¯æœ€å°çš„ï¼Œå¯¹äºæ— åºçš„åŠè¾¹ç»§ç»­æŸ¥æ‰¾ã€‚  ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def findMin(self, nums: List[int]) -> int:
        i, j = 0, len(nums) - 1
        ans = float('inf')
        while i <= j and i < len(nums):
            if j - i <= 1:
                return min(ans, min(nums[i:j+1]))
            mid = (i + j) // 2
            if nums[i] < nums[mid]:  # å·¦è¾¹æœ‰åº
                ans = min(ans, nums[i])
                i = mid + 1
            else:   # å³è¾¹æœ‰åº
                ans = min(ans, nums[mid])
                j = mid - 1

        return ans

```

## A162. å¯»æ‰¾å³°å€¼

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚

ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„ `nums`ï¼Œå…¶ä¸­ `nums[i] â‰  nums[i+1]`ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚

æ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›ä»»ä½•ä¸€ä¸ªå³°å€¼æ‰€åœ¨ä½ç½®å³å¯ã€‚

ä½ å¯ä»¥å‡è®¾ `nums[-1] = nums[n] = -âˆ`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,2,3,1]
è¾“å‡º: 2
è§£é‡Š: 3 æ˜¯å³°å€¼å…ƒç´ ï¼Œä½ çš„å‡½æ•°åº”è¯¥è¿”å›å…¶ç´¢å¼• 2ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1,2,1,3,5,6,4]
è¾“å‡º: 1 æˆ– 5 
è§£é‡Š: ä½ çš„å‡½æ•°å¯ä»¥è¿”å›ç´¢å¼• 1ï¼Œå…¶å³°å€¼å…ƒç´ ä¸º 2ï¼›
     æˆ–è€…è¿”å›ç´¢å¼• 5ï¼Œ å…¶å³°å€¼å…ƒç´ ä¸º 6ã€‚
```

**è¯´æ˜:**  

ä½ çš„è§£æ³•åº”è¯¥æ˜¯ *O*(*logN*) æ—¶é—´å¤æ‚åº¦çš„ã€‚  

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/find-peak-element/>

#### **æ€è·¯:**

ã€€ã€€è¦æ±‚`O(logN)`å¤æ‚åº¦ä¸€èˆ¬è€ƒè™‘äºŒåˆ†æœç´¢ã€‚è¯¥é¢˜æœ‰å¦‚ä¸‹è§„å¾‹ï¼š  

- è§„å¾‹ä¸€ï¼šå¦‚æœ`nums[i] > nums[i+1]`ï¼Œåˆ™åœ¨`i`ä¹‹å‰ä¸€å®šå­˜åœ¨å³°å€¼å…ƒç´ ï¼› 

- è§„å¾‹äºŒï¼šå¦‚æœ`nums[i] < nums[i+1]`ï¼Œåˆ™åœ¨`i+1`ä¹‹åä¸€å®šå­˜åœ¨å³°å€¼å…ƒç´ ã€‚

#### **ä»£ç :**

```python
class Solution:
    def findPeakElement(self, nums: List[int]) -> int:
        nums = [float('-inf')] + nums + [float('-inf')]
        i, j = 0, len(nums) - 1
        while i <= j and i < len(nums):
            mid = (i + j) // 2
            if nums[mid] > nums[mid+1]:  # å‰åŠè¾¹
                if nums[mid] > nums[mid-1]:
                    return mid - 1
                j = mid - 1
            else:  # ååŠè¾¹
                i = mid + 1

        return -1
      
```

## A164. æœ€å¤§é—´è·

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ï¼Œæ‰¾å‡ºæ•°ç»„åœ¨æ’åºä¹‹åï¼Œç›¸é‚»å…ƒç´ ä¹‹é—´æœ€å¤§çš„å·®å€¼ã€‚

å¦‚æœæ•°ç»„å…ƒç´ ä¸ªæ•°å°äº 2ï¼Œåˆ™è¿”å› 0ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3,6,9,1]
è¾“å‡º: 3
è§£é‡Š: æ’åºåçš„æ•°ç»„æ˜¯ [1,3,6,9], å…¶ä¸­ç›¸é‚»å…ƒç´  (3,6) å’Œ (6,9) ä¹‹é—´éƒ½å­˜åœ¨æœ€å¤§å·®å€¼ 3ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [10]
è¾“å‡º: 0
è§£é‡Š: æ•°ç»„å…ƒç´ ä¸ªæ•°å°äº 2ï¼Œå› æ­¤è¿”å› 0ã€‚
```

**è¯´æ˜:**

- ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½æ˜¯éè´Ÿæ•´æ•°ï¼Œä¸”æ•°å€¼åœ¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´å†…ã€‚
- è¯·å°è¯•åœ¨çº¿æ€§æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦çš„æ¡ä»¶ä¸‹è§£å†³æ­¤é—®é¢˜ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximum-gap/>

#### **æ€è·¯:**


ã€€ã€€åœ¨åšè¿™é“é¢˜ç›®ä¹‹å‰ï¼Œé¦–å…ˆå­¦ä¹ ä¸€ä¸‹æ¡¶æ’åºï¼š

##### **ç®—æ³•è¿‡ç¨‹**

1. æ ¹æ®å¾…æ’åºé›†åˆä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ çš„å·®å€¼èŒƒå›´å’Œæ˜ å°„è§„åˆ™ï¼Œç¡®å®šç”³è¯·çš„æ¡¶ä¸ªæ•°ï¼›
2. éå†å¾…æ’åºé›†åˆï¼Œå°†æ¯ä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°å¯¹åº”çš„æ¡¶ä¸­ï¼›
3. å¯¹æ¯ä¸€ä¸ªæ¡¶ä¸­å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶ç§»åŠ¨åˆ°å·²æ’åºé›†åˆä¸­ã€‚

##### **æ¼”ç¤ºç¤ºä¾‹**

ã€€ã€€å¾…æ’åºé›†åˆä¸ºï¼š`[-7, 51, 3, 121, -3, 32, 21, 43, 4, 25, 56, 77, 16, 22, 87, 56, -10, 68, 99, 70]`   

ã€€ã€€æ˜ å°„è§„åˆ™ä¸ºï¼š

```tex
ã€€ã€€ã€€ã€€\displaystyle f(x)=\frac{x}{10}-c
```

ã€€ã€€å…¶ä¸­å¸¸é‡ä½ï¼š(è¿™ä¸ªå…¬å¼æ”¯æŒçœŸæ˜¯å¤ªå·®åŠ²äº†)  

```tex
ã€€ã€€ã€€ã€€\displaystyle c=\frac{\min }{10}
```

ã€€ã€€å³ä»¥é—´éš”å¤§å° 10 æ¥åŒºåˆ†ä¸åŒå€¼åŸŸã€‚

**step 1:**

ã€€ã€€éå†é›†åˆå¯å¾—ï¼Œæœ€å¤§å€¼ä¸ºï¼š`max = 121`ï¼Œæœ€å°å€¼ä¸ºï¼š`min = 10`ï¼Œå¾…ç”³è¯·æ¡¶çš„ä¸ªæ•°ä¸ºï¼š

```tex
ã€€ã€€ã€€ã€€\displaystyle \frac {\max}{10} -\frac {\min}{10}+1=12-(-1)+1=14
```

**step 2:**

ã€€ã€€éå†å¾…æ’åºé›†åˆï¼Œä¾æ¬¡æ·»åŠ å„å…ƒç´ åˆ°å¯¹åº”çš„æ¡¶ä¸­ã€‚

| æ¡¶ä¸‹æ ‡ |  æ¡¶ä¸­å…ƒç´    |
| ------ | :---------: |
| 0      | -7, -3, -10 |
| 1      |    3, 4     |
| 2      |     16      |
| 3      | 21, 25, 22  |
| 4      |     32      |
| 5      |     43      |
| 6      | 51, 56, 56  |
| 7      |     68      |
| 8      |   77, 70    |
| 9      |     87      |
| 10     |     99      |
| 11     |             |
| 12     |             |
| 13     |     121     |

**step 3:**

å¯¹æ¯ä¸€ä¸ªæ¡¶ä¸­å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶ç§»åŠ¨å›åŸå§‹é›†åˆä¸­ï¼Œå³å®Œæˆæ’åºè¿‡ç¨‹ã€‚

##### **ç®—æ³•ç¤ºä¾‹**

```python
def bucketSort(arr):
    maximum, minimum = max(arr), min(arr)
    bucketArr = [[] for i in range(maximum // 10 - minimum // 10 + 1)]  # set the map rule and apply for space
    for i in arr:  # map every element in array to the corresponding bucket
        index = i // 10 - minimum // 10
        bucketArr[index].append(i)
    arr.clear()
    for i in bucketArr:
        heapSort(i)   # sort the elements in every bucket
        arr.extend(i)  # move the sorted elements in bucket to array
```

*å¼•ç”¨è‡ª<https://www.jianshu.com/p/204ed43aec0c>*



ã€€ã€€å›åˆ°è¿™ä¸€é¢˜ï¼Œæœ‰ä¸¤ä¸ªå…³é”®æ€è·¯ï¼š  

ã€€ã€€â‘  æ¡¶ä¸ªæ•°çš„è®¾ç½®ï¼Œæ ¹æ®æŠ½å±‰åŸç†ï¼Œæ¡¶çš„ä¸ªæ•°ä¸ºn+1çš„æ—¶å€™ï¼ŒæŠŠnä¸ªæ•°æ”¾å…¥æ¡¶ä¸­ï¼Œä¸€å®šä¼šäº§ç”Ÿä¸€ä¸ªç©ºæ¡¶ï¼Œè¿™æ ·å°±å¯ä»¥ç¡®å®šæœ€å¤§é—´è·å‡ºç°åœ¨ä¸åŒçš„æ¡¶ä¹‹é—´(è·³è¿‡ç©ºæ¡¶)ã€‚  

ã€€ã€€â‘¡ åœ¨æ¯ä¸ªæ¡¶ä¸­ï¼Œå¹¶ä¸éœ€è¦è¦å­˜æ”¾æ‰€æœ‰çš„å…ƒç´ ï¼Œè€Œåªè¦å­˜æ”¾è¯¥æ¡¶ä¸­æœ€å¤§çš„å’Œæœ€å°çš„å°±è¡Œäº†(å› ä¸ºæœ€å¤§é—´è·ä¸€å®šå‡ºç°åœ¨ä¸åŒçš„æ¡¶ä¸­)ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def maximumGap(self, nums: List[int]) -> int:
        n = len(nums)
        if n < 2:
            return 0

        minimum, maximum = min(nums), max(nums)
        if maximum == minimum:  # æœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸ç­‰
            return 0  

        mins = [float('inf')] * (n + 1)  # å­˜æ”¾æœ€å°æ•°çš„æ¡¶
        maxs = [float('-inf')] * (n + 1)  # å­˜æ”¾æœ€å¤§æ•°çš„æ¡¶

        for num in nums:
            index = int((num - minimum) * n / (maximum - minimum))
            mins[index] = min(mins[index], num)
            maxs[index] = max(maxs[index], num)

        print(mins)
        print(maxs)
        ans = 0
        m = maxs[0]  # ä¹‹å‰çš„æœ€å¤§æ•°
        for i in range(1, n + 1):
            if mins[i] < float('inf') and m > float('-inf'):
                ans = max(ans, mins[i] - m)
                m = maxs[i]

        return ans

```

## A165. æ¯”è¾ƒç‰ˆæœ¬å·

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å· *version1* å’Œ *version2*ã€‚
å¦‚æœ `*version1* > *version2*` è¿”å› `1`ï¼Œå¦‚æœ `*version1* < *version2*` è¿”å› `-1`ï¼Œ é™¤æ­¤ä¹‹å¤–è¿”å› `0`ã€‚

ä½ å¯ä»¥å‡è®¾ç‰ˆæœ¬å­—ç¬¦ä¸²éç©ºï¼Œå¹¶ä¸”åªåŒ…å«æ•°å­—å’Œ `.` å­—ç¬¦ã€‚

 `.` å­—ç¬¦ä¸ä»£è¡¨å°æ•°ç‚¹ï¼Œè€Œæ˜¯ç”¨äºåˆ†éš”æ•°å­—åºåˆ—ã€‚

ä¾‹å¦‚ï¼Œ`2.5` ä¸æ˜¯â€œä¸¤ä¸ªåŠâ€ï¼Œä¹Ÿä¸æ˜¯â€œå·®ä¸€åŠåˆ°ä¸‰â€ï¼Œè€Œæ˜¯ç¬¬äºŒç‰ˆä¸­çš„ç¬¬äº”ä¸ªå°ç‰ˆæœ¬ã€‚

ä½ å¯ä»¥å‡è®¾ç‰ˆæœ¬å·çš„æ¯ä¸€çº§çš„é»˜è®¤ä¿®è®¢ç‰ˆå·ä¸º `0`ã€‚ä¾‹å¦‚ï¼Œç‰ˆæœ¬å· `3.4` çš„ç¬¬ä¸€çº§ï¼ˆå¤§ç‰ˆæœ¬ï¼‰å’Œç¬¬äºŒçº§ï¼ˆå°ç‰ˆæœ¬ï¼‰ä¿®è®¢å·åˆ†åˆ«ä¸º `3` å’Œ `4`ã€‚å…¶ç¬¬ä¸‰çº§å’Œç¬¬å››çº§ä¿®è®¢å·å‡ä¸º `0`ã€‚


> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: version1 = "0.1", version2 = "1.1"
è¾“å‡º: -1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: version1 = "1.0.1", version2 = "1"
è¾“å‡º: 1
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: version1 = "7.5.2.4", version2 = "7.5.3"
è¾“å‡º: -1
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šversion1 = "1.01", version2 = "1.001"
è¾“å‡ºï¼š0
è§£é‡Šï¼šå¿½ç•¥å‰å¯¼é›¶ï¼Œâ€œ01â€ å’Œ â€œ001â€ è¡¨ç¤ºç›¸åŒçš„æ•°å­— â€œ1â€ã€‚
```

**ç¤ºä¾‹ 5ï¼š**

```
è¾“å…¥ï¼šversion1 = "1.0", version2 = "1.0.0"
è¾“å‡ºï¼š0
è§£é‡Šï¼šversion1 æ²¡æœ‰ç¬¬ä¸‰çº§ä¿®è®¢å·ï¼Œè¿™æ„å‘³ç€å®ƒçš„ç¬¬ä¸‰çº§ä¿®è®¢å·é»˜è®¤ä¸º â€œ0â€ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/compare-version-numbers/>

#### æ€è·¯  

ã€€ã€€å¯¹ä¸¤ä¸ªç‰ˆæœ¬å·éƒ½æŒ‰`"."`å…ˆ`split`æˆåˆ—è¡¨ï¼Œç„¶åå°†æ¯ä¸€æ®µè½¬æˆæ•´æ•°ï¼Œæœ€åå»æ‰åˆ—è¡¨åé¢å¤šä½™çš„`0`ã€‚  

ã€€ã€€ç„¶åæ¯”è¾ƒä¸¤ä¸ªåˆ—è¡¨å³å¯ã€‚  ã€€ã€€

#### ä»£ç   

```python
class Solution(object):
    def compareVersion(self, version1, version2):

        v1 = list(map(int, version1.split('.')))
        v2 = list(map(int, version2.split('.')))
        for i in range(len(v1)-1, -1, -1):
            if v1[i] != 0:
                v1 = v1[:i+1]  # å»æ‰å¤šä½™çš„0
                break
        for i in range(len(v2)-1, -1, -1):
            if v2[i] != 0:
                v2 = v2[:i+1]
                break

        return cmp(v1, v2)
```


## A166. åˆ†æ•°åˆ°å°æ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ†æ•°çš„åˆ†å­ numerator å’Œåˆ†æ¯ denominatorï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›å°æ•°ã€‚

å¦‚æœå°æ•°éƒ¨åˆ†ä¸ºå¾ªç¯å°æ•°ï¼Œåˆ™å°†å¾ªç¯çš„éƒ¨åˆ†æ‹¬åœ¨æ‹¬å·å†…ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: numerator = 1, denominator = 2
è¾“å‡º: "0.5"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: numerator = 2, denominator = 1
è¾“å‡º: "2"
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: numerator = 2, denominator = 3
è¾“å‡º: "0.(6)"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/fraction-to-recurring-decimal/>

#### **æ€è·¯:**

ã€€ã€€ç”¨æ¨¡æ‹Ÿé™¤æ³•çš„æ–¹å¼æ¥è®¡ç®—ã€‚æ³¨æ„`Python`ä¸­è´Ÿæ•°é™¤ä»¥æ­£æ•°çš„ä½™æ•°ä¸ºæ­£æ•°ï¼Œæ‰€æœ‰å°†è¢«é™¤æ•°å’Œé™¤æ•°éƒ½å…ˆè½¬æˆæ­£æ•°å¤„ç†ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def fractionToDecimal(self, numerator: int, denominator: int) -> str:
        if numerator * denominator >= 0:
            negative = False
        else:
            negative = True

        numerator, denominator = abs(numerator), abs(denominator)

        ans = ''
        set_n = {}  # è®°å½•æœ‰å“ªäº›è¢«é™¤æ•°çš„éƒ¨åˆ†ç®—è¿‡äº† å¦‚ 2/6=0.3...2 è¿™é‡Œå†æ¬¡å‡ºç°çš„2å°±ç®—è¿‡äº†
        i = 0

        dot = False

        while numerator:
            div, mod = divmod(numerator, denominator)
            ans += str(div)
            if not dot: ans += '.'; dot = True
            numerator = mod * 10
            i += len(str(div))

            if numerator in set_n:
                k = set_n[numerator]
                ans = ans[:k+1] + '(' + ans[k+1:]
                break
            else:
                set_n[numerator] = i

        if '(' in ans: ans += ')'
        ans = ans.rstrip('.')
        if not ans: ans = '0'
        if negative: ans = '-' + ans

        return ans

```

## A167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§**å‡åºæ’åˆ—** çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚

å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2*ã€‚*

**è¯´æ˜:**

- è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚
- ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: numbers = [2, 7, 11, 15], target = 9
è¾“å‡º: [1,2]
è§£é‡Š: 2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/>

#### **æ€è·¯:**

ã€€ã€€æ³¨æ„æ•°ç»„ä¸­**å¯ä»¥æœ‰è´Ÿæ•°**ã€‚  

ã€€ã€€åŒæŒ‡é’ˆï¼Œåˆå§‹åˆ†åˆ«æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„å’Œå¤§äº`target`ï¼Œåˆ™å³æŒ‡é’ˆå‘å·¦ç§»ï¼›å¦‚æœå®ƒä»¬çš„å’Œå°äº`target`ï¼Œåˆ™å·¦æŒ‡é’ˆå‘å³ç§»ã€‚æ—¶é—´å¤æ‚åº¦`O(n)`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def twoSum(self, numbers: List[int], target: int) -> List[int]:
        nums = numbers
        i, j = 0, len(nums) - 1 

        while i < j:
            to_sum = nums[i] + nums[j]
            if to_sum == target:
                return [i+1, j+1]
            if to_sum > target:
                j -= 1
            elif to_sum <target:
                i += 1
                
```

## A169. å¤šæ•°å…ƒç´ 

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå¤§å°ä¸º *n* çš„æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°**å¤§äº** `âŒŠ n/2 âŒ‹` çš„å…ƒç´ ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3,2,3]
è¾“å‡º: 3
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [2,2,1,1,1,2,2]
è¾“å‡º: 2
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/majority-element/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**ç”¨ä¸€ä¸ªå­—å…¸(å“ˆå¸Œè¡¨)è®°å½•æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœå¤§äº`n//2`åˆ™è¿”å›è¯¥æ•°ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**`æ‘©å°”æŠ•ç¥¨æ³•`ï¼šä»ç¬¬ä¸€ä¸ªæ•°å¼€å§‹`count=1`ï¼Œé‡åˆ°ç›¸åŒçš„å°±åŠ 1ï¼Œé‡åˆ°ä¸åŒçš„å°±å‡1ï¼Œå‡åˆ°0å°±é‡æ–°æ¢ä¸ªæ•°å¼€å§‹è®¡æ•°ï¼Œæ€»èƒ½æ‰¾åˆ°æœ€å¤šçš„é‚£ä¸ªã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€**

```python
class Solution:
    def majorityElement(self, nums: List[int]) -> int:
        helper = {}
        n = len(nums) // 2
        if n == 0:
            return nums[0]

        for num in nums:
            if num in helper:
                helper[num] += 1
                if helper[num] > n:
                    return num
            else:
                helper[num] = 1
```

ã€€ã€€**æ–¹æ³•äºŒ**

```python
class Solution:
    def majorityElement(self, nums: List[int]) -> int:
        count = 1
        ans = nums[0]
        for i, num in enumerate(nums[1:]):
            if num == ans:
                count += 1
            else:
                count -= 1
                if not count:
                    ans = nums[i+2]

        return ans
```

## A174. åœ°ä¸‹åŸæ¸¸æˆ

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ä¸€äº›æ¶é­”æŠ“ä½äº†å…¬ä¸»ï¼ˆ**P**ï¼‰å¹¶å°†å¥¹å…³åœ¨äº†åœ°ä¸‹åŸçš„å³ä¸‹è§’ã€‚åœ°ä¸‹åŸæ˜¯ç”± M x N ä¸ªæˆ¿é—´ç»„æˆçš„äºŒç»´ç½‘æ ¼ã€‚æˆ‘ä»¬è‹±å‹‡çš„éª‘å£«ï¼ˆ**K**ï¼‰æœ€åˆè¢«å®‰ç½®åœ¨å·¦ä¸Šè§’çš„æˆ¿é—´é‡Œï¼Œä»–å¿…é¡»ç©¿è¿‡åœ°ä¸‹åŸå¹¶é€šè¿‡å¯¹æŠ—æ¶é­”æ¥æ‹¯æ•‘å…¬ä¸»ã€‚

éª‘å£«çš„åˆå§‹å¥åº·ç‚¹æ•°ä¸ºä¸€ä¸ªæ­£æ•´æ•°ã€‚å¦‚æœä»–çš„å¥åº·ç‚¹æ•°åœ¨æŸä¸€æ—¶åˆ»é™è‡³ 0 æˆ–ä»¥ä¸‹ï¼Œä»–ä¼šç«‹å³æ­»äº¡ã€‚

æœ‰äº›æˆ¿é—´ç”±æ¶é­”å®ˆå«ï¼Œå› æ­¤éª‘å£«åœ¨è¿›å…¥è¿™äº›æˆ¿é—´æ—¶ä¼šå¤±å»å¥åº·ç‚¹æ•°ï¼ˆè‹¥æˆ¿é—´é‡Œçš„å€¼ä¸º*è´Ÿæ•´æ•°*ï¼Œåˆ™è¡¨ç¤ºéª‘å£«å°†æŸå¤±å¥åº·ç‚¹æ•°ï¼‰ï¼›å…¶ä»–æˆ¿é—´è¦ä¹ˆæ˜¯ç©ºçš„ï¼ˆæˆ¿é—´é‡Œçš„å€¼ä¸º *0*ï¼‰ï¼Œè¦ä¹ˆåŒ…å«å¢åŠ éª‘å£«å¥åº·ç‚¹æ•°çš„é­”æ³•çƒï¼ˆè‹¥æˆ¿é—´é‡Œçš„å€¼ä¸º*æ­£æ•´æ•°*ï¼Œåˆ™è¡¨ç¤ºéª‘å£«å°†å¢åŠ å¥åº·ç‚¹æ•°ï¼‰ã€‚

ä¸ºäº†å°½å¿«åˆ°è¾¾å…¬ä¸»ï¼Œéª‘å£«å†³å®šæ¯æ¬¡åªå‘å³æˆ–å‘ä¸‹ç§»åŠ¨ä¸€æ­¥ã€‚

**ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—ç¡®ä¿éª‘å£«èƒ½å¤Ÿæ‹¯æ•‘åˆ°å…¬ä¸»æ‰€éœ€çš„æœ€ä½åˆå§‹å¥åº·ç‚¹æ•°ã€‚**

ä¾‹å¦‚ï¼Œè€ƒè™‘åˆ°å¦‚ä¸‹å¸ƒå±€çš„åœ°ä¸‹åŸï¼Œå¦‚æœéª‘å£«éµå¾ªæœ€ä½³è·¯å¾„ `å³ -> å³ -> ä¸‹ -> ä¸‹`ï¼Œåˆ™éª‘å£«çš„åˆå§‹å¥åº·ç‚¹æ•°è‡³å°‘ä¸º **7**ã€‚

| -2 (K) | -3   | 3      |
| ------ | ---- | ------ |
| -5     | -10  | 1      |
| 10     | 30   | -5 (P) |

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/dungeon-game/>

#### æ€è·¯  

ã€€ã€€æ„Ÿè§‰éš¾åº¦æœ‰ç‚¹è™šæ ‡ï¼Œæœ€å¤šä¹Ÿå°±"ä¸­ç­‰" ã€‚  
ã€€ã€€ä»**ç»ˆç‚¹**å‘**èµ·ç‚¹**éå†ã€‚`dp[i][j]`è¡¨ç¤ºåœ¨ä½ç½®`[i][j]`æ˜¯æ‰€å…è®¸çš„æœ€å°ç”Ÿå‘½ç‚¹æ•°ã€‚`dp[i][j] = (min(dp[i][j+1], dp[i+1][j]) - dungeon[i][j])`ã€‚ä¹Ÿå°±æ˜¯`æ¥çš„æ—¶å€™çš„æœ€å°ç”Ÿå‘½ç‚¹æ•°`-`dungeon[i][j]è¡¥å……çš„ç‚¹æ•°`ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ç”Ÿå‘½å€¼ä¸èƒ½ä¸º`0`ã€‚å› æ­¤`dp[i][j] = max(1, dp[i][j])`ã€‚  

#### ä»£ç   

```python
class Solution:
    def calculateMinimumHP(self, dungeon: List[List[int]]) -> int:
        m = len(dungeon)
        if m == 0:
            return 0

        n = len(dungeon[0])
        dp = [[float('inf') for j in range(n)]for i in range(m)]

        dp[m-1][n-1] = 1 - min(dungeon[m-1][n-1], 0)
        for i in range(m-1,-1,-1):
            for j in range(n-1,-1,-1):
                if i == m-1 and j == n-1:
                    pass
                elif i == m-1:
                    dp[i][j] = max(1, dp[i][j+1] - dungeon[i][j])
                elif j == n-1:
                    dp[i][j] = max(1, dp[i+1][j] - dungeon[i][j])
                else:
                    dp[i][j] = max(1, (min(dp[i][j+1], dp[i+1][j]) - dungeon[i][j]))

        # print(dp)
        return dp[0][0]
```

## A179. æœ€å¤§æ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [10,2]
è¾“å‡º: 210
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,30,34,5,9]
è¾“å‡º: 9534330
```

**è¯´æ˜:** è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/largest-number/>

#### **æ€è·¯:**

ã€€ã€€å®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œæ¯”è¾ƒ`s1 s2`å’Œ`s2 s1`çš„æ•°å€¼å¤§å°ï¼Œç„¶åç”¨è¿™ä¸ªæ¯”è¾ƒå‡½æ•°æ’åºã€‚  

#### **ä»£ç :**

```python
from functools import cmp_to_key

class Solution:
    def largestNumber(self, nums: List[int]) -> str:
        nums = list(map(str, nums))

        def cmpp(s1, s2):  # å®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°
            if int(s1 + s2) > int(s2 + s1):
                return 1
            elif int(s1 + s2) < int(s2 + s1):
                return -1
            else:
                return 0

        nums.sort(key=cmp_to_key(cmpp), reverse=True)
        return str(int(''.join(nums)))  # å»æ‰å‰å¯¼0

```

## A187. é‡å¤çš„DNAåºåˆ—

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

æ‰€æœ‰ DNA éƒ½ç”±ä¸€ç³»åˆ—ç¼©å†™ä¸º Aï¼ŒCï¼ŒG å’Œ T çš„æ ¸è‹·é…¸ç»„æˆï¼Œä¾‹å¦‚ï¼šâ€œACGAATTCCGâ€ã€‚åœ¨ç ”ç©¶ DNA æ—¶ï¼Œè¯†åˆ« DNA ä¸­çš„é‡å¤åºåˆ—æœ‰æ—¶ä¼šå¯¹ç ”ç©¶éå¸¸æœ‰å¸®åŠ©ã€‚

ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾ DNA åˆ†å­ä¸­æ‰€æœ‰å‡ºç°è¶…è¿‡ä¸€æ¬¡çš„ 10 ä¸ªå­—æ¯é•¿çš„åºåˆ—ï¼ˆå­ä¸²ï¼‰ã€‚

> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šs = "AAAAACCCCCAAAAACCCCCCAAAAAGGGTTT"
è¾“å‡ºï¼š["AAAAACCCCC", "CCCCCAAAAA"]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/repeated-dna-sequences/>

#### **æ€è·¯:**

ã€€ã€€ç”¨é›†åˆè®°å½•é•¿åº¦ä¸º`10`çš„ç‰‡æ®µï¼Œå¦‚æœå½“å‰çš„ç‰‡æ®µå‡ºç°è¿‡ï¼Œå°±åŠ å…¥åˆ°ç»“æœä¸­ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def findRepeatedDnaSequences(self, s: str) -> List[str]:
        n = len(s)
        if n <=10:
            return []

        shown = set()
        ans = set()
        for i in range(n-10+1):
            fragment = s[i:i+10]
            if fragment in shown:
                ans.add(fragment)
            shown.add(fragment)

        return [a for a in ans]

```

## A188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ *i* ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ *i* å¤©çš„ä»·æ ¼ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ **k** ç¬”äº¤æ˜“ã€‚

**æ³¨æ„:** ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [2,4,1], k = 2
è¾“å‡º: 2
è§£é‡Š: åœ¨ç¬¬ 1 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 4) çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 4-2 = 2 ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,2,6,5,0,3], k = 2
è¾“å‡º: 7
è§£é‡Š: åœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤© (è‚¡ç¥¨ä»·æ ¼ = 6) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-2 = 4 ã€‚
     éšåï¼Œåœ¨ç¬¬ 5 å¤© (è‚¡ç¥¨ä»·æ ¼ = 0) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 6 å¤© (è‚¡ç¥¨ä»·æ ¼ = 3) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 3-0 = 3 ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/>


#### æ€è·¯  

ã€€ã€€è§£æ³•æ‘˜è‡ª[@æ´¾å¤§æ˜Ÿæ˜Ÿæ˜Ÿæ˜Ÿ](https://leetcode-cn.com/u/fongim/)ã€‚  

ã€€ã€€æ ‡å‡†çš„ä¸‰ç»´DPåŠ¨æ€è§„åˆ’ï¼Œä¸‰ä¸ªç»´åº¦ï¼Œç¬¬ä¸€ç»´è¡¨ç¤ºå¤©ï¼Œç¬¬äºŒç»´è¡¨ç¤ºäº¤æ˜“äº†å‡ æ¬¡ï¼Œç¬¬ä¸‰ç»´è¡¨ç¤ºæ˜¯å¦æŒæœ‰è‚¡ç¥¨ã€‚  

ã€€ã€€é¦–å…ˆåˆå§‹åŒ–ä¸‰ç»´æ•°ç»„ï¼Œå¡«å……ç¬¬1å¤©æ“ä½œjæ¬¡çš„æ²¡ä¹°æˆ–ä¹°äº†çš„æƒ…å†µçš„åˆå§‹å€¼ï¼Œæ²¡ä¹°å°±æ˜¯`0`ï¼Œç¬¬ä¸€å¤©å°±ä¹°å…¥å³`-prices[0]`ã€‚è¿™é‡Œå®šä¹‰å–å‡ºæ“ä½œæ—¶äº¤æ˜“æ¬¡æ•°åŠ `1`ã€‚  

ã€€ã€€ç„¶åæ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä¸‹é¢æè¿°çš„`i, j`éƒ½å¤§äº`0`ï¼š  

ã€€ã€€ã€Œç¬¬`i`å¤©äº¤æ˜“æ¬¡æ•°`0`ä¸æŒæœ‰è‚¡ç¥¨ã€çš„æƒ…å†µåªèƒ½æ¥è‡ªã€Œç¬¬`i-1`å¤©äº¤æ˜“æ¬¡æ•°`0`ä¸æŒæœ‰è‚¡ç¥¨ã€ï¼›  

ã€€ã€€ã€Œç¬¬`i`å¤©äº¤æ˜“`j`æ¬¡ä¸æŒæœ‰è‚¡ç¥¨ã€çš„çŠ¶æ€å¯ä»¥æ¥è‡ªã€Œç¬¬`i-1`å¤©äº¤æ˜“`j`æ¬¡ä¸æŒæœ‰è‚¡ç¥¨ã€æˆ–è€…ã€Œç¬¬`i-1`å¤©äº¤æ˜“`j-1`æ¬¡æŒæœ‰è‚¡ç¥¨ã€(å³ä»Šå¤©å–å‡ºè‚¡ç¥¨ï¼Œç„¶åäº¤æ˜“æ¬¡æ•°+1)ï¼›  

ã€€ã€€ã€Œç¬¬`i`å¤©äº¤æ˜“`j`æ¬¡æŒæœ‰è‚¡ç¥¨ã€çš„çŠ¶æ€å¯ä»¥æ¥è‡ªã€Œç¬¬`i-1`å¤©äº¤æ˜“`j`æ¬¡æŒæœ‰è‚¡ç¥¨ã€æˆ–è€…ã€Œç¬¬`i-1`å¤©äº¤æ˜“`j`æ¬¡ä¸æŒæœ‰è‚¡ç¥¨ã€(å³ä»Šå¤©ä¹°å…¥è‚¡ç¥¨ï¼Œå› ä¸ºæ˜¯ä¹°å…¥æ“ä½œæ‰€ä»¥äº¤æ˜“æ¬¡æ•°ä¸å˜) ï¼›  

ã€€ã€€æœ€åå¯¹äºè¿™é¢˜LeetCodeçš„æµ‹è¯•æ ·ä¾‹é‡Œæœ‰è¶…å¤§kå€¼çš„æƒ…å†µï¼Œé€€åŒ–æˆ122é¢˜ä¸é™æ¬¡æ•°çš„æ“ä½œï¼Œå¯ä»¥ç”¨è´ªå¿ƒè§£å†³æˆ–è€…ç›´æ¥æ›¿æ¢kå€¼ä¸ºæ•°ç»„é•¿åº¦çš„ä¸€åŠã€‚ ã€€

#### ä»£ç   
```python
class Solution:
    def maxProfit(self, k: int, prices: List[int]) -> int:
        if not prices or not k:
            return 0
        n = len(prices)
        
        # å½“kå¤§äºæ•°ç»„é•¿åº¦çš„ä¸€åŠæ—¶ï¼Œç­‰åŒäºä¸é™æ¬¡æ•°äº¤æ˜“å³122é¢˜ï¼Œç”¨è´ªå¿ƒç®—æ³•è§£å†³ï¼Œå¦åˆ™LeetCodeä¼šè¶…æ—¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŠŠè¶…å¤§çš„kæ›¿æ¢ä¸ºæ•°ç»„çš„ä¸€åŠï¼Œå°±ä¸ç”¨å†™é¢å¤–çš„è´ªå¿ƒç®—æ³•å‡½æ•°
        if k > n//2:
            return self.greedy(prices)
        
        dp, res = [[[0]*2 for _ in range(k+1)] for _ in range(n)], []
        # dp[i][k][0]è¡¨ç¤ºç¬¬iå¤©å·²äº¤æ˜“kæ¬¡æ—¶ä¸æŒæœ‰è‚¡ç¥¨ dp[i][k][1]è¡¨ç¤ºç¬¬iå¤©å·²äº¤æ˜“kæ¬¡æ—¶æŒæœ‰è‚¡ç¥¨
        # è®¾å®šåœ¨å–å‡ºæ—¶åŠ 1æ¬¡äº¤æ˜“æ¬¡æ•°
        for i in range(k+1):
            dp[0][i][0], dp[0][i][1] = 0, - prices[0]
        for i in range(1, n):
            for j in range(k+1):
                if not j:
                    dp[i][j][0] = dp[i-1][j][0]
                else:
                    dp[i][j][0] = max(dp[i-1][j][0], dp[i-1][j-1][1] + prices[i])
                dp[i][j][1] = max(dp[i-1][j][1], dp[i-1][j][0] - prices[i])
        # ã€Œæ‰€æœ‰äº¤æ˜“æ¬¡æ•°æœ€åä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨ã€çš„é›†åˆçš„æœ€å¤§å€¼å³ä¸ºé—®é¢˜çš„è§£
        # for m in range(k+1):
        #     res.append(dp[n-1][m][0])
        return max([dp[-1][m][0] for m in range(k+1)])
    
    # å¤„ç†kè¿‡å¤§å¯¼è‡´è¶…æ—¶çš„é—®é¢˜ï¼Œç”¨è´ªå¿ƒè§£å†³
    def greedy(self, prices):
        res = 0
        for i in range(1, len(prices)):
            if prices[i] > prices[i-1]:
                res += prices[i] - prices[i-1]
        return res
```

## A198. æ‰“å®¶åŠ«èˆ

éš¾åº¦ `ç®€å•`  
#### é¢˜ç›®æè¿°

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ**å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦**ã€‚

ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½ **åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ï¼Œ**èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3,1]
è¾“å‡º: 4
è§£é‡Š: å·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚
     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [2,7,9,3,1]
è¾“å‡º: 12
è§£é‡Š: å·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚
     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/house-robber/>

#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚`dp[i]`è¡¨ç¤ºæœ€åä¸€ä¸ªå·`nums[i]`èƒ½å·åˆ°çš„æœ€å¤§é‡‘é¢ã€‚è½¬ç§»å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ã€€ã€€<img src="_img/a198.png" style="zoom:40%"/>

ã€€ã€€å› æ­¤çŠ¶æ€è½¬ç§»æ–¹ç¨‹`dp[i] = max(dp[i-2], dp[i-3]) + num`ã€‚  

#### ä»£ç   

```python
class Solution:
    def rob(self, nums: List[int]) -> int:
        n = len(nums)
        if n == 0: return 0
        if n <= 2: return max(nums)

        # dp[i] è¡¨ç¤ºæœ€åå·nums[i]èƒ½å·åˆ°çš„æœ€å¤§é‡‘é¢
        dp = [0 for i in range(n)]
        dp[0] = nums[0]
        dp[1] = nums[1]
        dp[2] = nums[0] + nums[2]

        for i in range(3, n):
            num = nums[i]
            dp[i] = max(dp[i-2], dp[i-3]) + num

        return max(dp[-1], dp[-2])  # æœ€åå·çš„å¯èƒ½æ˜¯æœ€åä¸€ä¸ªï¼Œä¹Ÿå¯èƒ½æ˜¯å€’æ•°ç¬¬äºŒä¸ª
      
```

## A199. äºŒå‰æ ‘çš„å³è§†å›¾

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [1,2,3,null,5,null,4]
è¾“å‡º: [1, 3, 4]
è§£é‡Š:

   1            <---
 /   \
2     3         <---
 \     \
  5     4       <---
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-right-side-view/>

#### **æ€è·¯:**

ã€€ã€€ä½¿ç”¨å±‚åºéå†ï¼Œå¹¶åªä¿ç•™æ¯å±‚æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚  

#### **ä»£ç :**

```python

class Solution:
    def rightSideView(self, root: TreeNode) -> List[int]:
        
        if not root:
            return []

        queue = [root]
        ans = []
        while queue:
            temp = []
            ans.append(queue[-1].val)
            for q in queue:
                if q.left:
                    temp.append(q.left)
                if q.right:
                    temp.append(q.right)
            
            queue = temp

        return ans

```

## A200. å²›å±¿æ•°é‡

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç”± `'1'`ï¼ˆé™†åœ°ï¼‰å’Œ `'0'`ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè®¡ç®—å²›å±¿çš„æ•°é‡ã€‚ä¸€ä¸ªå²›è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”å®ƒæ˜¯é€šè¿‡æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆçš„ã€‚ä½ å¯ä»¥å‡è®¾ç½‘æ ¼çš„å››ä¸ªè¾¹å‡è¢«æ°´åŒ…å›´ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
11110
11010
11000
00000

è¾“å‡º: 1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
11000
11000
00100
00011

è¾“å‡º: 3
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/number-of-islands/>

#### **æ€è·¯:**

ã€€ã€€ç»å…¸dfsã€‚éå†æ•´ä¸ªçŸ©é˜µï¼Œä»`ä»»æ„"1"`çš„ä½ç½®å¼€å§‹dfsï¼ŒåŒæ—¶è®¡æ•°`+1`ï¼Œæœç´¢å²›å±¿çš„è¿‡ç¨‹ä¸­å°†æœç´¢è¿‡çš„ä½ç½®éƒ½ç½®ä¸º`"0"`ã€‚æœ€ç»ˆè®¡æ•°çš„ç»“æœå°±æ˜¯å²›å±¿çš„æ•°é‡ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def numIslands(self, grid: List[List[str]]) -> int:
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]  # ä¸Šä¸‹å·¦å³
        m = len(grid)
        if not m:
            return 0
        n = len(grid[0])

        ans = 0
        def dfs(i, j):
            if i < 0 or j < 0 or i >= m or j >= n:
                return
            if grid[i][j] == "0":
                return 

            grid[i][j] = "0"
            for di, dj in arounds:
                dfs(i + di, j + dj)

        for i in range(m):
            for j in range(n):
                if grid[i][j] == "1":
                    ans += 1
                    dfs(i, j)

        return ans

```

## A201. æ•°å­—èŒƒå›´æŒ‰ä½ä¸

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šèŒƒå›´ [m, n]ï¼Œå…¶ä¸­ 0 <= m <= n <= 2147483647ï¼Œè¿”å›æ­¤èŒƒå›´å†…æ‰€æœ‰æ•°å­—çš„æŒ‰ä½ä¸ï¼ˆåŒ…å« m, n ä¸¤ç«¯ç‚¹ï¼‰ã€‚

> **ç¤ºä¾‹ 1:** 

```
è¾“å…¥: [5,7]
è¾“å‡º: 4
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [0,1]
è¾“å‡º: 0
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/bitwise-and-of-numbers-range/>

#### **æ€è·¯:**

ã€€ã€€`m`å’Œ`n`ç›¸ç­‰æ—¶ï¼Œè¿”å›`m`ï¼Œ`m`å’Œ`n`ä¸ç›¸ç­‰æ—¶ï¼Œåˆ†åˆ«æŠ›å¼ƒå®ƒä»¬çš„æœ€ä½ä½ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def rangeBitwiseAnd(self, m: int, n: int) -> int:
        i = 0
        while m != n:
            m >>= 1
            n >>= 1
            i += 1

        return m << i

```

## A202. å¿«ä¹æ•°

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° `n` æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚

ã€Œå¿«ä¹æ•°ã€å®šä¹‰ä¸ºï¼šå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œï¼Œç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ **æ— é™å¾ªç¯** ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚å¦‚æœ **å¯ä»¥å˜ä¸º**  1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚

å¦‚æœ `n` æ˜¯å¿«ä¹æ•°å°±è¿”å› `True` ï¼›ä¸æ˜¯ï¼Œåˆ™è¿”å› `False` ã€‚

> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š19
è¾“å‡ºï¼štrue
è§£é‡Šï¼š
12 + 92 = 82
82 + 22 = 68
62 + 82 = 100
12 + 02 + 02 = 1
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/happy-number/>

#### **æ€è·¯:**

ã€€ã€€ç”¨é›†åˆåˆ¤æ–­ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯å¦å·²ç»å‡ºç°è¿‡äº†ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def isHappy(self, n: int) -> bool:
        shown = set()
        shown.add(n)
        while n != 1:
            n = sum(map(lambda x:int(x)**2 ,list(str(n))))
            # print(n)
            if n in shown:
                return False
            shown.add(n)
            
        return True

```

## A204. è®¡æ•°è´¨æ•°

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»Ÿè®¡æ‰€æœ‰å°äºéè´Ÿæ•´æ•° *n* çš„è´¨æ•°çš„æ•°é‡ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 10
è¾“å‡º: 4
è§£é‡Š: å°äº 10 çš„è´¨æ•°ä¸€å…±æœ‰ 4 ä¸ª, å®ƒä»¬æ˜¯ 2, 3, 5, 7 ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/count-primes/>

#### **æ€è·¯:**

ã€€ã€€è¿™é¢˜çš„è§£æ³•ç§°ä¹‹ä¸º`åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•`ï¼Œå‘ç°ä¸€ä¸ªè´¨æ•°ä»¥åï¼ŒæŠŠè¿™ä¸ªè´¨æ•°æ‰€æœ‰çš„å€æ•°å…¨éƒ¨åˆ’å»ã€‚æœ€åç»Ÿè®¡è´¨æ•°çš„ä¸ªæ•°ã€‚    

#### **ä»£ç :**

```python
class Solution:
    def countPrimes(self, n: int) -> int:
        # æœ€å°çš„è´¨æ•°æ˜¯ 2
        if n < 2:
            return 0

        isPrime = [1] * n
        isPrime[0] = isPrime[1] = 0   # 0å’Œ1ä¸æ˜¯è´¨æ•°ï¼Œå…ˆæ’é™¤æ‰

        # åŸƒå¼ç­›ï¼ŒæŠŠä¸å¤§äºæ ¹å·nçš„æ‰€æœ‰è´¨æ•°çš„å€æ•°å‰”é™¤
        for i in range(2, int(n ** 0.5) + 1):
            if isPrime[i]:
                isPrime[i * i:n:i] = [0] * ((n - 1 - i * i) // i + 1)

        return sum(isPrime)

```

## A205. åŒæ„å­—ç¬¦ä¸²

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² ***s*** å’Œ **t**ï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦æ˜¯åŒæ„çš„ã€‚

å¦‚æœ ***s*** ä¸­çš„å­—ç¬¦å¯ä»¥è¢«æ›¿æ¢å¾—åˆ° **t** ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯åŒæ„çš„ã€‚

æ‰€æœ‰å‡ºç°çš„å­—ç¬¦éƒ½å¿…é¡»ç”¨å¦ä¸€ä¸ªå­—ç¬¦æ›¿æ¢ï¼ŒåŒæ—¶ä¿ç•™å­—ç¬¦çš„é¡ºåºã€‚ä¸¤ä¸ªå­—ç¬¦ä¸èƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œä½†å­—ç¬¦å¯ä»¥æ˜ å°„è‡ªå·±æœ¬èº«ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "egg", t = "add"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "foo", t = "bar"
è¾“å‡º: false
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: s = "paper", t = "title"
è¾“å‡º: true
```

**è¯´æ˜:**
ä½ å¯ä»¥å‡è®¾ ***s*** å’Œ **t** å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/isomorphic-strings/>

#### **æ€è·¯:**


ã€€ã€€æ³¨æ„æ­£æ˜ å°„å’Œåæ˜ å°„å¿…é¡»æ˜¯**ä¸€å¯¹ä¸€**çš„ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def isIsomorphic(self, s: str, t: str) -> bool:
        mapper = {}
        reverse = {}
        for i in range(len(s)):
            if s[i] in mapper and mapper[s[i]] != t[i]:
                return False

            if t[i] in reverse and reverse[t[i]] != s[i]:  # äº’ç›¸æ˜ å°„
                return False

            mapper[s[i]] = t[i]
            reverse[t[i]] = s[i]

        return True

```

## A207. è¯¾ç¨‹è¡¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® `numCourse` é—¨è¯¾ç¨‹ï¼Œè®°ä¸º `0` åˆ° `numCourse-1` ã€‚

åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬ï¼š`[0,1]`

ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 2, [[1,0]] 
è¾“å‡º: true
è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ 0ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 2, [[1,0],[0,1]]
è¾“å‡º: false
è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ 0 ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ 1ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚
```

**æç¤ºï¼š**

1. è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”± **è¾¹ç¼˜åˆ—è¡¨** è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯ é‚»æ¥çŸ©é˜µ ã€‚è¯¦æƒ…è¯·å‚è§[å›¾çš„è¡¨ç¤ºæ³•](http://blog.csdn.net/woaidapaopao/article/details/51732947)ã€‚
2. ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚
3. `1 <= numCourses <= 10^5`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/course-schedule/>

#### **æ€è·¯:**

ã€€ã€€æ‹“æ‰‘æ’åºã€‚æ„å»ºçš„é‚»æ¥è¡¨å°±æ˜¯æˆ‘ä»¬é€šå¸¸è®¤è¯†çš„é‚»æ¥è¡¨ï¼Œæ¯ä¸€ä¸ªç»“ç‚¹å­˜æ”¾çš„æ˜¯åç»§ç»“ç‚¹çš„é›†åˆã€‚

ã€€ã€€è¯¥æ–¹æ³•çš„æ¯ä¸€æ­¥æ€»æ˜¯è¾“å‡ºå½“å‰æ— å‰è¶‹ï¼ˆå³å…¥åº¦ä¸ºé›¶ï¼‰çš„é¡¶ç‚¹ã€‚

ã€€ã€€å¯¹åº”åˆ°æœ¬é¢˜ï¼Œæ¯ä¸€æ­¥æ€»æ˜¯å­¦ä¹ **å½“å‰æ— å…ˆä¿®è¯¾ç¨‹çš„**è¯¾ç¨‹ã€‚ç„¶åæŠŠè¿™äº›å­¦è¿‡çš„è¯¾ç¨‹ä»å…¶ä»–è¯¾ç¨‹çš„å…ˆä¿®è¯¾ç¨‹ä¸­ç§»é™¤ã€‚åŒæ—¶æŠŠ`æœªå­¦ä¹ è¯¾ç¨‹é›†åˆ`ä¸­å‡å»å·²å­¦ä¹ çš„è¯¾ç¨‹ã€‚    

ã€€ã€€æœ€ç»ˆåˆ¤æ–­`æœªå­¦ä¹ è¯¾ç¨‹é›†åˆ`æ˜¯å¦ä¸ºç©ºã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def canFinish(self, numCourses: int, prerequisites: List[List[int]]) -> bool: 
        dict_p = defaultdict(list)
        dict_after = defaultdict(list)

        for curr, pre in prerequisites:
            dict_p[curr].append(pre)  # é‚»æ¥è¡¨
            dict_after[pre].append(curr)  # é€†é‚»æ¥è¡¨

        # print(dict_p)
        not_learned = set(range(numCourses))  # æœªå­¦ä¹ è¯¾ç¨‹çš„é›†åˆ
        while True:
            new_learned = set()
            for i in not_learned:
                if not dict_p[i]:  # æ²¡æœ‰å…ˆä¿®è¯¾ç¨‹çš„è¯¾ç¨‹ï¼Œéƒ½å¯ä»¥å­¦
                    new_learned.add(i)

            if not new_learned:  # æ— æ³•å­¦ä¹ æ–°è¯¾ç¨‹ï¼Œç»“æŸå¾ªç¯
                break
            for learned in new_learned:
                for after in dict_after[learned]:
                    dict_p[after].remove(learned)  # ä»å…¶ä»–è¯¾ç¨‹çš„å…ˆå†³æ¡ä»¶é‡Œå»æ‰å·²ç»å­¦è¿‡çš„è¯¾ 

            not_learned = not_learned - new_learned  # é›†åˆå·®é›†

        return len(not_learned) == 0
```

## A208. å®ç° Trie 

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å®ç°ä¸€ä¸ª Trie (å‰ç¼€æ ‘)ï¼ŒåŒ…å« `insert`, `search`, å’Œ `startsWith` è¿™ä¸‰ä¸ªæ“ä½œã€‚

> **ç¤ºä¾‹:**

```
Trie trie = new Trie();

trie.insert("apple");
trie.search("apple");   // è¿”å› true
trie.search("app");     // è¿”å› false
trie.startsWith("app"); // è¿”å› true
trie.insert("app");   
trie.search("app");     // è¿”å› true
```

**è¯´æ˜:**

- ä½ å¯ä»¥å‡è®¾æ‰€æœ‰çš„è¾“å…¥éƒ½æ˜¯ç”±å°å†™å­—æ¯ `a-z` æ„æˆçš„ã€‚
- ä¿è¯æ‰€æœ‰è¾“å…¥å‡ä¸ºéç©ºå­—ç¬¦ä¸²ã€‚

#### é¢˜ç›®é“¾æ¥

<å‰ç¼€æ ‘https://leetcode-cn.com/problems/implement-trie-prefix-tree/>

#### **æ€è·¯:**

ã€€ã€€Trieæ ‘çš„æ¨¡æ¿ã€‚

#### **ä»£ç :**

```python
class Trie:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.trie = {}


    def insert(self, word: str) -> None:
        """
        Inserts a word into the trie.
        """
        node = self.trie
        for char in word:
            node = node.setdefault(char, {})
        node['#'] = True

    def search(self, word: str) -> bool:
        """
        Returns if the word is in the trie.
        """
        tmp = self.trie
        for char in word:
            if char not in tmp:
                return False
            tmp = tmp[char]
        # print(tmp)
        return '#' in tmp


    def startsWith(self, prefix: str) -> bool:
        """
        Returns if there is any word in the trie that starts with the given prefix.
        """
        tmp = self.trie
        for char in prefix:
            if char not in tmp:
                return False
            tmp = tmp[char]
        return True

```

## A209. é•¿åº¦æœ€å°çš„å­æ•°ç»„

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå«æœ‰ **n** ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° **s ï¼Œ**æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ **â‰¥ s** çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„**ã€‚**å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼Œè¿”å› 0ã€‚

> **ç¤ºä¾‹:** 

```
è¾“å…¥: s = 7, nums = [2,3,1,2,4,3]
è¾“å‡º: 2
è§£é‡Š: å­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„ã€‚
```

**è¿›é˜¶:**

å¦‚æœä½ å·²ç»å®Œæˆäº†*O*(*n*) æ—¶é—´å¤æ‚åº¦çš„è§£æ³•, è¯·å°è¯• *O*(*n* log *n*) æ—¶é—´å¤æ‚åº¦çš„è§£æ³•ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-size-subarray-sum/>

#### **æ€è·¯:**

ã€€ã€€åŒæŒ‡é’ˆã€‚å¦‚æœ`çª—å£å†…çš„æ•°å­—å’Œ`å°äº`target`ï¼Œå³æŒ‡é’ˆå³ç§»ï¼Œå¢åŠ æ•°å­—ï¼›å¦‚æœ`çª—å£å†…çš„æ•°å­—å’Œ`å¤§äºç­‰äº`target`ï¼Œ å·¦æŒ‡é’ˆ**ä¸æ–­å³ç§»**(ç›´åˆ°çª—å£å†…çš„æ•°å­—å’Œå°äº`target`)ï¼Œç„¶åè®°å½•æ­¤æ—¶çª—å£çš„å¤§å°ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def minSubArrayLen(self, s: int, nums: List[int]) -> int:
        n = len(nums)
        if not n: return 0
        ans = float('inf')
        sum_now = 0
        if max(nums) >= s: return 1  # æœ€å¤§çš„æ•°æ¯”så¤§

        left = 0
        for right, num in enumerate(nums):
            sum_now += num
            if sum_now >= s:

                while sum_now >= s:
                    sum_now -= nums[left]
                    left += 1
                # print(left, right)
                ans = min(ans, right - left + 2)


        return ans if ans != float('inf') else 0
      
```

## A210. è¯¾ç¨‹è¡¨ II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç°åœ¨ä½ æ€»å…±æœ‰ *n* é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º `0` åˆ° `n-1`ã€‚

åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬: `[0,1]`

ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚

å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å›ä¸€ç§å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 2, [[1,0]] 
è¾“å‡º: [0,1]
è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 1ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ã€‚å› æ­¤ï¼Œæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºä¸º [0,1] ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 4, [[1,0],[2,0],[3,1],[3,2]]
è¾“å‡º: [0,1,2,3] or [0,2,1,3]
è§£é‡Š: æ€»å…±æœ‰ 4 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 3ï¼Œä½ åº”è¯¥å…ˆå®Œæˆè¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2ã€‚å¹¶ä¸”è¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2 éƒ½åº”è¯¥æ’åœ¨è¯¾ç¨‹ 0 ä¹‹åã€‚
     å› æ­¤ï¼Œä¸€ä¸ªæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºæ˜¯ [0,1,2,3] ã€‚å¦ä¸€ä¸ªæ­£ç¡®çš„æ’åºæ˜¯ [0,2,1,3] ã€‚
```

**è¯´æ˜:**

1. è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”±**è¾¹ç¼˜åˆ—è¡¨**è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯é‚»æ¥çŸ©é˜µã€‚è¯¦æƒ…è¯·å‚è§[å›¾çš„è¡¨ç¤ºæ³•](http://blog.csdn.net/woaidapaopao/article/details/51732947)ã€‚
2. ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚

**æç¤º:**

1. è¿™ä¸ªé—®é¢˜ç›¸å½“äºæŸ¥æ‰¾ä¸€ä¸ªå¾ªç¯æ˜¯å¦å­˜åœ¨äºæœ‰å‘å›¾ä¸­ã€‚å¦‚æœå­˜åœ¨å¾ªç¯ï¼Œåˆ™ä¸å­˜åœ¨æ‹“æ‰‘æ’åºï¼Œå› æ­¤ä¸å¯èƒ½é€‰å–æ‰€æœ‰è¯¾ç¨‹è¿›è¡Œå­¦ä¹ ã€‚
2. [é€šè¿‡ DFS è¿›è¡Œæ‹“æ‰‘æ’åº](https://www.coursera.org/specializations/algorithms) - ä¸€ä¸ªå…³äºCourseraçš„ç²¾å½©è§†é¢‘æ•™ç¨‹ï¼ˆ21åˆ†é’Ÿï¼‰ï¼Œä»‹ç»æ‹“æ‰‘æ’åºçš„åŸºæœ¬æ¦‚å¿µã€‚
3. æ‹“æ‰‘æ’åºä¹Ÿå¯ä»¥é€šè¿‡ [BFS](https://baike.baidu.com/item/å®½åº¦ä¼˜å…ˆæœç´¢/5224802?fr=aladdin&fromid=2148012&fromtitle=å¹¿åº¦ä¼˜å…ˆæœç´¢) å®Œæˆã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/course-schedule-ii/>

#### **æ€è·¯:**

ã€€ã€€å’Œä¸Šä¸€é¢˜[A207. è¯¾ç¨‹è¡¨](/dfs?id=a207-è¯¾ç¨‹è¡¨)ä¸€æ ·ï¼Œæ–°å¢è®°å½•é¡ºåºå³å¯ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def findOrder(self, numCourses: int, prerequisites: List[List[int]]) -> List[int]:
        dict_p = defaultdict(list)
        dict_after = defaultdict(list)

        for curr, pre in prerequisites:
            dict_p[curr].append(pre)  # é‚»æ¥è¡¨
            dict_after[pre].append(curr)  # é€†é‚»æ¥è¡¨

        # print(dict_p)
        not_learned = set(range(numCourses))  # æœªå­¦ä¹ è¯¾ç¨‹çš„é›†åˆ
        ans = []
        while True:
            new_learned = set()
            for i in not_learned:
                if not dict_p[i]:  # æ²¡æœ‰å…ˆä¿®è¯¾ç¨‹çš„è¯¾ç¨‹ï¼Œéƒ½å¯ä»¥å­¦
                    new_learned.add(i)

            if not new_learned:  # æ— æ³•å­¦ä¹ æ–°è¯¾ç¨‹ï¼Œç»“æŸå¾ªç¯
                break
            for learned in new_learned:
                ans.append(learned)
                for after in dict_after[learned]:
                    dict_p[after].remove(learned)  # ä»å…¶ä»–è¯¾ç¨‹çš„å…ˆå†³æ¡ä»¶é‡Œå»æ‰å·²ç»å­¦è¿‡çš„è¯¾ 

            not_learned = not_learned - new_learned  # é›†åˆå·®é›†

        if len(not_learned) == 0:  # èƒ½å­¦å®Œæ‰€æœ‰è¯¾ç¨‹
            return ans
        else:
            return []
```

## A211. æ·»åŠ ä¸æœç´¢å•è¯ - æ•°æ®ç»“æ„è®¾è®¡

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š

```
void addWord(word)
bool search(word)
```

search(word) å¯ä»¥æœç´¢æ–‡å­—æˆ–æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²åªåŒ…å«å­—æ¯ `.` æˆ– `a-z` ã€‚ `.` å¯ä»¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªå­—æ¯ã€‚

> **ç¤ºä¾‹:**

```
addWord("bad")
addWord("dad")
addWord("mad")
search("pad") -> false
search("bad") -> true
search(".ad") -> true
search("b..") -> true
```

**è¯´æ˜:**

ä½ å¯ä»¥å‡è®¾æ‰€æœ‰å•è¯éƒ½æ˜¯ç”±å°å†™å­—æ¯ `a-z` ç»„æˆçš„ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/add-and-search-word-data-structure-design/>

#### **æ€è·¯:**

ã€€ã€€å…¸å‹çš„`trieæ ‘`åº”ç”¨ï¼Œ`trieæ ‘`(åˆç§°å­—å…¸æ ‘æˆ–å‰ç¼€æ ‘)ï¼Œå°†ç›¸åŒå‰ç¼€çš„å•è¯æ”¾åœ¨åŒä¸€æ£µå­æ ‘ä¸Šï¼Œä»¥å®ç°å¿«é€Ÿçš„å¤šå¯¹å¤šåŒ¹é…ã€‚å¦‚ä¸‹å¦‚æ‰€ç¤ºï¼š  

ã€€ã€€<img src="_img/a211.gif" style="zoom:50%"/>ã€€ã€€ã€€ã€€

ã€€ã€€å¯¹äºæœ‰å•è¯çš„ç»“ç‚¹(å›¾ä¸­æ©™è‰²çš„ç»“ç‚¹)ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª`"#"`æ¥è¡¨ç¤ºã€‚  

ã€€ã€€ä¸Šå›¾çš„`trieæ ‘`åœ¨Pythonä¸­çš„è¡¨ç¤ºæ˜¯è¿™æ ·çš„ï¼š  

```python
trie = 
{'c': 
    {'o': 
        {'d': {'e': {'#': True}}, 
         'o': {'k': {'#': True}}
         }
     }, 
 'f': 
    {'i': 
        {'v': {'e': {'#': True}}, 
         'l': {'e': {'#': True}}
        }, 
     'a': {'t': {'#': True}}
    }
}
```

ã€€ã€€å¢åŠ å•è¯æ—¶åœ¨`Trieæ ‘`ä¸­æ’å…¥ç»“ç‚¹ï¼ŒæŸ¥æ‰¾å•è¯æ—¶æœç´¢`Trie`æ ‘ã€‚  

#### **ä»£ç :**

```python
class WordDictionary:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.trie = {}  # å£°æ˜æˆå‘˜å˜é‡

    def addWord(self, word: str) -> None:
        """
        Adds a word into the data structure.
        """
        # å¢åŠ å•è¯
        node = self.trie  
        for char in word:
            node = node.setdefault(char, {})
        node['#'] = True


    def search(self, word: str) -> bool:
        """
        Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter.
        """
        # æœç´¢trieæ ‘
        trie = self.trie
        def recur(n, node):  # nè¡¨ç¤ºæ¨¡å¼çš„ç¬¬å‡ ä½ ä»0å¼€å§‹ 
            if n >= len(word):
                return '#' in node  # åŒ¹é…ä¸²æœç´¢ç»“æŸï¼Œè¿”å›trieæ ‘å¯¹åº”çš„ç»“ç‚¹æ˜¯å¦æœ‰å•è¯

            char = word[n]
            if char == '.':  # ä»»æ„å­—ç¬¦
                for nxt in node:  # ä¸‹ä¸€ä¸ª
                    if nxt != '#' and recur(n+1, node[nxt]):  # åªèƒ½æœå­—æ¯
                        return True

            else:
                if char in node:
                    return recur(n+1, node[char])

            return False

        return recur(0, trie)

```

## A212. å•è¯æœç´¢ II

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼ **board** å’Œä¸€ä¸ªå­—å…¸ä¸­çš„å•è¯åˆ—è¡¨ **words**ï¼Œæ‰¾å‡ºæ‰€æœ‰åŒæ—¶åœ¨äºŒç»´ç½‘æ ¼å’Œå­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯åœ¨ä¸€ä¸ªå•è¯ä¸­ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 
words = ["oath","pea","eat","rain"] and board =
[
  ['o','a','a','n'],
  ['e','t','a','e'],
  ['i','h','k','r'],
  ['i','f','l','v']
]

è¾“å‡º: ["eat","oath"]
```

**è¯´æ˜:**
ä½ å¯ä»¥å‡è®¾æ‰€æœ‰è¾“å…¥éƒ½ç”±å°å†™å­—æ¯ `a-z` ç»„æˆã€‚

**æç¤º:**

- ä½ éœ€è¦ä¼˜åŒ–å›æº¯ç®—æ³•ä»¥é€šè¿‡æ›´å¤§æ•°æ®é‡çš„æµ‹è¯•ã€‚ä½ èƒ½å¦æ—©ç‚¹åœæ­¢å›æº¯ï¼Ÿ
- å¦‚æœå½“å‰å•è¯ä¸å­˜åœ¨äºæ‰€æœ‰å•è¯çš„å‰ç¼€ä¸­ï¼Œåˆ™å¯ä»¥ç«‹å³åœæ­¢å›æº¯ã€‚ä»€ä¹ˆæ ·çš„æ•°æ®ç»“æ„å¯ä»¥æœ‰æ•ˆåœ°æ‰§è¡Œè¿™æ ·çš„æ“ä½œï¼Ÿæ•£åˆ—è¡¨æ˜¯å¦å¯è¡Œï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ å‰ç¼€æ ‘å¦‚ä½•ï¼Ÿå¦‚æœä½ æƒ³å­¦ä¹ å¦‚ä½•å®ç°ä¸€ä¸ªåŸºæœ¬çš„å‰ç¼€æ ‘ï¼Œè¯·å…ˆæŸ¥çœ‹è¿™ä¸ªé—®é¢˜ï¼š [å®ç°Trieï¼ˆå‰ç¼€æ ‘ï¼‰](https://leetcode-cn.com/problems/implement-trie-prefix-tree/description/)ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/word-search-ii/>

#### **æ€è·¯:**

ã€€ã€€Trieæ ‘+dfsæœç´¢ã€‚  

ã€€ã€€å…ˆç”¨`words`ä¸­çš„å•è¯æ„å»ºTrieæ ‘ï¼Œç„¶åæ²¿ç€`board`å’Œtrieæ ‘åŒæ—¶æœç´¢ã€‚å½“æœç´¢åˆ°ç»“æŸç¬¦`"#"`æ—¶è®°å½•è¿™ä¸ªå•è¯ã€‚  

ã€€ã€€**æ³¨æ„ï¼š**æœç´¢åˆ°ä¸€ä¸ªå•è¯æ—¶è¦å°†å®ƒä»å‰ç¼€æ ‘ä¸­åˆ é™¤ï¼Œå¦åˆ™`board`ä¸­å†æ¬¡å‡ºç°å¯èƒ½ä¼šé‡å¤ã€‚  

ã€€ã€€**ä¼˜åŒ–ï¼š**(*æ‘˜è‡ªå®˜æ–¹é¢˜è§£* )

ã€€ã€€åœ¨å›æº¯è¿‡ç¨‹ä¸­é€æ¸å‰ªé™¤ Trie ä¸­çš„èŠ‚ç‚¹ï¼ˆå‰ªæï¼‰ã€‚   
ã€€ã€€è¿™ä¸ªæƒ³æ³•çš„åŠ¨æœºæ˜¯æ•´ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å–å†³äº Trie çš„å¤§å°ã€‚å¯¹äº Trie ä¸­çš„å¶èŠ‚ç‚¹ï¼Œä¸€æ—¦éå†å®ƒï¼ˆå³æ‰¾åˆ°åŒ¹é…çš„å•è¯ï¼‰ï¼Œå°±ä¸éœ€è¦å†éå†å®ƒäº†ã€‚ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒä»æ ‘ä¸Šå‰ªä¸‹æ¥ã€‚  

ã€€ã€€é€æ¸åœ°ï¼Œè¿™äº›éå¶èŠ‚ç‚¹å¯ä»¥æˆä¸ºå¶èŠ‚ç‚¹ä»¥åï¼Œå› ä¸ºæˆ‘ä»¬ä¿®å‰ªä»–ä»¬çš„å­©å­å¶èŠ‚ç‚¹ã€‚åœ¨æç«¯æƒ…å†µä¸‹ï¼Œä¸€æ—¦æˆ‘ä»¬æ‰¾åˆ°å­—å…¸ä¸­æ‰€æœ‰å•è¯çš„åŒ¹é…é¡¹ï¼ŒTrie å°±ä¼šå˜æˆç©ºçš„ã€‚è¿™ä¸ªå‰ªææªæ–½å¯ä»¥å‡å°‘åœ¨çº¿æµ‹è¯•ç”¨ä¾‹ 50% çš„è¿è¡Œæ—¶é—´ã€‚  

ã€€ã€€<img src="_img/a212.jpeg" style="zoom:35%"/>ã€€ã€€

#### **ä»£ç :**

ã€€ã€€**æœªä¼˜åŒ–ï¼š**(340ms)

```python
class Solution:
    def findWords(self, board: List[List[str]], words: List[str]) -> List[str]:
        # words = ['abcd', 'acd', 'ace', 'bc']
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]
        ans = []
        trie = {}  # æ„é€ å­—å…¸æ ‘
        for i, word in enumerate(words):
            node = trie
            for char in word:
                node = node.setdefault(char, {})
            node['#'] = i

        m = len(board)
        if not m: return []
        n = len(board[0])

        visted = [[False for _ in range(n)] for _ in range(m)] 
        def dfs(i, j, node):
            if '#' in node:
                ans.append(words[node.pop('#')])  # æŸ¥è¿‡çš„å•è¯å°±å»æ‰

            visted[i][j] = True
            for di, dj in arounds:
                x, y = i + di, j + dj
                if x < 0 or y < 0 or x >= m or y >= n or visted[x][y] or board[x][y] not in node:
                    continue
                dfs(i + di, j + dj, node[board[x][y]])

            visted[i][j] = False  # è¿˜åŸçŠ¶æ€
            #  â‘ åœ¨æ­¤å¤„æ·»åŠ å‰ªæä»£ç 
    
        for i in range(m):
            for j in range(n):
                if board[i][j] in trie:
                    dfs(i, j, trie[board[i][j]])


        # print(trie)
        return ans
      
```

ã€€ã€€**å‰ªæä¼˜åŒ–ï¼š**(280ms)  

```python
    emptys = []
    for child in node:
        if not node[child]:
            emptys.append(child)

    for em in emptys:
        node.pop(em)
```
## A213. æ‰“å®¶åŠ«èˆ II

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ï¼Œæ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚è¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æˆ¿å±‹éƒ½**å›´æˆä¸€åœˆï¼Œ**è¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å±‹å’Œæœ€åä¸€ä¸ªæˆ¿å±‹æ˜¯ç´§æŒ¨ç€çš„ã€‚åŒæ—¶ï¼Œç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ**å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦**ã€‚

ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½ **åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ï¼Œ**èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [2,3,2]
è¾“å‡º: 3
è§£é‡Š: ä½ ä¸èƒ½å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰, å› ä¸ºä»–ä»¬æ˜¯ç›¸é‚»çš„ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,2,3,1]
è¾“å‡º: 4
è§£é‡Š: ä½ å¯ä»¥å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 1ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 3ï¼‰ã€‚
     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/house-robber-ii/>


#### æ€è·¯  


ã€€ã€€å°†ç¯æ‹†å¼€ï¼Œåˆ†åˆ«è€ƒè™‘ä¸å·ç¬¬ä¸€ä¸ªå’Œä¸å·æœ€åä¸€ä¸ªã€‚ç„¶åè°ƒç”¨ä¸Šä¸€é¢˜[A198. æ‰“å®¶åŠ«èˆ](/dp?id=a198-æ‰“å®¶åŠ«èˆ)çš„å‡½æ•°å³å¯ã€‚  

#### ä»£ç   
```python
class Solution:
    def rob(self, nums: List[int]) -> int:
        def rob_1(nums):
            n = len(nums)
            if n == 0: return 0
            if n <= 2: return max(nums)

            # dp[i] è¡¨ç¤ºæœ€åå·nums[i]èƒ½å·åˆ°çš„æœ€å¤§é‡‘é¢
            dp = [0 for i in range(n)]
            dp[0] = nums[0]
            dp[1] = nums[1]
            dp[2] = nums[0] + nums[2]

            for i in range(3, n):
                num = nums[i]
                dp[i] = max(dp[i-2], dp[i-3]) + num

            return max(dp[-1], dp[-2])  # æœ€åå·çš„å¯èƒ½æ˜¯æœ€åä¸€ä¸ªï¼Œä¹Ÿå¯èƒ½æ˜¯å€’æ•°ç¬¬äºŒä¸ª

        if len(nums) == 0: return 0
        if len(nums) <= 3: return max(nums)
        return max(rob_1(nums[:-1]), rob_1(nums[1:]))
```

## A214. æœ€çŸ­å›æ–‡ä¸²

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² ***s***ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨å­—ç¬¦ä¸²å‰é¢æ·»åŠ å­—ç¬¦å°†å…¶è½¬æ¢ä¸ºå›æ–‡ä¸²ã€‚æ‰¾åˆ°å¹¶è¿”å›å¯ä»¥ç”¨è¿™ç§æ–¹å¼è½¬æ¢çš„æœ€çŸ­å›æ–‡ä¸²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "aacecaaa"
è¾“å‡º: "aaacecaaa"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "abcd"
è¾“å‡º: "dcbabcd"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/shortest-palindrome/>

#### æ€è·¯  

ã€€ã€€è¿™é¢˜å…¶å®å°±æ˜¯æ‰¾`s[:i]`ä¸­æœ€é•¿çš„å›æ–‡ä¸²ã€‚  


ã€€ã€€**æ–¹æ³•ä¸€ï¼š**å…ˆé€†åºï¼Œç„¶åæˆªå–é€†åºåçš„å‰`i`ä¸ªå­—ç¬¦æ‹¼æ¥åˆ°åŸä¸²ä¸Šï¼Œå–æ»¡è¶³å›æ–‡æ¡ä»¶æœ€å°çš„`i`ã€‚  

â€‹        **æ–¹æ³•äºŒï¼š**æŠŠå­—ç¬¦è½¬æ­£åæ‹¼æ¥ï¼Œç”¨**[æœ€é•¿å…¬å…±å‰åç¼€]()**è§£å†³ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æ‹¼æ¥ä¸­é—´è¦åŠ ä¸€ä¸ªç‰¹æ®Šç¬¦å·ï¼Œä»¥å…å‡ºç°å…¬å…±å‰åç¼€é•¿åº¦æ¯”åŸå§‹å­—ç¬¦ä¸²æ›´é•¿çš„ç°è±¡ã€‚æœ€é•¿å…¬å…±å‰åç¼€æ˜¯KMPçš„æ ¸å¿ƒï¼Œå°±ç®—å•ç‹¬æ‹¿å‡ºæ¥ä¹Ÿæ˜¯ä¸€ä¸ªä¸ç®€å•çš„é—®é¢˜ã€‚æœ€é‡è¦çš„æ˜¯è¦çŸ¥é“ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¬¡é•¿å…¬å…±å‰åç¼€æ˜¯å…¶æœ€é•¿å…¬å…±å‰åç¼€çš„æœ€é•¿å…¬å…±å‰åç¼€ï¼Œæ‰€ä»¥æœ€é•¿å…¬å…±å‰åæœ€æ˜¯å¯ä»¥åœ¨ O(n)æ—¶é—´å†…é€’æ¨è®¡ç®—çš„ã€‚  

#### ä»£ç   

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**

```python
class Solution:
    def shortestPalindrome(self, s: str) -> str:
        ls = len(s)
        reverse = s[::-1]
        # print(reverse)
        for i in range(ls):
            if reverse[i] == s[0] and reverse[i:] == s[:ls-i]:
                return reverse[:i] + s

        return reverse + s

```

â€‹        **æ–¹æ³•äºŒï¼š**

```python
class Solution:
    def shortestPalindrome(self, s) :
        if len(s) <= 1: return s
        r = s + "$" + s[::-1]
        c = [0] * len(r)
        i, j = 1, 0
        while i < len(r):
            while j >= 1 and r[i] != r[j]:
                j = c[j - 1]
            if r[i] == r[j]:
                c[i] = j = j + 1
            i += 1
        b = min(c[-1], len(s))
        return s[:b-1:-1] + s
      
```


## A215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ 

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ **k** ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2
è¾“å‡º: 5
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,2,3,1,2,4,5,5,6] å’Œ k = 4
è¾“å‡º: 4
```

**è¯´æ˜:**

ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„çš„é•¿åº¦ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/kth-largest-element-in-an-array/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**æœ€å¤§å †ï¼Œæ„å»ºä»¥åè¿ç»­å–å‡º`k`ä¸ªå…ƒç´ å³å¯ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**ä½¿ç”¨å¿«é€Ÿæ’åºçš„`partition`å‡½æ•°ï¼Œ`partition`åè¿”å›çš„ä½ç½®`store_index`ï¼Œå·¦è¾¹çš„å…ƒç´ ä¸€å®šæ¯”å®ƒå°ï¼Œå³è¾¹çš„å…ƒç´ ä¸€å®šæ¯”å®ƒå¤§ã€‚æ¯”è¾ƒ`store_index`å’Œ`k`ï¼Œå†å¯¹`k`æ‰€åœ¨çš„é‚£åŠè¾¹ç»§ç»­`partition`å³å¯ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**

```python
import heapq
class Solution:
    def findKthLargest(self, nums: List[int], k: int) -> int:
        heapq.heapify(nums)
        n = len(nums)
        k = n - k + 1  # è½¬æˆç¬¬kå°æ¥åš
        
        peek = 0
        for _ in range(k):
            peek = heapq.heappop(nums)
            
        return peek

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**

```python
import random

class Solution:
    def findKthLargest(self, nums: List[int], k: int) -> int:
        def partition(left, right, pivot_index):
            pivot = nums[pivot_index]
            nums[pivot_index],nums[right] = nums[right], nums[pivot_index]

            store_index = left
            for i in range(left, right):
                if nums[i] < pivot:
                    nums[store_index], nums[i] = nums[i], nums[store_index]
                    store_index +=1
            nums[right], nums[store_index] = nums[store_index], nums[right]

            return store_index

        left = 0
        right = len(nums) - 1
        while left <= right:
            if left == right:
                return nums[left]
            p = random.randint(left, right)
            ans = partition(left, right, p)
            if ans  == len(nums) - k:
                return nums[ans]
            elif ans < len(nums) - k:
                left = ans + 1
            elif ans > len(nums) - k:
                right = ans - 1

```

## A216. ç»„åˆæ€»å’Œ III

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

æ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸º ***n*** çš„ **k** ä¸ªæ•°çš„ç»„åˆ**ã€‚**ç»„åˆä¸­åªå…è®¸å«æœ‰ 1 - 9 çš„æ­£æ•´æ•°ï¼Œå¹¶ä¸”æ¯ç§ç»„åˆä¸­ä¸å­˜åœ¨é‡å¤çš„æ•°å­—ã€‚

**è¯´æ˜ï¼š**

- æ‰€æœ‰æ•°å­—éƒ½æ˜¯æ­£æ•´æ•°ã€‚
- è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: k = 3, n = 7
è¾“å‡º: [[1,2,4]]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: k = 3, n = 9
è¾“å‡º: [[1,2,6], [1,3,5], [2,3,4]]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/combination-sum-iii/>

#### **æ€è·¯:**

ã€€ã€€é€’å½’ã€‚å› ä¸ºä¸èƒ½åŒ…å«é‡å¤çš„æ•°å­—ï¼Œæ‰€ä»¥ä½¿ç”¨**å‡åº**ä½œä¸ºç­”æ¡ˆã€‚æ¯ä¸€å±‚é€’å½’æ•°å­—çš„å–å€¼èŒƒå›´åœ¨`nums[-1] + 1`åˆ°`9`ä¹‹é—´ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def combinationSum3(self, k: int, n: int) -> List[List[int]]:
        ans = []
        temp = []
        def recur(i, minimal):  # é€’å½’  i <= k
            if i >= k-1:
                left = n - sum(temp)  # æœ€åä¸€ä¸ªæ•°ç”¨å‡æ³•ï¼Œå‡å°‘ä¸€å±‚å¾ªç¯
                if minimal < left <= 9:
                    ans.append(temp.copy()+[left])
                return
            
            for j in range(minimal+1, 10):
                temp.append(j)
                recur(i+1, j)
                temp.pop()

        recur(0, 0)
        return ans
      
```


## A217. å­˜åœ¨é‡å¤å…ƒç´ 

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚

å¦‚æœä»»æ„ä¸€å€¼åœ¨æ•°ç»„ä¸­å‡ºç°è‡³å°‘ä¸¤æ¬¡ï¼Œå‡½æ•°è¿”å› `true` ã€‚å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ç›¸åŒï¼Œåˆ™è¿”å› `false` ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3,1]
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,2,3,4]
è¾“å‡º: false
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [1,1,1,3,3,4,3,2,4,2]
è¾“å‡º: true
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/contains-duplicate/>

#### **æ€è·¯:**

ã€€ã€€ç”¨é›†åˆåˆ¤æ–­ä¸é‡å¤çš„æ•°é‡ï¼Œå’ŒåŸæ•°ç»„æ¯”è¾ƒã€‚  

#### **ä»£ç :**

```python
class Solution:
    def containsDuplicate(self, nums: List[int]) -> bool:
        return len(set(nums)) != len(nums)

```

## A218. å¤©é™…çº¿é—®é¢˜

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

åŸå¸‚çš„å¤©é™…çº¿æ˜¯ä»è¿œå¤„è§‚çœ‹è¯¥åŸå¸‚ä¸­æ‰€æœ‰å»ºç­‘ç‰©å½¢æˆçš„è½®å»“çš„å¤–éƒ¨è½®å»“ã€‚ç°åœ¨ï¼Œå‡è®¾æ‚¨è·å¾—äº†åŸå¸‚é£å…‰ç…§ç‰‡ï¼ˆå›¾Aï¼‰ä¸Š**æ˜¾ç¤ºçš„æ‰€æœ‰å»ºç­‘ç‰©çš„ä½ç½®å’Œé«˜åº¦**ï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºä»¥è¾“å‡ºç”±è¿™äº›å»ºç­‘ç‰©**å½¢æˆçš„å¤©é™…çº¿**ï¼ˆå›¾Bï¼‰ã€‚

<img src="_img/218_1.png" style="zoom:40%"/> <img src="_img/218_2.png" style="zoom:40%"/> 

æ¯ä¸ªå»ºç­‘ç‰©çš„å‡ ä½•ä¿¡æ¯ç”¨ä¸‰å…ƒç»„ `[Liï¼ŒRiï¼ŒHi]` è¡¨ç¤ºï¼Œå…¶ä¸­ `Li` å’Œ `Ri` åˆ†åˆ«æ˜¯ç¬¬ i åº§å»ºç­‘ç‰©å·¦å³è¾¹ç¼˜çš„ x åæ ‡ï¼Œ`Hi` æ˜¯å…¶é«˜åº¦ã€‚å¯ä»¥ä¿è¯ `0 â‰¤ Li, Ri â‰¤ INT_MAX`, `0 < Hi â‰¤ INT_MAX` å’Œ `Ri - Li > 0`ã€‚æ‚¨å¯ä»¥å‡è®¾æ‰€æœ‰å»ºç­‘ç‰©éƒ½æ˜¯åœ¨ç»å¯¹å¹³å¦ä¸”é«˜åº¦ä¸º 0 çš„è¡¨é¢ä¸Šçš„å®Œç¾çŸ©å½¢ã€‚

ä¾‹å¦‚ï¼Œå›¾Aä¸­æ‰€æœ‰å»ºç­‘ç‰©çš„å°ºå¯¸è®°å½•ä¸ºï¼š`[ [2 9 10], [3 7 15], [5 12 12], [15 20 10], [19 24 8] ] `ã€‚

è¾“å‡ºæ˜¯ä»¥ `[ [x1,y1], [x2, y2], [x3, y3], ... ]` æ ¼å¼çš„â€œ**å…³é”®ç‚¹**â€ï¼ˆå›¾Bä¸­çš„çº¢ç‚¹ï¼‰çš„åˆ—è¡¨ï¼Œå®ƒä»¬å”¯ä¸€åœ°å®šä¹‰äº†å¤©é™…çº¿ã€‚**å…³é”®ç‚¹æ˜¯æ°´å¹³çº¿æ®µçš„å·¦ç«¯ç‚¹**ã€‚è¯·æ³¨æ„ï¼Œæœ€å³ä¾§å»ºç­‘ç‰©çš„æœ€åä¸€ä¸ªå…³é”®ç‚¹ä»…ç”¨äºæ ‡è®°å¤©é™…çº¿çš„ç»ˆç‚¹ï¼Œå¹¶å§‹ç»ˆä¸ºé›¶é«˜åº¦ã€‚æ­¤å¤–ï¼Œä»»ä½•ä¸¤ä¸ªç›¸é‚»å»ºç­‘ç‰©ä¹‹é—´çš„åœ°é¢éƒ½åº”è¢«è§†ä¸ºå¤©é™…çº¿è½®å»“çš„ä¸€éƒ¨åˆ†ã€‚

ä¾‹å¦‚ï¼Œå›¾Bä¸­çš„å¤©é™…çº¿åº”è¯¥è¡¨ç¤ºä¸ºï¼š`[ [2 10], [3 15], [7 12], [12 0], [15 10], [20 8], [24, 0] ]`ã€‚

**è¯´æ˜:**

- ä»»ä½•è¾“å…¥åˆ—è¡¨ä¸­çš„å»ºç­‘ç‰©æ•°é‡ä¿è¯åœ¨ `[0, 10000]` èŒƒå›´å†…ã€‚
- è¾“å…¥åˆ—è¡¨å·²ç»æŒ‰å·¦ `x` åæ ‡ `Li`  è¿›è¡Œå‡åºæ’åˆ—ã€‚
- è¾“å‡ºåˆ—è¡¨å¿…é¡»æŒ‰ x ä½æ’åºã€‚
- è¾“å‡ºå¤©é™…çº¿ä¸­ä¸å¾—æœ‰è¿ç»­çš„ç›¸åŒé«˜åº¦çš„æ°´å¹³çº¿ã€‚ä¾‹å¦‚ `[...[2 3], [4 5], [7 5], [11 5], [12 7]...]` æ˜¯ä¸æ­£ç¡®çš„ç­”æ¡ˆï¼›ä¸‰æ¡é«˜åº¦ä¸º 5 çš„çº¿åº”è¯¥åœ¨æœ€ç»ˆè¾“å‡ºä¸­åˆå¹¶ä¸ºä¸€ä¸ªï¼š`[...[2 3], [4 5], [12 7], ...]`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/the-skyline-problem/>

#### **æ€è·¯:**

ã€€ã€€ç”¨ä¸€ä¸ª`å¤§æ ¹å †`å­˜æ”¾å½“å‰æ‰€æœ‰å»ºç­‘çš„é«˜åº¦ï¼Œåœ¨å»ºç­‘çš„è¾¹ç•Œæ—¶ï¼ŒæŠŠå †é¡¶çš„å…ƒç´ æ”¾å…¥ç»“æœæ•°ç»„ä¸­ã€‚  

ã€€ã€€æ³¨æ„ä¸èƒ½è¾“å‡ºè¿ç»­ç›¸åŒé«˜åº¦çš„æ°´å¹³çº¿ï¼Œæ‰€ä»¥è¦åˆ¤æ–­ç»“æœæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ä¸æ˜¯å’Œå †é¡¶çš„å…ƒç´ ç›¸åŒã€‚  

ã€€ã€€ä¾‹å¦‚ï¼Œç¤ºä¾‹ä¸­çš„è¿‡ç¨‹ä¸ºï¼š  

```python
x = 2, è“è‰²æˆ¿å­å…¥å †, heap = [10], ans = [[2 10]]
x = 3, çº¢è‰²æˆ¿å­å…¥å †, heap = [10, 15], ans = [[2 10], [3 15]]
x = 5, ç»¿è‰²æˆ¿å­å…¥å †, heap = [10, 12, 15]ï¼Œå †é¡¶å…ƒç´ é«˜åº¦ä¸º15ï¼Œä½†æ˜¯ansæœ€åå·²ç»å‡ºç°15äº†ï¼Œå¿½ç•¥
x = 7, æœ€é«˜çš„æˆ¿å­(çº¢è‰²æˆ¿å­)å‡ºå †, heap = [10, 12]ï¼Œå †é¡¶é«˜åº¦12, ans = [[2 10], [3 15], [7 12]]
x = 9, æœ€é«˜çš„æˆ¿å­(ç»¿è‰²æˆ¿å­)è¿˜æœªç»“æŸ, ä¸å‡ºå †, å †é¡¶é«˜åº¦12, ä¸ans[-1]é‡å¤ï¼Œå¿½ç•¥
x = 12, ç»¿è‰²æˆ¿å­å’Œè“è‰²æˆ¿å­éƒ½å·²ç»ç»“æŸ, å‡å‡ºå †, å †ä¸­å·²æ²¡æœ‰å…ƒç´ , æ’å…¥0, ans = [[2 10], [3 15], [7 12], [12 0]]
x = 15, ç´«è‰²æˆ¿å­å…¥å †, heap = [10], ans = [[2 10], [3 15], [7 12], [12 0], [15 10]]
x = 19, é»„è‰²æˆ¿å­å…¥å †, heap = [10, 8], æœ€é«˜çš„æˆ¿å­è¿˜æœªç»“æŸ, ä¸å‡ºå †, å †é¡¶é«˜åº¦10, é‡å¤ï¼Œå¿½ç•¥, ansä¸å˜
x = 20, ç´«è‰²æˆ¿å­å‡ºå †, heap = [8], å †é¡¶é«˜åº¦8, ans = [[2 10], [3 15], [7 12], [12 0], [15 10], [20 8]]
x = 24, é»„è‰²æˆ¿å­å‡ºå †, å †ä¸­å·²æ²¡æœ‰å…ƒç´ , æ’å…¥0, ans = [[2 10], [3 15], [7 12], [12 0], [15 10], [20 8], [24 0]]

```

#### **ä»£ç :**

```python
import heapq
class Solution:
    def getSkyline(self, buildings: List[List[int]]) -> List[List[int]]:
        n = len(buildings)
        x = [b[0] for b in buildings] + [b[1] for b in buildings]
        x.sort()

        heap = []
        ans = [[0, 0]]
        idx = 0

        for i in x:
            while idx < n and buildings[idx][0] == i:
                h, right = buildings[idx][2], buildings[idx][1]
                heapq.heappush(heap, (-h, right))  # å¤§æ ¹å †
                idx += 1

            while heap:
                h, right = heapq.heappop(heap)
                if right > i:  # è¿˜æ²¡æœ‰ç»“æŸ
                    heapq.heappush(heap, (h, right))  # å†æ”¾å›å»
                    if ans[-1][1] != -h:
                        ans.append([i, -h])
                    break
            else:
                if ans[-1][1] != 0:
                    ans.append([i, 0])

        return ans[1:]

```

## A219. å­˜åœ¨é‡å¤å…ƒç´  II

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° *k*ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„ç´¢å¼• *i* å’Œ *j*ï¼Œä½¿å¾— **nums [i] = nums [j]**ï¼Œå¹¶ä¸” *i* å’Œ *j* çš„å·®çš„ **ç»å¯¹å€¼** è‡³å¤šä¸º *k*ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,2,3,1], k = 3
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1,0,1,1], k = 1
è¾“å‡º: true
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: nums = [1,2,3,1,2,3], k = 2
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/contains-duplicate-ii/>

#### **æ€è·¯:**

ã€€ã€€æŒ‰(æ•°å€¼, ç´¢å¼•)æ’åºï¼Œç„¶åæ¯ä¸ªå…ƒç´ å’Œå‰ä¸€ä¸ªæ¯”è¾ƒå³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def containsNearbyDuplicate(self, nums: List[int], k: int) -> bool:
        n = len(nums)
        s = sorted([(nums[i] ,i) for i in range(n)])
        # print(s)

        for i in range(1,n):
            if s[i][0] == s[i-1][0] and s[i][1] - s[i-1][1] <= k:
                return True

        return False

```

## A220. å­˜åœ¨é‡å¤å…ƒç´  III

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªä¸åŒçš„ç´¢å¼• *i* å’Œ *j*ï¼Œä½¿å¾— **nums [i]** å’Œ **nums [j]** çš„å·®çš„ç»å¯¹å€¼æœ€å¤§ä¸º *t*ï¼Œå¹¶ä¸” *i* å’Œ *j* ä¹‹é—´çš„å·®çš„ç»å¯¹å€¼æœ€å¤§ä¸º *Ä·*ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,2,3,1], k = 3, t = 0
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1,0,1,1], k = 1, t = 2
è¾“å‡º: true
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: nums = [1,5,9,1,5,9], k = 2, t = 3
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/contains-duplicate-iii/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**æš´åŠ›(è¶…æ—¶)ï¼Œç”¨ä¸€ä¸ª`set`è®°å½•é•¿åº¦ä¸º`k`çš„çª—å£ä¸­çš„æ•°å­—ï¼Œå½“çª—å£é•¿åº¦è¶…è¿‡`k`æ—¶ï¼Œå»æ‰ç¬¬`i - k`ä¸ªæ•°å­—(`i`ä¸ºå½“å‰ä¸‹æ ‡)ã€‚æŸ¥æ‰¾çª—å£ä¸­æœ‰æ²¡æœ‰ä¸å½“å‰æ•°å­—ä¹‹å·®çš„ç»å¯¹å€¼å°äºç­‰äº`t`çš„ã€‚    
ã€€ã€€**æ–¹æ³•äºŒï¼š**å¦‚æœçª—å£ä¸­çš„æ•°å­—æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆæ’å…¥å’Œåˆ é™¤çš„å¤æ‚åº¦å°±å¯ä»¥é™ä½åˆ°`O(logn)`ï¼ŒPythonä¸­çš„`bisect`åº“å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚  

#### **ä»£ç :**  

ã€€ã€€**æ–¹æ³•ä¸€ï¼š(è¶…æ—¶)**

```python
class Solution:
    def containsNearbyAlmostDuplicate(self, nums: List[int], k: int, t: int) -> bool:
        if k <= 0 or t < 0:
            return False

        wnd = set()  # æœ€å¤§ä¸ºk
        for i, num in enumerate(nums):
            for w in wnd:
                if abs(w-num) <= t:
                    return True
            if len(wnd) >= k:
                wnd.remove(nums[i - k])
            wnd.add(num)
                
        return False

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**

```python
import bisect

class Solution:
    def containsNearbyAlmostDuplicate(self, nums: List[int], k: int, t: int) -> bool:
        if k <= 0 or t < 0:
            return False

        wnd = []  # æœ€å¤§ä¸ºk
        for i, num in enumerate(nums):
 
            idx = bisect.bisect(wnd, num)
            if 0 <= idx - 1 < len(wnd):
                if num - wnd[idx-1] <= t:
                    return True
            if idx< len(wnd):
               if wnd[idx] - num <= t:
                    return True
            if len(wnd) >= k:
                idx = bisect.bisect_left(wnd, nums[i - k])
                wnd.pop(idx)
                # ä¸Šé¢ä¸¤è¡Œç­‰ä»·äº wnd.remove(nums[i - k]) ä¸è¿‡æ—¶é—´å¤æ‚åº¦ä»¥O(logn)

            bisect.insort(wnd, num)
                
        return False

```

## A221. æœ€å¤§æ­£æ–¹å½¢

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

åœ¨ä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« 1 çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 

1 0 1 0 0
1 0 1 1 1
1 1 1 1 1
1 0 0 1 0

è¾“å‡º: 4
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximal-square/>


#### æ€è·¯  

ã€€ã€€ä»¤`dp[i][j]`è¡¨ç¤ºä»¥`[i][j]`ä¸º**å³ä¸‹è§’ç‚¹**çš„æœ€å¤§æ­£æ–¹å½¢è¾¹é•¿ã€‚é€’æ¨å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€<img src="_img/a221.png" style="zoom:45%"/>

ã€€ã€€ç”±äº`dp[i][j] = 4`å·²ç»æ˜¯å…¨ä¸º"1"çš„æ­£æ–¹å½¢äº†ï¼Œ`dp[i+1][j+1]`æœ€å¤§å€¼åªèƒ½ä¸º`5`ã€‚å®ƒçš„å¤§å°ç”±å›¾ä¸­è“è‰²ç®­å¤´æ ‡æ³¨çš„åŒºåŸŸå†³å®šã€‚  

ã€€ã€€å¦‚æœ`[i+1][j+1]`çš„ä¸Šæ–¹å’Œå·¦æ–¹éƒ½æœ‰**è¿ç»­**`n`ä¸ª"1"ï¼Œé‚£ä¹ˆ`dp[i+1][j+1] = min(5, n+1)`ã€‚  

#### ä»£ç   
```python
class Solution:
    def maximalSquare(self, matrix: List[List[str]]) -> int:
        m = len(matrix)
        if not m: return 0
        n = len(matrix[0])

        dp = [[1 if matrix[i][j] == '1' else 0 for j in range(n)] for i in range(m)]  # å¤åˆ¶ä¸€ématrix
        ans = 0
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == '1':
                    if not ans: ans = 1
                    if i > 0 and j > 0:
                        for k in range(1, dp[i-1][j-1]+1):
                            if matrix[i-k][j] == '1' and matrix[i][j-k] == '1':  # ä¸Šæ–¹å’Œå·¦æ–¹åŒæ—¶ä¸º1
                                dp[i][j] = dp[i][j] + 1
                                ans = max(ans, dp[i][j])
                            else:
                                break
                                
        return ans ** 2
        
```

## A222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å‡ºä¸€ä¸ª**å®Œå…¨äºŒå‰æ ‘**ï¼Œæ±‚å‡ºè¯¥æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚

**è¯´æ˜ï¼š**

[å®Œå…¨äºŒå‰æ ‘](https://baike.baidu.com/item/å®Œå…¨äºŒå‰æ ‘/7773232?fr=aladdin)çš„å®šä¹‰å¦‚ä¸‹ï¼šåœ¨å®Œå…¨äºŒå‰æ ‘ä¸­ï¼Œé™¤äº†æœ€åº•å±‚èŠ‚ç‚¹å¯èƒ½æ²¡å¡«æ»¡å¤–ï¼Œå…¶ä½™æ¯å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œå¹¶ä¸”æœ€ä¸‹é¢ä¸€å±‚çš„èŠ‚ç‚¹éƒ½é›†ä¸­åœ¨è¯¥å±‚æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ã€‚è‹¥æœ€åº•å±‚ä¸ºç¬¬ h å±‚ï¼Œåˆ™è¯¥å±‚åŒ…å« 1~ 2h ä¸ªèŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 
    1
   / \
  2   3
 / \  /
4  5 6

è¾“å‡º: 6
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/count-complete-tree-nodes/>

#### **æ€è·¯:**

ã€€ã€€å±‚åºéå†ï¼ŒæŒ‰ç…§æ™®é€šäºŒå‰æ ‘æ¥ç»Ÿè®¡ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def countNodes(self, root: TreeNode) -> int:
        if not root:
            return 0

        queue = [root]
        ans = 0
        while queue:
            temp = []
            ans += len(queue)
            # queueå­˜æ”¾çš„æ˜¯å½“å‰å±‚çš„æ‰€æœ‰ç»“ç‚¹
            for q in queue:
                if q.left:
                    temp.append(q.left)
                if q.right:
                    temp.append(q.right)

            queue = temp
        return ans
      
```

## A223. çŸ©å½¢é¢ç§¯

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

åœ¨**äºŒç»´**å¹³é¢ä¸Šè®¡ç®—å‡ºä¸¤ä¸ª**ç”±ç›´çº¿æ„æˆçš„**çŸ©å½¢é‡å åå½¢æˆçš„æ€»é¢ç§¯ã€‚

æ¯ä¸ªçŸ©å½¢ç”±å…¶å·¦ä¸‹é¡¶ç‚¹å’Œå³ä¸Šé¡¶ç‚¹åæ ‡è¡¨ç¤ºï¼Œå¦‚å›¾æ‰€ç¤ºã€‚

<img src="_img/223.png" style="zoom:100%"/>

> **ç¤ºä¾‹:**

```
è¾“å…¥: -3, 0, 3, 4, 0, -1, 9, 2
è¾“å‡º: 45
```

**è¯´æ˜:** å‡è®¾çŸ©å½¢é¢ç§¯ä¸ä¼šè¶…å‡º **int** çš„èŒƒå›´ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/rectangle-area/>

#### **æ€è·¯:**

ã€€ã€€ä¸¤ä¸ªçŸ©å½¢çš„å¹¶é›†=`ä¸¤ä¸ªçŸ©å½¢çš„é¢ç§¯å’Œ`-`ä¸¤ä¸ªçŸ©å½¢çš„äº¤é›†`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def computeArea(self, A: int, B: int, C: int, D: int, E: int, F: int, G: int, H: int) -> int:
        union = (C-A) * (D-B) + (G-E) * (H-F)
        if E >= C or A >= G:
            return union
        if F >= D or B >= H:
            return union
        
        width = min(C, G) - max(A, E)
        # print(width)
        height = min(D, H) - max(B, F)
        # print(height)

        return union - width * height

```

## A224. åŸºæœ¬è®¡ç®—å™¨

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

å®ç°ä¸€ä¸ªåŸºæœ¬çš„è®¡ç®—å™¨æ¥è®¡ç®—ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼çš„å€¼ã€‚

å­—ç¬¦ä¸²è¡¨è¾¾å¼å¯ä»¥åŒ…å«å·¦æ‹¬å· `(` ï¼Œå³æ‹¬å· `)`ï¼ŒåŠ å· `+` ï¼Œå‡å· `-`ï¼Œ**éè´Ÿ**æ•´æ•°å’Œç©ºæ ¼ ` `ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "1 + 1"
è¾“å‡º: 2
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: " 2-1 + 2 "
è¾“å‡º: 3
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: "(1+(4+5+2)-3)+(6+8)"
è¾“å‡º: 23
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/basic-calculator/>

#### **æ€è·¯:**

ã€€ã€€å’Œ[A227. åŸºæœ¬è®¡ç®—å™¨](/string?id=a227-åŸºæœ¬è®¡ç®—å™¨-ii)ç±»ä¼¼ï¼Œåªä¸è¿‡å¤šäº†æ‹¬å·ã€‚  

ã€€ã€€ç”¨`ç¬¦å·æ ˆ`å’Œ`æ•°æ®æ ˆ`åˆ†åˆ«å­˜æ”¾è¿ç®—ç¬¦å’Œæ•°æ®ã€‚  

ã€€ã€€åœ¨`s`æœ«å°¾æ·»åŠ ä¸€ä¸ª`"#"`è¡¨ç¤ºç»“æŸï¼Œå®ƒçš„ä¼˜å…ˆçº§æ˜¯æœ€ä½çš„ã€‚

ã€€ã€€æ‰«æ`s`ï¼Œå¦‚æœ**é‡åˆ°æ•°æ®**åˆ™`ç›´æ¥å…¥æ•°æ®æ ˆ`ï¼Œ**é‡åˆ°å››åˆ™è¿ç®—ç¬¦**åˆ™ï¼š

ã€€ã€€â‘ ç¬¦å·æ ˆä¸ºç©ºï¼šå…¥ç¬¦å·æ ˆï¼Œç»§ç»­æ‰«æï¼›  

ã€€ã€€â‘¡ä¼˜å…ˆçº§é«˜äº`ç¬¦å·æ ˆæ ˆé¡¶`çš„ç¬¦å·ï¼šå…¥ç¬¦å·æ ˆï¼Œç»§ç»­æ‰«æï¼›  

ã€€ã€€â‘¢ä¼˜å…ˆçº§å°äºç­‰äº`ç¬¦å·æ ˆæ ˆé¡¶`çš„ç¬¦å·ï¼šå¼¹å‡ºä¸¤ä¸ªæ•°æ®æ ˆå…ƒç´ åˆ†åˆ«ä½œä¸ºä¸¤ä¸ªæ“ä½œæ•°(`num2, num1`)ï¼Œå¼¹å‡ºç¬¦å·æ ˆé¡¶ç¬¦å·(`op`)ï¼Œè¿ç®—(`num1 +-*/ num2`)ä»¥åå°†è¿ç®—ç»“æœå‹äººæ•°æ®æ ˆï¼Œç„¶åé‡å¤â‘ ~â‘¢ã€‚  

ã€€ã€€**æ‹¬å·**éœ€è¦å¦å¤–å¤„ç†ï¼š

ã€€ã€€â‘ `"("`ï¼šç›´æ¥å…¥æ ˆï¼Œç»§ç»­æ‰«æï¼›  

ã€€ã€€â‘¡`")"`ï¼šä¸æ–­å‡ºæ ˆï¼Œç›´åˆ°`æ ˆé¡¶ä¸ºå·¦æ‹¬å·`ï¼Œå°†å·¦æ‹¬å·ä¹Ÿå‡ºæ ˆã€‚    

ã€€ã€€å¦‚`s = "(1+(4+5+2)-3)+(6+8)"`ã€‚æ‰«æè¿‡ç¨‹å¦‚ä¸‹ï¼š  

```c
å…¥æ ˆ ( 
å…¥æ ˆ 1 
å…¥æ ˆ + 
å…¥æ ˆ (
å…¥æ ˆ 4 
å…¥æ ˆ + 
å…¥æ ˆ 5 [1, 4, 5] ['(', '+', '(', '+']
å‡ºæ ˆ(4, 5, +)ï¼Œè¿ç®—ç»“æœ:(9)
ç»“æœå…¥æ ˆ 9 [1, 9] ['(', '+', '(']
å…¥æ ˆ + [1, 9] ['(', '+', '(', '+']
é‡åˆ°)
å…¥æ ˆ 2 [1, 9, 2] ['(', '+', '(', '+']
å‡ºæ ˆ(9, 2, +)ï¼Œè¿ç®—ç»“æœ:(11)
ç»“æœå…¥æ ˆ 11 [1, 11] ['(', '+', '(']
å¼¹å‡º( [1, 11] ['(', '+']
å‡ºæ ˆ(1, 11, +)ï¼Œè¿ç®—ç»“æœ:(12)
ç»“æœå…¥æ ˆ 12 [12] ['(']
å…¥æ ˆ - [12] ['(', '-']
é‡åˆ°)
å…¥æ ˆ 3 [12, 3] ['(', '-']
å‡ºæ ˆ(12, 3, -)ï¼Œè¿ç®—ç»“æœ:(9)
ç»“æœå…¥æ ˆ 9 [9] ['(']
å¼¹å‡º( [9] []
å…¥æ ˆ + [9] ['+']
å…¥æ ˆ ( [9] ['+', '(']
å…¥æ ˆ 6 [9, 6] ['+', '(']
å…¥æ ˆ + [9, 6] ['+', '(', '+']
é‡åˆ°)
å…¥æ ˆ 8 [9, 6, 8] ['+', '(', '+']
å‡ºæ ˆ(6, 8, +)ï¼Œè¿ç®—ç»“æœ:(14)
ç»“æœå…¥æ ˆ 14 [9, 14] ['+', '(']
å¼¹å‡º( [9, 14] ['+']
å‡ºæ ˆ(9, 14, +)ï¼Œè¿ç®—ç»“æœ:(23)
ç»“æœå…¥æ ˆ 23 [23] []
å…¥æ ˆ # [23] ['#']
nums = [23]
```

ã€€ã€€æœ€ç»ˆæ•°æ®æ ˆä¸­åªå‰©ä¸‹**ä¸€ä¸ªå…ƒç´ **ï¼Œå®ƒå°±æ˜¯æœ€ç»ˆè¿ç®—ç»“æœã€‚ï¼ˆç¬¦å·æ ˆä¸­åªå‰©`"#"`ï¼‰  

#### **ä»£ç :**

```python
class Solution:
    def calculate(self, s: str) -> int:
        s = s.strip() + '#'
        ls = len(s)
        prior = {'+': 1, '-': 1, '*': 2, '/': 2, '#': 0, '(': 0}  # ä¼˜å…ˆçº§
        # '(': å¿…å…¥æ ˆ,  ')' å¿…å‡ºæ ˆ  
        nums = []
        signs = []
        j = 0

        def operate(num1, num2, op):
            if op == '+': return num1 + num2
            if op == '-': return num1 - num2
            if op == '*': return num1 * num2
            if op == '/': return num1 // num2
            
        for i, char in enumerate(s):
            if char == '(':
                signs.append(char)  # ç¬¦å·å…¥ç¬¦å·æ ˆ
                # print('å…¥æ ˆ', char, nums, signs)
                j = i + 1
            elif char in prior:
                if s[j: i]:
                    nums.append(int(s[j: i]))  # æ•°å€¼ç›´æ¥å…¥æ ˆ
                    # print('å…¥æ ˆ', int(s[j: i]), nums, signs)
                while signs and prior[signs[-1]] >= prior[char]:  # æ ˆé¡¶ä¼˜å…ˆçº§é«˜
                    num2 = nums.pop()  # å…ˆå¼¹å‡ºçš„æ˜¯ç¬¬äºŒä¸ªæ“ä½œæ•°
                    num1 = nums.pop()  # åå¼¹å‡ºçš„æ˜¯ç¬¬ä¸€ä¸ªæ“ä½œæ•°
                    op = signs.pop()  # å¼¹å‡ºæ“ä½œç¬¦
                    ans = operate(num1, num2, op)
                    # print('å‡ºæ ˆ(%d, %d, %s)ï¼Œè¿ç®—ç»“æœ:(%d)' % (num1, num2, op, ans)) 
                    nums.append(ans)  # è¿ç®—ä»¥åå°†ç»“æœå…¥æ•°æ®æ ˆ
                    # print('ç»“æœå…¥æ ˆ', ans, nums, signs)

                signs.append(char)  # ç¬¦å·å…¥ç¬¦å·æ ˆ
                # print('å…¥æ ˆ', char, nums, signs)
                j = i + 1
            elif char == ')':
                # print('é‡åˆ°)')
                if s[j: i]:
                    nums.append(int(s[j: i]))  # æ•°å€¼ç›´æ¥å…¥æ ˆ
                # print('å…¥æ ˆ', int(s[j: i]), nums, signs)
                while signs[-1] != '(':  # å‡ºæ ˆåˆ°å·¦æ‹¬å·
                    num2 = nums.pop()  # å…ˆå¼¹å‡ºçš„æ˜¯ç¬¬äºŒä¸ªæ“ä½œæ•°
                    num1 = nums.pop()  # åå¼¹å‡ºçš„æ˜¯ç¬¬ä¸€ä¸ªæ“ä½œæ•°
                    op = signs.pop()  # å¼¹å‡ºæ“ä½œç¬¦
                    ans = operate(num1, num2, op)  # è¿ç®—
                    # print('å‡ºæ ˆ(%d, %d, %s)ï¼Œè¿ç®—ç»“æœ:(%d)' % (num1, num2, op, ans)) 
                    nums.append(ans)  # è¿ç®—ä»¥åå°†ç»“æœå…¥æ•°æ®æ ˆ
                    # print('ç»“æœå…¥æ ˆ', ans, nums, signs)

                op = signs.pop()  # å¼¹å‡ºå·¦æ‹¬å·
                # print('å¼¹å‡º(', nums, signs)
                j = i + 1

        # print(nums)
        return nums[-1]

    
```

## A227. åŸºæœ¬è®¡ç®—å™¨ II

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

å®ç°ä¸€ä¸ªåŸºæœ¬çš„è®¡ç®—å™¨æ¥è®¡ç®—ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼çš„å€¼ã€‚

å­—ç¬¦ä¸²è¡¨è¾¾å¼ä»…åŒ…å«éè´Ÿæ•´æ•°ï¼Œ`+`ï¼Œ `-` ï¼Œ`*`ï¼Œ`/` å››ç§è¿ç®—ç¬¦å’Œç©ºæ ¼ ` `ã€‚ æ•´æ•°é™¤æ³•ä»…ä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "3+2*2"
è¾“å‡º: 7
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: " 3/2 "
è¾“å‡º: 1
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: " 3+5 / 2 "
è¾“å‡º: 5
```

**è¯´æ˜ï¼š**

- ä½ å¯ä»¥å‡è®¾æ‰€ç»™å®šçš„è¡¨è¾¾å¼éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚
- è¯·**ä¸è¦**ä½¿ç”¨å†…ç½®çš„åº“å‡½æ•° `eval`ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/basic-calculator-ii/>

#### æ€è·¯  

ã€€ã€€ç”¨`ç¬¦å·æ ˆ`å’Œ`æ•°æ®æ ˆ`åˆ†åˆ«å­˜æ”¾è¿ç®—ç¬¦å’Œæ•°æ®ã€‚  

ã€€ã€€åœ¨`s`æœ«å°¾æ·»åŠ ä¸€ä¸ª`"#"`è¡¨ç¤ºç»“æŸï¼Œå®ƒçš„ä¼˜å…ˆçº§æ˜¯æœ€ä½çš„ã€‚

ã€€ã€€æ‰«æ`s`ï¼Œå¦‚æœ**é‡åˆ°æ•°æ®**åˆ™`ç›´æ¥å…¥æ•°æ®æ ˆ`ï¼Œ**é‡åˆ°å››åˆ™è¿ç®—ç¬¦**åˆ™ï¼š

ã€€ã€€â‘ ç¬¦å·æ ˆä¸ºç©ºï¼šå…¥ç¬¦å·æ ˆï¼Œç»§ç»­æ‰«æï¼›  

ã€€ã€€â‘¡ ä¼˜å…ˆçº§é«˜äº`ç¬¦å·æ ˆæ ˆé¡¶`çš„ç¬¦å·ï¼šå…¥ç¬¦å·æ ˆï¼Œç»§ç»­æ‰«æï¼›  

ã€€ã€€â‘¢ä¼˜å…ˆçº§å°äºç­‰äº`ç¬¦å·æ ˆæ ˆé¡¶`çš„ç¬¦å·ï¼šå¼¹å‡ºä¸¤ä¸ªæ•°æ®æ ˆå…ƒç´ åˆ†åˆ«ä½œä¸ºä¸¤ä¸ªæ“ä½œæ•°(`num2, num1`)ï¼Œå¼¹å‡ºç¬¦å·æ ˆé¡¶ç¬¦å·(`op`)ï¼Œè¿ç®—(`num1 +-*/ num2`)ä»¥åå°†è¿ç®—ç»“æœå‹äººæ•°æ®æ ˆï¼Œç„¶åé‡å¤â‘ ~â‘¢ã€‚  

ã€€ã€€å¦‚`s = "1+2*3-4#"`ã€‚æ‰«æè¿‡ç¨‹å¦‚ä¸‹ï¼š  

```c
!-------------------  æ‰«æè¿‡ç¨‹  ------------------------
1  å…¥æ•°æ®æ ˆã€€ã€€ã€€ã€€      nums = [1], signs = []
+  æ»¡è¶³â‘ ï¼Œå…¥ç¬¦å·æ ˆ      nums = [1], signs = [+]
2  å…¥æ•°æ®æ ˆã€€ã€€ã€€ã€€      nums = [1, 2], signs = [+]
*  æ»¡è¶³â‘¡ï¼Œå…¥ç¬¦å·æ ˆ      nums = [1, 2], signs = [+, *]
3  å…¥æ•°æ®æ ˆã€€ã€€ã€€ã€€      nums = [1, 2, 3], signs = [+, *]
-  æ»¡è¶³â‘¢ï¼Œå¼¹å‡º(2, 3, *)ï¼Œ è¿ç®—åå°†ç»“æœ6å‹å…¥æ•°æ®æ ˆä¸­  nums = [1, 6], signs = [+]
   - æ»¡è¶³â‘¢ï¼Œå¼¹å‡º(1, 6, +)ï¼Œè¿ç®—åå°†ç»“æœ7å‹å…¥æ•°æ®æ ˆä¸­  nums = [7], signs = []
   - æ»¡è¶³â‘ ï¼Œå…¥ç¬¦å·æ ˆ    nums = [7], signs = [-]
4  å…¥æ•°æ®æ ˆã€€ã€€ã€€ã€€      nums = [7, 4], signs = [-]
   # æ»¡è¶³â‘ ï¼Œå…¥ç¬¦å·æ ˆ    nums = [3], signs = [#]
!-------------------  ç»“æŸ  ------------------------
```

ã€€ã€€æœ€ç»ˆæ•°æ®æ ˆä¸­åªå‰©ä¸‹**ä¸€ä¸ªå…ƒç´ **ï¼Œå®ƒå°±æ˜¯æœ€ç»ˆè¿ç®—ç»“æœã€‚ï¼ˆç¬¦å·æ ˆä¸­åªå‰©`"#"`ï¼‰  

#### ä»£ç   

```python
class Solution:
    def calculate(self, s: str) -> int:
        s = s.strip() + '#'
        ls = len(s)
        prior = {'+': 1, '-': 1, '*': 2, '/': 2, '#': 0}  # ä¼˜å…ˆçº§
        nums = []
        signs = []
        j = 0  # jè®°å½•çš„æ˜¯æ¯ä¸ªæ“ä½œæ•°çš„èµ·å§‹ä½ç½®ï¼Œé‡åˆ°ç¬¦å· s æ—¶æ›´æ–° j = s+1

        def operate(num1, num2, op):
            if op == '+': return num1 + num2
            if op == '-': return num1 - num2
            if op == '*': return num1 * num2
            if op == '/': return num1 // num2

        for i, char in enumerate(s):
            if char in prior:
                nums.append(int(s[j: i]))
                # print('å…¥æ ˆ', int(s[j: i]))
                while signs and prior[signs[-1]] >= prior[char]:  # æ ˆé¡¶ä¼˜å…ˆçº§é«˜
                    num2 = nums.pop()  # å…ˆå¼¹å‡ºçš„æ˜¯ç¬¬äºŒä¸ªæ“ä½œæ•°
                    num1 = nums.pop()  # åå¼¹å‡ºçš„æ˜¯ç¬¬ä¸€ä¸ªæ“ä½œæ•°
                    op = signs.pop()  # å¼¹å‡ºæ“ä½œç¬¦
                    # print('å‡ºæ ˆ', num1, num2, op)
                    ans = operate(num1, num2, op)
                    # print(num1, num2, op)
                    nums.append(ans)  # è¿ç®—ä»¥åå°†ç»“æœå…¥æ•°æ®æ ˆ
                    # print('ç»“æœå…¥æ ˆ', ans, nums, ops)

                signs.append(char)  # ç¬¦å·å…¥ç¬¦å·æ ˆ
                # print('å…¥æ ˆ', char)
                j = i + 1

        return nums[-1]
```


## A228. æ±‡æ€»åŒºé—´

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æœ‰åºæ•´æ•°æ•°ç»„ï¼Œè¿”å›æ•°ç»„åŒºé—´èŒƒå›´çš„æ±‡æ€»ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [0,1,2,4,5,7]
è¾“å‡º: ["0->2","4->5","7"]
è§£é‡Š: 0,1,2 å¯ç»„æˆä¸€ä¸ªè¿ç»­çš„åŒºé—´; 4,5 å¯ç»„æˆä¸€ä¸ªè¿ç»­çš„åŒºé—´ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [0,2,3,4,6,8,9]
è¾“å‡º: ["0","2->4","6","8->9"]
è§£é‡Š: 2,3,4 å¯ç»„æˆä¸€ä¸ªè¿ç»­çš„åŒºé—´; 8,9 å¯ç»„æˆä¸€ä¸ªè¿ç»­çš„åŒºé—´ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/summary-ranges/>

#### **æ€è·¯:**

ã€€ã€€æ¯”è¾ƒ`nums[i]`å’Œ`nums[i-1]`ï¼Œå¦‚æœå®ƒä»¬ç›¸å·®ä¸º`1`åˆ™å¯ä»¥æ±‡æ€»ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def summaryRanges(self, nums: List[int]) -> List[str]:
        ans = []
        if not nums:
            return []
        last = nums[0]
        nums.append(999999999999)
        for i in range(1, len(nums)):
            if nums[i] - nums[i-1] == 1:
                continue
            else:
                if last == nums[i-1]:
                    ans.append(f'{last}')
                else:
                    ans.append(f'{last}->{nums[i-1]}')
                last = nums[i]

        return ans

```

## A230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ 

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° `kthSmallest` æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ **k** ä¸ªæœ€å°çš„å…ƒç´ ã€‚

**è¯´æ˜ï¼š**
ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œ1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: root = [3,1,4,null,2], k = 1
   3
  / \
 1   4
  \
   2
è¾“å‡º: 1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: root = [5,3,6,2,4,null,null,1], k = 3
       5
      / \
     3   6
    / \
   2   4
  /
 1
è¾“å‡º: 3
```

**è¿›é˜¶ï¼š**
å¦‚æœäºŒå‰æœç´¢æ ‘ç»å¸¸è¢«ä¿®æ”¹ï¼ˆæ’å…¥/åˆ é™¤æ“ä½œï¼‰å¹¶ä¸”ä½ éœ€è¦é¢‘ç¹åœ°æŸ¥æ‰¾ç¬¬ k å°çš„å€¼ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ– `kthSmallest` å‡½æ•°ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/>

#### **æ€è·¯:**

ã€€ã€€äºŒå‰æœç´¢æ ‘çš„**ä¸­åºéå†**æ˜¯æœ‰åºçš„ï¼Œå› æ­¤åªéœ€è¦æ‰¾åˆ°ä¸­åºéå†ç¬¬`k`ä¸ªè®¿é—®çš„å…ƒç´ å³ä¸ºç»“æœã€‚  

#### **ä»£ç :**

ã€€ã€€**å†™æ³•ä¸€ï¼š**

```python
class Solution:
    def kthSmallest(self, root: TreeNode, k: int) -> int:
        count = 0  # è®¿é—®è®¡æ•°å™¨ï¼Œæ¯è®¿é—®ä¸€ä¸ªå…ƒç´ å°±+1
        def dfs(node):
            nonlocal count
            if not node:
                return None

            ans = dfs(node.left)
            if ans is not None: return ans

            count += 1
            if count == k:
                return node.val
            
            ans = dfs(node.right)
            if ans is not None: return ans

        return dfs(root)
      
```

ã€€ã€€**å†™æ³•äºŒï¼š**

```python
class Solution:
    def kthSmallest(self, root, k):
        """
        :type root: TreeNode
        :type k: int
        :rtype: int
        """
        def gen(r):
            if r is not None:
                yield from gen(r.left)
                yield r.val
                yield from gen(r.right)
        
        it = gen(root)
        for _ in range(k):
            ans = next(it)
        return ans
```

## A234. å›æ–‡é“¾è¡¨

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 1->2
è¾“å‡º: false
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 1->2->2->1
è¾“å‡º: true
```

**è¿›é˜¶ï¼š**
ä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/palindrome-linked-list/>

#### **æ€è·¯:**

ã€€ã€€â‘  ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹ï¼›  

ã€€ã€€â‘¡ reverse é€†åºååŠéƒ¨åˆ†ï¼›   

ã€€ã€€â‘¢ ä»å¤´ã€ä¸­ç‚¹ï¼Œå¼€å§‹æ¯”è¾ƒæ˜¯å¦ç›¸åŒã€‚  

#### **ä»£ç :**

```python
class Solution:
    def isPalindrome(self, head: ListNode) -> bool:
        if not head:
            return True

        slow = fast = head
        prev = None
        while fast and fast.next:
            fast = fast.next.next
            slow = slow.next

        rever = None
        slow = head
        while slow:
            slow.next, rever, slow = rever, slow, slow.next

        while head and prev:
            if head.val != prev.val:
                return False
            head = head.next
            prev = prev.next

        return True

```
## A239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ *nums* ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º *k* çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ *k* ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚
**è¿›é˜¶ï¼š**

ä½ èƒ½åœ¨çº¿æ€§æ—¶é—´å¤æ‚åº¦å†…è§£å†³æ­¤é¢˜å—ï¼Ÿ
> **ç¤ºä¾‹:**

```
è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3
è¾“å‡º: [3,3,5,5,6,7] 
è§£é‡Š: 

  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```
**æç¤ºï¼š**

- `1 <= nums.length <= 10^5`
- `-10^4 <= nums[i] <= 10^4`
- `1 <= k <= nums.length`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/sliding-window-maximum/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**ç»´æŠ¤ä¸€ä¸ªå‡åºæ•°ç»„`Asc`ï¼Œå­˜æ”¾çª—å£å†…çš„æ•°ï¼Œæ¯æ¬¡å–`Asc`çš„æœ€åä¸€ä¸ªå…ƒç´ å°±æ˜¯å½“å‰çª—å£çš„æœ€å¤§å€¼ã€‚  

ã€€ã€€ç”¨äºŒåˆ†æ³•æ’å…¥æ–°å…ƒç´ å’Œåˆ é™¤æ»‘å‡ºçª—å£çš„å…ƒç´ ï¼Œæ’å…¥å’Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä¸º`O(logn)`ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**æ»‘åŠ¨çª—å£+æœ€å¤§å †ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(å‡åºæ•°ç»„)

```python
import bisect

class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
        n = len(nums)

        asc = []
        for i in range(k):
            bisect.insort(asc, nums[i]) 

        ans = [0 for _ in range(n - k + 1)]
        ans[0] = asc[-1]

        for i in range(k, n):
            idx = bisect.bisect_left(asc, nums[i - k])
            asc.pop(idx)
            bisect.insort(asc, nums[i]) 
            ans[i-k+1] = asc[-1]

        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(æ»‘åŠ¨çª—å£+æœ€å¤§å †)

```python
class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
        left = 0
        heap = []
        ans = []
        for right, num in enumerate(nums):
            heappush(heap, (-num, right))
            while heap:
                maximal, i = heappop(heap)
                if i > right - k:  # (right-k, right]
                    heappush(heap, (maximal, i))
                    break

            if right >= k - 1:
                ans.append(-maximal)

        return ans
```

## A240. æœç´¢äºŒç»´çŸ©é˜µ II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥æœç´¢ *m* x *n* çŸ©é˜µ matrix ä¸­çš„ä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯¥çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

- æ¯è¡Œçš„å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—ã€‚
- æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚

> **ç¤ºä¾‹:**

ç°æœ‰çŸ©é˜µ matrix å¦‚ä¸‹ï¼š

```
[
  [1,   4,  7, 11, 15],
  [2,   5,  8, 12, 19],
  [3,   6,  9, 16, 22],
  [10, 13, 14, 17, 24],
  [18, 21, 23, 26, 30]
]
```

ç»™å®š target = `5`ï¼Œè¿”å› `true`ã€‚

ç»™å®š target = `20`ï¼Œè¿”å› `false`ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/search-a-2d-matrix-ii/>

#### **æ€è·¯:**

ã€€ã€€å…ˆæ‰¾åˆ°`target`å¯èƒ½åœ¨å“ªå‡ è¡Œä¸­ï¼Œåœ¨å¯¹è¿™å‡ è¡Œåˆ†åˆ«ç”¨**äºŒåˆ†æ³•**æŸ¥æ‰¾ã€‚  

ã€€ã€€å¦‚æœæŸä¸€è¡Œ`line`æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆ`target`å¯èƒ½åœ¨å…¶ä¸­ï¼š  

ã€€ã€€â‘  ç¬¬ä¸€ä¸ªå…ƒç´ å°äºç­‰äº`target`ï¼›  

ã€€ã€€â‘¡ æœ€åä¸€ä¸ªå…ƒç´ å¤§äºç­‰äº`target`ã€‚  

ã€€ã€€ç”¨äºŒåˆ†æ³•æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶â‘¡çš„è¡Œï¼Œç„¶åä»è¿™è¡Œå¼€å§‹é€è¡Œé‡‡ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾`target`ï¼Œå½“æŸä¸€è¡Œä¸æ»¡è¶³â‘ æ—¶ç»“æŸã€‚  

#### **ä»£ç :**

```python
class Solution:
    def check(self, nums, target):
        i, j = 0, len(nums) - 1
        while i <= j and i < len(nums):
            mid = (i + j) // 2
            if nums[mid] > target:
                j = mid - 1
            elif nums[mid] < target:
                i = mid + 1
            else:
                return True if nums[mid] == target else False
        return False

    def searchMatrix(self, matrix, target):
        """
        :type matrix: List[List[int]]
        :type target: int
        :rtype: bool
        """
        m = len(matrix)
        if not m: return False
        n = len(matrix[0])
        if not n: return False

        i, j = 0, m - 1   # æŸ¥è¡Œ
        while i <= j and i < m:
            mid = (i + j) // 2
            if matrix[mid][0] > target:
                j = mid - 1
            elif matrix[mid][0] < target:
                if mid == m-1 or matrix[mid+1][0] > target:
                    break
                i = mid + 1
            elif matrix[mid][0] == target:
                return True

        for line in range(mid, -1 ,-1):
            if matrix[line][-1] < target:
                break
            if self.check(matrix[line], target):
                return True
            
        return False
      
```

## A241. ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå«æœ‰æ•°å­—å’Œè¿ç®—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œä¸ºè¡¨è¾¾å¼æ·»åŠ æ‹¬å·ï¼Œæ”¹å˜å…¶è¿ç®—ä¼˜å…ˆçº§ä»¥æ±‚å‡ºä¸åŒçš„ç»“æœã€‚ä½ éœ€è¦ç»™å‡ºæ‰€æœ‰å¯èƒ½çš„ç»„åˆçš„ç»“æœã€‚æœ‰æ•ˆçš„è¿ç®—ç¬¦å·åŒ…å« `+`, `-` ä»¥åŠ `*` ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "2-1-1"
è¾“å‡º: [0, 2]
è§£é‡Š: 
((2-1)-1) = 0 
(2-(1-1)) = 2
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "2*3-4*5"
è¾“å‡º: [-34, -14, -10, -10, 10]
è§£é‡Š: 
(2*(3-(4*5))) = -34 
((2*3)-(4*5)) = -14 
((2*(3-4))*5) = -10 
(2*((3-4)*5)) = -10 
(((2*3)-4)*5) = 10
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/different-ways-to-add-parentheses/>

#### **æ€è·¯:**

ã€€ã€€ä»æ¯ä¸ªè¿ç®—ç¬¦çš„ä½ç½®éƒ½å¯ä»¥æ‹†å¼€ï¼Œç»™å·¦å³åˆ†åˆ«åŠ æ‹¬å·ã€‚`ç¤ºä¾‹2`çš„æ‹†åˆ†æ–¹å¼å¦‚ä¸‹ï¼š  

```pythonã€€ã€€ã€€
(2)*(3-4*5)  # ä»*æ‹†å¼€
(2*3)-(4*5)  # ä»-æ‹†å¼€
(2*3-4)*(5)  # ä»*æ‹†å¼€
```

ã€€ã€€å¯¹äºæ‹†åˆ†è¿‡çš„éƒ¨åˆ†ï¼Œå¦‚æœè¿˜æœ‰è¿ç®—ç¬¦ï¼Œå¯ä»¥é€’å½’åœ°ç»§ç»­è¿›è¡Œæ‹†åˆ†ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def diffWaysToCompute(self, input: str) -> List[int]:
        if not input:
            return []
        if input.isdigit():
            return [int(input)]

        def op(a, b, sym):
            if sym == '+': return a + b
            if sym == '-': return a - b
            if sym == '*': return a * b

        # æ¯ä¸ªç¬¦å·æ‹†å¼€æ¥ï¼Œä¸¤è¾¹ç®—
        ans = []
        for i, char in enumerate(input):
            if char in ('+', '-', '*'):
                left = self.diffWaysToCompute(input[:i])
                right = self.diffWaysToCompute(input[i+1:])
                for l in left:
                    for r in right:
                        ans.append(op(l, r, char))

        return ans

```

## A242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² *s* å’Œ *t* ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ *t* æ˜¯å¦æ˜¯ *s* çš„å­—æ¯å¼‚ä½è¯ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "anagram", t = "nagaram"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "rat", t = "car"
è¾“å‡º: false
```

**è¯´æ˜:**
ä½ å¯ä»¥å‡è®¾å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ã€‚

**è¿›é˜¶:**
å¦‚æœè¾“å…¥å­—ç¬¦ä¸²åŒ…å« unicode å­—ç¬¦æ€ä¹ˆåŠï¼Ÿä½ èƒ½å¦è°ƒæ•´ä½ çš„è§£æ³•æ¥åº”å¯¹è¿™ç§æƒ…å†µï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/valid-anagram/>

#### **æ€è·¯:**

ã€€ã€€å°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯æ˜¯å¦ç›¸åŒã€‚  

#### **ä»£ç :**

```python
class Solution:
    def isAnagram(self, s: str, t: str) -> bool:
        import collections
        cs = collections.Counter(s)  # å­—ç¬¦è®¡æ•°
        ct = collections.Counter(t)
        return cs == ct
      ã€€ã€€
```

## A257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥:

   1
 /   \
2     3
 \
  5

è¾“å‡º: ["1->2->5", "1->3"]

è§£é‡Š: æ‰€æœ‰æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸º: 1->2->5, 1->3
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/binary-tree-paths/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚ç”¨ä¸€ä¸ªå…¨å±€å˜é‡`curr`è®°å½•`ä»æ ¹ç»“ç‚¹åˆ°å½“å‰ç»“ç‚¹çš„è·¯å¾„`ï¼Œå½“åˆ°è¾¾å¶å­ç»“ç‚¹æ—¶è®°å½•è¿™æ¡è·¯å¾„ã€‚  

#### **ä»£ç :**

```python

class Solution:
    def binaryTreePaths(self, root: TreeNode) -> List[str]:
        curr = []  # è·¯å¾„åˆ—è¡¨
        ans = []  # ç»“æœç»“æœ
        def dfs(node):
            if not node:
                return 

            curr.append(str(node.val))
            idx = len(curr) - 1  # è®°å½•æ’å…¥çš„ä½ç½®ï¼Œæ–¹ä¾¿å‡½æ•°è¿”å›å‰å¼¹å‡º

            if not node.left and not node.right:  # åˆ°è¾¾å¶å­ç»“ç‚¹
                ans.append('->'.join(curr))
                curr.pop(idx)
                return 

            dfs(node.left)
            dfs(node.right)

            curr.pop(idx)  # æ¢å¤åˆ°å‡½æ•°è°ƒç”¨å‰çš„çŠ¶æ€

        dfs(root)
        return ans
```

## A264. ä¸‘æ•° II

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºç¬¬ `n` ä¸ªä¸‘æ•°ã€‚

ä¸‘æ•°å°±æ˜¯åªåŒ…å«è´¨å› æ•° `2, 3, 5` çš„**æ­£æ•´æ•°**ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: n = 10
è¾“å‡º: 12
è§£é‡Š: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 æ˜¯å‰ 10 ä¸ªä¸‘æ•°ã€‚
```

**è¯´æ˜:**  

1. `1` æ˜¯ä¸‘æ•°ã€‚
2. `n` **ä¸è¶…è¿‡**1690ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/ugly-number-ii/>

#### æ€è·¯  

ã€€ã€€æ–¹æ³•ä¸€ï¼šå°é¡¶å †ï¼Œæ¯æ¬¡å–å †é¡¶çš„å…ƒç´ ï¼ˆä¹Ÿå°±æ˜¯æœ€å°çš„ï¼‰ï¼Œç¬¬`i`æ¬¡å–çš„å°±æ˜¯ç¬¬`i`ä¸ªä¸‘æ•°ã€‚å†æŠŠå®ƒåˆ†åˆ«ä¹˜ä»¥`2`ã€`3`ã€`5`æ’å…¥åˆ°å †ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€ã€€<img src="_img/a264_1.png" style="zoom:33%"/>  

ã€€ã€€ä¸ºäº†é¿å…å‡ºç°é‡å¤ï¼Œç”¨ä¸€ä¸ªé›†åˆ`used_set`è®°å½•å·²ç»å‡ºç°è¿‡çš„å…ƒç´ ã€‚å·²ç»å‡ºç°è¿‡çš„å…ƒç´ å°±ä¸ä¼šå†å…¥å †äº†ã€‚  

ã€€ã€€æ–¹æ³•äºŒï¼šä¸‰æŒ‡é’ˆæ³•ã€‚ä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆ`id_2`ã€`id_3`ã€`id_5`ï¼Œåˆ†åˆ«è¡¨ç¤º2ã€3ã€5åº”è¯¥ä¹˜ä»¥ä¸‘æ•°æ•°ç»„ä¸­çš„å“ªä¸ªå…ƒç´ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€ã€€<img src="_img/a264_2.png" style="zoom:40%"/>

ã€€ã€€åˆå§‹æ—¶ä¸‘æ•°æ•°ç»„ =`[1]`ï¼Œä¸‰ä¸ªæŒ‡é’ˆå‡ä¸º`0`ï¼Œæ¯”è¾ƒä¸‰ä¸ªæŒ‡é’ˆä¹˜ç§¯çš„ç»“æœï¼ŒæŠŠæœ€å°çš„ä½œä¸ºä¸‹ä¸€ä¸ªä¸‘æ•°ï¼Œå¹¶ä¸”è¿™ä¸ªæŒ‡é’ˆå‘å³ç§»`1`ã€‚  

ã€€ã€€å¦‚æœæœ‰å¤šä¸ªæŒ‡é’ˆä¹˜ç§¯ç»“æœç›¸åŒï¼ˆå¦‚å›¾ä¸­çš„2Ã—3=3Ã—2ï¼‰ï¼Œåˆ™åŒæ—¶ç§»åŠ¨å®ƒä»¬ã€‚  

#### ä»£ç   

æ–¹æ³•ä¸€ï¼ˆå°é¡¶å †+å»é‡ï¼‰ï¼š

```python
class Solution:
    def nthUglyNumber(self, n: int) -> int:
        if n == 1: return 1
        cur = 1
        used_set = {1}
        factors = (2, 3, 5)
        
        import heapq
        heap = []
        for i in range(2, n+1):
            for f in factors:
                new_num = cur * f
                if new_num not in used_set:
                    used_set.add(new_num)
                    heapq.heappush(heap, new_num)
            cur = heapq.heappop(heap)

        return cur

```

æ–¹æ³•äºŒï¼ˆä¸‰æŒ‡é’ˆï¼‰ï¼š

```python
class Solution:
    def nthUglyNumber(self, n: int) -> int:
        if n == 1: return 1
        result = [0] * n
        result[0] = 1
        id_2, id_3, id_5 = 0, 0, 0
        for i in range(1, n):
            a = result[id_2] * 2
            b = result[id_3] * 3
            c = result[id_5] * 5
            minimal = min(a, b, c)

            if a == minimal: id_2 += 1
            if b == minimal: id_3 += 1
            if c == minimal: id_5 += 1

            result[i] = minimal
            
        return result[-1]
```

## A273. æ•´æ•°è½¬æ¢è‹±æ–‡è¡¨ç¤º

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

å°†éè´Ÿæ•´æ•°è½¬æ¢ä¸ºå…¶å¯¹åº”çš„è‹±æ–‡è¡¨ç¤ºã€‚å¯ä»¥ä¿è¯ç»™å®šè¾“å…¥å°äº 231 - 1 ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 123
è¾“å‡º: "One Hundred Twenty Three"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 12345
è¾“å‡º: "Twelve Thousand Three Hundred Forty Five"
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: 1234567
è¾“å‡º: "One Million Two Hundred Thirty Four Thousand Five Hundred Sixty Seven"
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: 1234567891
è¾“å‡º: "One Billion Two Hundred Thirty Four Million Five Hundred Sixty Seven Thousand Eight Hundred Ninety One"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/integer-to-english-words/>

#### æ€è·¯  


ã€€ã€€è¿˜å¥½ä¸ç”¨åŠ `"and"`ï¼ŒæŠŠå•è¯æ”¾åœ¨**æ•°ç»„**é‡Œï¼Œç„¶å`' '.join()`å°±è¡Œäº†ã€‚  

#### ä»£ç   

```python
class Solution:
    def numberToWords(self, num: int) -> str:
        if num == 0: return "Zero"
        ones = [[],["One"],["Two"],["Three"],["Four"],["Five"],["Six"],["Seven"],["Eight"],["Nine"]]
        dozen = [["Eleven"], ["Twelve"], ["Thirteen"], ["Fourteen"], ["Fifteen"], ["Sixteen"], ["Seventeen"], ["Eighteen"], ["Nineteen"]]
        tens = [[], ["Ten"], ["Twenty"], ["Thirty"], ["Forty"], ["Fifty"], ["Sixty"], ["Seventy"], ["Eighty"], ["Ninety"]]

        # aaa,bbb,ccc,ddd
        a = num // 1000000000
        b = (num % 1000000000) // 1000000
        c = (num % 1000000) // 1000
        d = num % 1000

        def parse_d(n):  # è§£æå°äº1000çš„æ•°
            if n == 0:
                return []
            elif 11 <= n <= 19:  # 11~19
                return dozen[n-11]

            d = n // 100
            e = (n % 100) // 10
            f =  n % 10
            ans = []
            if d: ans +=  ones[d] + ['Hundred']
            if 11 <= n % 100 <= 19:  # *1*
                return ans + dozen[n % 100 - 11]
            return ans + tens[e] + ones[f]

        ans = []
        if a: ans += parse_d(a) + ['Billion']
        if b: ans += parse_d(b) + ['Million']
        if c: ans += parse_d(c) + ['Thousand']
        ans += parse_d(d)

        return ' '.join(ans)
      
```


## A275. HæŒ‡æ•° II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä½ç ”ç©¶è€…è®ºæ–‡è¢«å¼•ç”¨æ¬¡æ•°çš„æ•°ç»„ï¼ˆè¢«å¼•ç”¨æ¬¡æ•°æ˜¯éè´Ÿæ•´æ•°ï¼‰ï¼Œæ•°ç»„å·²ç»æŒ‰ç…§**å‡åºæ’åˆ—**ã€‚ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œè®¡ç®—å‡ºç ”ç©¶è€…çš„ *h* æŒ‡æ•°ã€‚

[h æŒ‡æ•°çš„å®šä¹‰](https://baike.baidu.com/item/h-index/3991452?fr=aladdin): â€œh ä»£è¡¨â€œé«˜å¼•ç”¨æ¬¡æ•°â€ï¼ˆhigh citationsï¼‰ï¼Œä¸€åç§‘ç ”äººå‘˜çš„ h æŒ‡æ•°æ˜¯æŒ‡ä»–ï¼ˆå¥¹ï¼‰çš„ ï¼ˆN ç¯‡è®ºæ–‡ä¸­ï¼‰**è‡³å¤š**æœ‰ h ç¯‡è®ºæ–‡åˆ†åˆ«è¢«å¼•ç”¨äº†**è‡³å°‘** h æ¬¡ã€‚ï¼ˆå…¶ä½™çš„ *N - h* ç¯‡è®ºæ–‡æ¯ç¯‡è¢«å¼•ç”¨æ¬¡æ•°**ä¸å¤šäº** *h* æ¬¡ã€‚ï¼‰"

> **ç¤ºä¾‹:**

```
è¾“å…¥: citations = [0,1,3,5,6]
è¾“å‡º: 3 
è§£é‡Š: ç»™å®šæ•°ç»„è¡¨ç¤ºç ”ç©¶è€…æ€»å…±æœ‰ 5 ç¯‡è®ºæ–‡ï¼Œæ¯ç¯‡è®ºæ–‡ç›¸åº”çš„è¢«å¼•ç”¨äº† 0, 1, 3, 5, 6 æ¬¡ã€‚
     ç”±äºç ”ç©¶è€…æœ‰ 3 ç¯‡è®ºæ–‡æ¯ç¯‡è‡³å°‘è¢«å¼•ç”¨äº† 3 æ¬¡ï¼Œå…¶ä½™ä¸¤ç¯‡è®ºæ–‡æ¯ç¯‡è¢«å¼•ç”¨ä¸å¤šäº 3 æ¬¡ï¼Œæ‰€ä»¥å¥¹çš„ h æŒ‡æ•°æ˜¯ 3ã€‚
```

**è¯´æ˜:**

å¦‚æœ *h* æœ‰å¤šæœ‰ç§å¯èƒ½çš„å€¼ ï¼Œ*h* æŒ‡æ•°æ˜¯å…¶ä¸­æœ€å¤§çš„é‚£ä¸ªã€‚

**è¿›é˜¶ï¼š**

- è¿™æ˜¯ [HæŒ‡æ•°](https://leetcode-cn.com/problems/h-index/description/) çš„å»¶ä¼¸é¢˜ç›®ï¼Œæœ¬é¢˜ä¸­çš„ `citations` æ•°ç»„æ˜¯ä¿è¯æœ‰åºçš„ã€‚
- ä½ å¯ä»¥ä¼˜åŒ–ä½ çš„ç®—æ³•åˆ°å¯¹æ•°æ—¶é—´å¤æ‚åº¦å—ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/h-index-ii/>

#### **æ€è·¯:**

ã€€ã€€ä¸€èˆ¬`O(logn)`çš„å¤æ‚åº¦éƒ½ä½¿ç”¨äºŒåˆ†æ³•ã€‚ä¸ºäº†å¸®åŠ©ç†è§£é¢˜æ„ï¼Œå¯¹äºç¤ºä¾‹ä¸­çš„`citations = [0, 1, 3, 5, 6]`ï¼Œå‡è®¾æœ‰å¦ä¸€ä¸ªè¾…åŠ©æ•°ç»„`order = [5, 4, 3, 2, 1]`ï¼Œç¬¬ä¸€ä¸ª`citations`å¤§äºç­‰äº`order`çš„å…ƒç´ ï¼Œ`order`çš„å€¼å°±æ˜¯ç»“æœã€‚  

ã€€ã€€å› æ­¤äºŒåˆ†æ³•çš„åˆ¤æ–­æ¡ä»¶ä¸ºæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„å¯¹åº”å…ƒç´ `citations[i]`å’Œ`n - i`ã€‚   

#### **ä»£ç :**

```python
class Solution:
    def hIndex(self, citations: List[int]) -> int:
        n = len(citations)
        if not n: return 0
        # len(n) ~ 1
        i, j = 0, n - 1
        while i <= j and i < len(citations):
            mid = (i + j) // 2
            if citations[mid] == n - mid:
                return n - mid
            elif citations[mid] < n - mid: 
                i = mid + 1  # å¾€åæœ
            elif citations[mid] > n - mid:
                if mid == 0 or citations[mid-1] < n - (mid-1):
                    return n - mid
                j = mid - 1

        return 0
      
```

## A278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ä½ æ˜¯äº§å“ç»ç†ï¼Œç›®å‰æ­£åœ¨å¸¦é¢†ä¸€ä¸ªå›¢é˜Ÿå¼€å‘æ–°çš„äº§å“ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„äº§å“çš„æœ€æ–°ç‰ˆæœ¬æ²¡æœ‰é€šè¿‡è´¨é‡æ£€æµ‹ã€‚ç”±äºæ¯ä¸ªç‰ˆæœ¬éƒ½æ˜¯åŸºäºä¹‹å‰çš„ç‰ˆæœ¬å¼€å‘çš„ï¼Œæ‰€ä»¥é”™è¯¯çš„ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬éƒ½æ˜¯é”™çš„ã€‚

å‡è®¾ä½ æœ‰ `n` ä¸ªç‰ˆæœ¬ `[1, 2, ..., n]`ï¼Œä½ æƒ³æ‰¾å‡ºå¯¼è‡´ä¹‹åæ‰€æœ‰ç‰ˆæœ¬å‡ºé”™çš„ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚

ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ `bool isBadVersion(version)` æ¥å£æ¥åˆ¤æ–­ç‰ˆæœ¬å· `version` æ˜¯å¦åœ¨å•å…ƒæµ‹è¯•ä¸­å‡ºé”™ã€‚å®ç°ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ä½ åº”è¯¥å°½é‡å‡å°‘å¯¹è°ƒç”¨ API çš„æ¬¡æ•°ã€‚

> **ç¤ºä¾‹:**

```
ç»™å®š n = 5ï¼Œå¹¶ä¸” version = 4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚

è°ƒç”¨ isBadVersion(3) -> false
è°ƒç”¨ isBadVersion(5) -> true
è°ƒç”¨ isBadVersion(4) -> true

æ‰€ä»¥ï¼Œ4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ 
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/first-bad-version/>

#### **æ€è·¯:**

ã€€ã€€äºŒåˆ†æŸ¥æ‰¾ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def firstBadVersion(self, n):
        """
        :type n: int
        :rtype: int
        """
        i, j = 1, n
        while i <= j and i <= n:
            mid = (i + j) // 2
            if isBadVersion(mid):  # å½“å‰ç‰ˆæœ¬æ˜¯é”™è¯¯çš„
                if mid == 1 or not isBadVersion(mid-1):  # å‰ä¸€ä¸ªç‰ˆæœ¬ä¸æ˜¯é”™è¯¯çš„
                    return mid
                j = mid - 1  # å¾€å‰æ‰¾
            else:  # å½“å‰ç‰ˆæœ¬æ˜¯æ­£ç¡®çš„ï¼Œå¾€åæ‰¾
                i = mid + 1

        return 1
      
```

## A279. å®Œå…¨å¹³æ–¹æ•°

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šæ­£æ•´æ•° *n*ï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ `1, 4, 9, 16, ...`ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº *n*ã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: n = 12
è¾“å‡º: 3 
è§£é‡Š: 12 = 4 + 4 + 4.
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: n = 13
è¾“å‡º: 2
è§£é‡Š: 13 = 4 + 9.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/perfect-squares/>


#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ï¼Œç±»ä¼¼äºèƒŒåŒ…é—®é¢˜ã€‚é€’æ¨å…¬å¼å¦‚ä¸‹ï¼š  

```
f(n) = 1 + min{
  f(n-1^2), f(n-2^2), f(n-3^2), f(n-4^2), ... , f(n-k^2) //(kä¸ºæ»¡è¶³k^2<=nçš„æœ€å¤§çš„k)
}
```

#### ä»£ç   
```python
class helper:
    def __init__(self):
        max_n = 10000
        self.nums = nums = [1] * max_n  # nums[1] è¡¨ç¤º1
        for i in range(2, max_n):
            sqr = int(math.sqrt(i))
            if sqr * sqr == i:  # æœ¬èº«å°±æ˜¯å®Œå…¨å¹³æ–¹æ•°
                nums[i] = 1
                continue
            temp = i
            for j in range(1, sqr+1):
                temp = min(temp, nums[i - j ** 2] + 1)
            nums[i] = temp
        # print(nums)


class Solution:
    h = helper()
    def numSquares(self, n: int) -> int: 
        return self.h.nums[n]
```



## A282. ç»™è¡¨è¾¾å¼æ·»åŠ è¿ç®—ç¬¦

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— `0-9` çš„å­—ç¬¦ä¸²å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°å­—ä¹‹é—´æ·»åŠ **äºŒå…ƒ**è¿ç®—ç¬¦ï¼ˆä¸æ˜¯ä¸€å…ƒï¼‰`+`ã€`-` æˆ– `*` ï¼Œè¿”å›æ‰€æœ‰èƒ½å¤Ÿå¾—åˆ°ç›®æ ‡å€¼çš„è¡¨è¾¾å¼ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: num = "123", target = 6
è¾“å‡º: ["1+2+3", "1*2*3"] 
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: num = "232", target = 8
è¾“å‡º: ["2*3+2", "2+3*2"]
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: num = "105", target = 5
è¾“å‡º: ["1*0+5","10-5"]
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: num = "00", target = 0
è¾“å‡º: ["0+0", "0-0", "0*0"]
```

> **ç¤ºä¾‹ 5:**

```
è¾“å…¥: num = "3456237490", target = 9191
è¾“å‡º: []
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/expression-add-operators/>

#### **æ€è·¯:**

ã€€ã€€åœ¨`num`ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½å¯ä»¥æ·»åŠ  `+-*`å·ï¼Œ(ä¹Ÿå¯ä»¥ä¸æ·»åŠ )ã€‚è®©æˆ‘ä»¬æ¥æ‰¾ä¸€ä¸‹è§„å¾‹ï¼š  

ã€€ã€€ä¾‹å¦‚`num = "321"`ï¼Œ`target = 7`ï¼Œåœ¨`3`åé¢æ·»åŠ ç¬¦å·ï¼š  

ã€€ã€€â‘  æ·»åŠ `"+"`ï¼Œå˜æˆäº†`3 + handle("21") = 7`ï¼Œä¹Ÿå°±æ˜¯è§£å†³`handle("21") = 4`è¿™ä¸ªå­é—®é¢˜ï¼›  

ã€€ã€€â‘¡ æ·»åŠ `"-"`ï¼Œå˜æˆäº†`3 - handle("21") = 7`ï¼Œå‡æ³•å…¶å®ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯åŠ æ³•(åŠ ä¸Šä¸€ä¸ªè´Ÿæ•°)ï¼Œå°†`handle`å‰é¢çš„è´Ÿå·ä½œä¸ºå‚æ•°ä¼ é€’ç»™`handle`å³å¯ï¼Œä¹Ÿå°±æ˜¯è§£å†³`handle("21", factor=-1) = 4`è¿™ä¸ªå­é—®é¢˜ï¼›  

ã€€ã€€â‘¢ æ·»åŠ `"*"`ï¼Œå˜æˆäº†`3 * handle("21") = 7`ï¼Œéœ€è¦è®©`handle`çŸ¥é“æœ‰ä¸ªå‰å¯¼çš„ç³»æ•°`3`ï¼Œå› æ­¤éœ€è¦è§£å†³`handle("21", factor=3) = 7`è¿™ä¸ªå­é—®é¢˜ã€‚  

ã€€ã€€â‘£ ä¸æ·»åŠ ä»»ä½•ç¬¦å·ï¼Œå¦‚æœ`num * factor`å°±æ˜¯`target`ä¹Ÿå¯ä»¥ç¬¦åˆæ¡ä»¶ã€‚  

ã€€ã€€**å¦‚ä½•è§£å†³å¸¦`factor`çš„å­é—®é¢˜ï¼Ÿ**

ã€€ã€€ä¾‹å¦‚`handle("21", factor=3) = 7`ï¼ŒåŒæ ·å¯ä»¥å¯¹åº”ä¸Šé¢çš„çš„â‘ â‘¡â‘¢â‘£ã€‚  

ã€€ã€€â‘  æ·»åŠ `"+"`ï¼Œå˜æˆäº†`6 + handle("1") = 7`ï¼Œè¿™é‡Œçš„`6`æ˜¯`factor * æ·»åŠ çš„ç¬¦å·å‰é¢çš„æ•°`å¾—åˆ°çš„ï¼›  

ã€€ã€€â‘¡ æ·»åŠ `"-"`ï¼Œå˜æˆäº†`6 - handle("1") = 7`ï¼Œä¹Ÿå°±æ˜¯`handle("1", factor=-1) = 1`ï¼›  

ã€€ã€€â‘¢ æ·»åŠ `"*"`ï¼Œå˜æˆäº†`6 * handle("1") = 7`ï¼Œä¹Ÿå°±æ˜¯`handle("1", factor=6) = 7`ï¼›  

ã€€ã€€â‘£ ä¸æ·»åŠ ç¬¦å·ï¼Œ`3 * 21 != 7`ã€‚  

ã€€ã€€æ˜¾ç„¶â‘¡â‘¢â‘£çš„å­é—®é¢˜éƒ½æ˜¯æ— è§£çš„ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def myaddOperators(self, num: str, target: int, factor) -> List[str]:
        # å‡æ³•å…¶å®ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯åŠ æ³•(åŠ ä¸Šä¸€ä¸ªè´Ÿæ•°)
        # factor è¡¨ç¤ºå‰ä¸€ä¸ªæ•°çš„ç³»æ•°ï¼Œ åŠ æ³•æ˜¯1ï¼Œå‡æ³•æ˜¯-1ï¼Œä¹˜æ³•æ˜¯ä¹˜æ•°

        n = len(num)

        ans = []
        if num.isdigit() and int(num) * factor == target:  # æ•´ä¸ªå¯ä»¥åŒ¹é…
            if len(num) == 1 or not num.startswith('0'):  # ä¸èƒ½æœ‰å‰å¯¼0
                ans.append(num)
        
        if n == 1:return ans

        for i in range(1, n):
            if i > 1 and num.startswith('0'):  # ä¸èƒ½æœ‰å‰å¯¼0
                continue

            current = int(num[:i]) * factor
            
            plus = self.myaddOperators(num[i:], target - current, 1)  #  åŠ æ³•
            for exp in plus:
                ans.append(num[:i] + '+' + exp)

            minus = self.myaddOperators(num[i:], target - current, -1)  #  å‡æ³•
            for exp in minus:
                ans.append(num[:i] + '-' + exp)

            multiply = self.myaddOperators(num[i:], target, current)  #  ä¹˜æ³•
            for exp in multiply:
                ans.append(num[:i] + '*' + exp)

        return ans  


    def addOperators(self, num: str, target: int) -> List[str]:
        return self.myaddOperators(num, target, 1)  # åˆå§‹çš„factoræ˜¯1

```

## A283. ç§»åŠ¨é›¶

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums`ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ `0` ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [0,1,0,3,12]
è¾“å‡º: [1,3,12,0,0]
```

**è¯´æ˜**:

1. å¿…é¡»åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚
2. å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/move-zeroes/>

#### **æ€è·¯:**


ã€€ã€€åŒæŒ‡é’ˆï¼Œ`i`æŒ‡å‘æœ€å·¦è¾¹å‡ºç°`0`çš„ä½ç½®ï¼Œ`j`éå†`nums`ï¼Œä¸”`i < j`ï¼Œæ¯æ¬¡äº¤æ¢`nums[i]`å’Œ`nums[j]`å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def moveZeroes(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        i = 0
        for j, num in enumerate(nums):
            if num == 0:
                continue

            while i < j - 1 and nums[i] != 0:
                i += 1
            if i < j and nums[i] == 0:
                nums[i], nums[j] = nums[j], nums[i]  # äº¤æ¢
                i += 1

```

## A287. å¯»æ‰¾é‡å¤æ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåŒ…å« *n* + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ *nums* ï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° *n* ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ *n* ï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,3,4,2,2]
è¾“å‡º: 2
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,1,3,4,2]
è¾“å‡º: 3
```

**è¯´æ˜ï¼š**

1. **ä¸èƒ½**æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚
2. åªèƒ½ä½¿ç”¨é¢å¤–çš„ *O*(1) çš„ç©ºé—´ã€‚
3. æ—¶é—´å¤æ‚åº¦å°äº *O*(*n*2) ã€‚
4. æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/find-the-duplicate-number/>

#### **æ€è·¯:**

- å…¶ä¸€ï¼Œå¯¹äºé“¾è¡¨é—®é¢˜ï¼Œä½¿ç”¨å¿«æ…¢æŒ‡é’ˆå¯ä»¥åˆ¤æ–­æ˜¯å¦æœ‰ç¯ã€‚
- å…¶äºŒï¼Œæœ¬é¢˜å¯ä»¥ä½¿ç”¨æ•°ç»„é…åˆä¸‹æ ‡ï¼ŒæŠ½è±¡æˆé“¾è¡¨é—®é¢˜ã€‚

ã€€ã€€å¿«æ…¢æŒ‡é’ˆç¬¬ä¸€æ¬¡é‡åˆåï¼Œå°†å¿«æŒ‡é’ˆä¹Ÿå˜æˆæ…¢æŒ‡é’ˆï¼Œç¬¬äºŒæ¬¡å¿…ç„¶åœ¨é‡å¤æ•°å­—å¤„é‡åˆã€‚  

#### **ä»£ç :**

```python
class Solution:
    def findDuplicate(self, nums: List[int]) -> int:
        fast, slow = 0, 0
        while True:
            fast = nums[nums[fast]];  # å¿«æŒ‡é’ˆä¸€æ¬¡èµ°2æ­¥
            slow = nums[slow];  # æ…¢æŒ‡é’ˆä¸€æ¬¡èµ°1æ­¥
            if slow == fast:
                fast = 0
                while slow != fast:
                    fast = nums[fast]
                    slow = nums[slow]

                return slow

```

## A290. å•è¯è§„å¾‹

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ç§è§„å¾‹ `pattern` å’Œä¸€ä¸ªå­—ç¬¦ä¸² `str` ï¼Œåˆ¤æ–­ `str` æ˜¯å¦éµå¾ªç›¸åŒçš„è§„å¾‹ã€‚

è¿™é‡Œçš„ **éµå¾ª** æŒ‡å®Œå…¨åŒ¹é…ï¼Œä¾‹å¦‚ï¼Œ `pattern` é‡Œçš„æ¯ä¸ªå­—æ¯å’Œå­—ç¬¦ä¸² `str` ä¸­çš„æ¯ä¸ªéç©ºå•è¯ä¹‹é—´å­˜åœ¨ç€åŒå‘è¿æ¥çš„å¯¹åº”è§„å¾‹ã€‚

> **ç¤ºä¾‹1:**

```
è¾“å…¥: pattern = "abba", str = "dog cat cat dog"
è¾“å‡º: true
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:pattern = "abba", str = "dog cat cat fish"
è¾“å‡º: false
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: pattern = "aaaa", str = "dog cat cat dog"
è¾“å‡º: false
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: pattern = "abba", str = "dog dog dog dog"
è¾“å‡º: false
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/word-pattern/>

#### **æ€è·¯:**

ã€€ã€€æ­£åæ˜ å°„å¯¹åº”å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def wordPattern(self, pattern: str, str: str) -> bool:
        p = list(pattern)
        s = str.split(' ')
        a_to_b = {}
        b_to_a = {}

        if len(p) != len(s):
            return False

        for i in range(len(p)):
            a = p[i]
            b = s[i]
            if a in a_to_b and a_to_b[a] != b:
                return False

            a_to_b[a] = b
            if b in b_to_a and b_to_a[b] != a:
                return False

            b_to_a[b] = a

        return True

```

## A300. æœ€é•¿ä¸Šå‡å­åºåˆ—

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [10,9,2,5,3,7,101,18]
è¾“å‡º: 4 
è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯ [2,3,7,101]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 4ã€‚
```

**è¯´æ˜:**

- å¯èƒ½ä¼šæœ‰å¤šç§æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç»„åˆï¼Œä½ åªéœ€è¦è¾“å‡ºå¯¹åº”çš„é•¿åº¦å³å¯ã€‚
- ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(*n2*) ã€‚

**è¿›é˜¶:** ä½ èƒ½å°†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(*n* log *n*) å—?

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-increasing-subsequence/>

#### æ€è·¯  

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**ç”¨ä¸€ä¸ªè¾…åŠ©æ•°ç»„`orders`è®°å½•ä»¥æ¯ä¸ªæ•°ä¸ºæœ€å¤§çš„æ•°å­—æ—¶ï¼Œæœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚å¦‚ç¤ºä¾‹ä¸­`[10,9,2,5,3,7,101,18]`å¯¹åº”çš„`orders=[1,1,1,2,1,3,4,4]` ã€‚  
ã€€ã€€åˆå§‹çŠ¶æ€`orders`å…¨ä¸º`1`ï¼Œç»Ÿè®¡`nums`ä¸­æŸä¸ªæ•°å­—ä¹‹å‰æ‰€æœ‰æ¯”å®ƒå°çš„æ•°å­—çš„`orders`çš„æœ€å¤§å€¼ + 1å³ä¸º`order[i]`æ–°çš„å€¼ã€‚å¤æ‚åº¦ä¸º`O(n^2)` ã€‚  
ã€€ã€€**æ–¹æ³•äºŒï¼š**ç»´æŠ¤ä¸€ä¸ª`å‡åºçš„`ç»“æœæ•°ç»„`results`ã€‚å¦‚æœ`num`å¤§äºç»“æœæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå°±å°†`num`æ’å…¥åˆ°ç»“æœæ•°ç»„çš„æœ€åã€‚å¦åˆ™ç”¨`num`æ›¿æ¢`results`ä¸­ç¬¬ä¸€ä¸ªå¤§äºç­‰äº`num`çš„æ•°ã€‚  
ã€€ã€€æœ€ç»ˆ`results`çš„é•¿åº¦å³ä¸ºç»“æœã€‚å¤æ‚åº¦ä¸º`O(nlogn)`ã€‚  

#### ä»£ç   

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**  

```python
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        n = len(nums)
        if not n:
            return 0
        orders = [1 for i in range(n)]  # ä»¥nums[i]ä¸ºæœ€å¤§s\æ•°çš„æœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦
        ans = 1
        i = 0
        for i in range(n-1):
            if nums[i+1] > nums[i]:
                orders[i+1] = 2
                ans = 2
                break

        for i in range(i+2, n):
            order_i = 1
            for j in range(i):
                if nums[j] < nums[i]:
                    order_i = max(order_i, orders[j]+1)
            orders[i] = order_i
            ans = max(ans, order_i)

        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**

```python
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        if len(nums) == 0:
            return 0

        results = []
        for num in nums:
            if len(results) == 0 or num > results[-1]:
                results.append(num)
            else:
                for i, re in enumerate(results):
                    if re >= num:
                        results[i] = num
                        break

        print(results)
        return len(results)

```

## A301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

åˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚

**è¯´æ˜:** è¾“å…¥å¯èƒ½åŒ…å«äº†é™¤ `(` å’Œ `)` ä»¥å¤–çš„å­—ç¬¦ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "()())()"
è¾“å‡º: ["()()()", "(())()"]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "(a)())()"
è¾“å‡º: ["(a)()()", "(a())()"]
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: ")("
è¾“å‡º: [""]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-invalid-parentheses/>

#### **æ€è·¯:**

ã€€ã€€dfsã€‚ç¬¬ä¸€éæœç´¢æ‰¾åˆ°`æœ€å°‘åˆ é™¤æ‹¬å·çš„ä¸ªæ•°`ã€‚  

ã€€ã€€ç¬¬äºŒéæœç´¢ä»¥`æœ€å°‘åˆ é™¤æ‹¬å·çš„ä¸ªæ•°`ä¸ºå‰ªææ¡ä»¶ï¼Œå¯»æ‰¾æ‰€æœ‰æ‹¬å·åŒ¹é…çš„å¯èƒ½æ€§ã€‚  

ã€€ã€€ç”¨`set`å»é™¤é‡å¤ã€‚

#### **ä»£ç :**

```python
class Solution:
    def removeInvalidParentheses(self, s: str) -> List[str]:
        ls = len(s)
        ans = set()
        minimum_delete = ls  # æœ€å°åˆ é™¤çš„æ‹¬å·æ•°
        def dfs(i, cnt, del_cnt, max_delte, cur): # s[i:] cntä¸ªå·¦æ‹¬å· åˆ äº†å‡ ä¸ª æœ€å¤šåˆ å‡ ä¸ªæ‹¬å·, å½“å‰å­—ç¬¦ä¸²
            nonlocal minimum_delete
            if del_cnt > max_delte:
                return False
            if i >= ls:
                if cnt == 0:
                    minimum_delete = del_cnt
                    # print(del_cnt)
                    ans.add(cur)
                    if max_delte == float('inf'):
                        return True  # return Trueå¯ä»¥ç¡®ä¿æ‰¾æœ€å°åˆ é™¤æ•°çš„æ—¶å€™ä¸é‡å¤æœç´¢
                return False

            if s[i] == '(':  # è¦ä¹ˆç”¨è¿™ä¸ªå·¦æ‹¬å· è¦ä¹ˆä¸ç”¨
                if dfs(i+1, cnt+1, del_cnt, max_delte, cur + '('):  # ç”¨(
                    return True
                return dfs(i+1, cnt, del_cnt+1, max_delte, cur) # ä¸ç”¨(
              
            elif s[i] == ')':
                if cnt > 0 and dfs(i+1, cnt - 1, del_cnt, max_delte, cur+')'):  # ç”¨)
                    return True
                return dfs(i+1, cnt, del_cnt+1, max_delte, cur)   # ä¸ç”¨)
              
            else:  # éæ‹¬å·å­—ç¬¦
                return dfs(i+1, cnt, del_cnt, max_delte, cur + s[i])
            
        
        dfs(0, 0, 0, float('inf'), '')  # ç¬¬ä¸€æ¬¡dfsï¼Œæ‰¾åˆ°æœ€å°‘åˆ å‡ ä¸ªæ‹¬å·
        ans.clear()
        dfs(0, 0, 0, minimum_delete, '')  # ç¬¬äºŒæ¬¡dfsï¼Œæ‰¾åˆ°æ‰€æœ‰çš„ç»“æœ
        return [a for a in ans]
      
```

## A303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜

éš¾åº¦ `ç®€å•`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„  *nums*ï¼Œæ±‚å‡ºæ•°ç»„ä»ç´¢å¼• *i* åˆ° *j*  (*i* â‰¤ *j*) èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼ŒåŒ…å« *i,  j* ä¸¤ç‚¹ã€‚

> **ç¤ºä¾‹ï¼š**

```
ç»™å®š nums = [-2, 0, 3, -5, 2, -1]ï¼Œæ±‚å’Œå‡½æ•°ä¸º sumRange()

sumRange(0, 2) -> 1
sumRange(2, 5) -> -1
sumRange(0, 5) -> -3
```

**è¯´æ˜:**

1. ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸å¯å˜ã€‚
2. ä¼šå¤šæ¬¡è°ƒç”¨ *sumRange* æ–¹æ³•ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/range-sum-query-immutable/>


#### æ€è·¯  


ã€€ã€€é‡ç‚¹åœ¨äºä¼šå¤šæ¬¡è°ƒç”¨ã€‚å› æ­¤åœ¨åˆå§‹åŒ–æ—¶å…ˆæ±‚å¥½å‰`n`é¡¹å’Œã€‚è°ƒç”¨`sumRange`æ—¶åªè¦è¿”å›`self.sums[j] - self.sums[i-1]`å³å¯ã€‚  

#### ä»£ç   
```python
class NumArray:
    def __init__(self, nums: List[int]):
        t = 0
        def accumulate(x):
            nonlocal t
            t += x
            return t

        self.nums = nums
        self.sums = list(map(accumulate, nums))  # å‰né¡¹å’Œçš„åˆ—è¡¨
              
    def sumRange(self, i: int, j: int) -> int:
        if i <= 0: return self.sums[j]
        if j >= len(self.sums): j = len(self.sums) - 1

        return self.sums[j] - self.sums[i-1]

```

## A304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„å·¦ä¸Šè§’ä¸º (*row*1, *col*1) ï¼Œå³ä¸‹è§’ä¸º (*row*2, *col*2)ã€‚

ã€€ã€€<img src="_img/304.png" style="zoom:30%"/>  
ä¸Šå›¾å­çŸ©é˜µå·¦ä¸Šè§’ (row1, col1) = **(2, 1)** ï¼Œå³ä¸‹è§’(row2, col2) = **(4, 3)ï¼Œ**è¯¥å­çŸ©å½¢å†…å…ƒç´ çš„æ€»å’Œä¸º 8ã€‚

> **ç¤ºä¾‹:**

```
ç»™å®š matrix = [
  [3, 0, 1, 4, 2],
  [5, 6, 3, 2, 1],
  [1, 2, 0, 1, 5],
  [4, 1, 0, 1, 7],
  [1, 0, 3, 0, 5]
]

sumRegion(2, 1, 4, 3) -> 8
sumRegion(1, 1, 2, 2) -> 11
sumRegion(1, 2, 2, 4) -> 12
```

**è¯´æ˜:**

1. ä½ å¯ä»¥å‡è®¾çŸ©é˜µä¸å¯å˜ã€‚
2. ä¼šå¤šæ¬¡è°ƒç”¨ *sumRegion* æ–¹æ³•*ã€‚*
3. ä½ å¯ä»¥å‡è®¾ *row*1 â‰¤ *row*2 ä¸” *col*1 â‰¤ *col*2ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/range-sum-query-2d-immutable/>


#### æ€è·¯  

ã€€ã€€å’Œä¸Šä¸€é¢˜ç±»ä¼¼ï¼Œåœ¨åˆå§‹åŒ–æ—¶å…ˆè®¡ç®—å¥½ä»å·¦ä¸Šè§’åˆ°`[i][j]`çš„çŸ©å½¢å†…æ•°å­—å’Œ`sums[i][j]`ã€‚ä»»æ„çŸ©å½¢é¢ç§¯çš„è®¡ç®—æ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  
ã€€ã€€ã€€<img src="_img/a304.png" style="zoom:20%"/>  

ã€€ã€€ `æ·¡è“è‰²æ¡†å†…çš„æ•°å­—å’Œ`=`æ·±è“è‰²æ¡†å†…çš„æ•°å­—å’Œ`-`ä¸¤ä¸ªæ©™è‰²çŸ©å½¢å†…çš„æ•°å­—å’Œ`+`ä¸¤æ©™è‰²çŸ©å½¢é‡åˆéƒ¨åˆ†çš„æ•°å­—å’Œ`ã€‚  

ã€€ã€€ç”¨å…¬å¼è¡¨ç¤ºä¸ºï¼š`ä¸¤ç‚¹ä¹‹é—´çš„æ•°å­—å’Œ`=`sums[row2][col2] - sums[row1-1][col2] - sums[row2][col1-1] + sums[row1-1][col1-1]`ã€‚  

#### ä»£ç   
```python
class NumMatrix:

    def __init__(self, matrix: List[List[int]]):
        self.m = m = len(matrix)
        if not m: self.sums = []; return
        self.n = n = len(matrix[0])

        self.sums = sums = [[0 for _ in range(n)] for _ in range(m)]
        for i in range(m):
            for j in range(n):
                if i == 0 and 0 == 1:
                    sums[i][j] = matrix[i][j]
                elif i == 0:
                    sums[i][j] = sums[i][j-1] + matrix[i][j]
                elif j == 0:
                    sums[i][j] = sums[i-1][j] + matrix[i][j]
                else:
                    sums[i][j] = sums[i-1][j] + sums[i][j-1] - sums[i-1][j-1] + matrix[i][j]
        # print(sums)

    def sumRegion(self, row1: int, col1: int, row2: int, col2: int) -> int:
        if not self.m: return 0
        row1 = max(0, row1)
        col1 = max(0, col1)
        row2 = min(self.m-1, row2)
        col2 = min(self.n-1, col2)

        sums = self.sums

        if row1 == 0 and col1 == 0: return self.sums[row2][col2]
        if row1 == 0: return sums[row2][col2] - sums[row2][col1-1]
        if col1 == 0: return sums[row2][col2] - sums[row1-1][col2]

        return sums[row2][col2] - sums[row1-1][col2] - sums[row2][col1-1] + sums[row1-1][col1-1]
```

## A309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ *i* ä¸ªå…ƒç´ ä»£è¡¨äº†ç¬¬ *i* å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:

- ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚
- å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [1,2,3,0,2]
è¾“å‡º: 3 
è§£é‡Š: å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/>


#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ï¼ŒåŒé‡è½¬ç§»æ–¹ç¨‹ã€‚  

ã€€ã€€ç”¨ä¸¤ä¸ªæ•°ç»„`dp_0[i]`å’Œ`dp_1[i]`åˆ†åˆ«è¡¨ç¤ºç¬¬`i`å¤©`æ— è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š`å’Œ`æœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š`ã€‚åˆ™æœ‰ä»¥ä¸‹è½¬ç§»æ–¹ç¨‹ï¼š  

```
dp_1[i] = max(dp_1[i-1], dp_0[i-2] - prices[i])  # ä¸è¿›è¡Œæ“ä½œ æˆ–è€…ä¹°å…¥è‚¡ç¥¨(æ³¨æ„å†»ç»“æœŸ)
dp_0[i] = max(dp_0[i-1], prices[i] + dp_1[i-1])  # ä¸è¿›è¡Œæ“ä½œ æˆ–è€…å–å‡ºè‚¡ç¥¨
```

#### ä»£ç   
```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        # dp[i]è¡¨ç¤ºiå¤©ä¹‹å‰å–å‡ºçš„æœ€å¤§åˆ©æ¶¦
        n = len(prices)
        if n <= 1:
            return 0

        dp_0 = [0] * n  # æ— è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
        dp_1 = [0] * n  # æœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š

        dp_1[0] = - prices[0]
        dp_1[1] = - min(prices[0], prices[1])
        dp_0[1] = max(0, prices[1]-prices[0])

        for i in range(2, n):
            if i >= 2:
                dp_1[i] = max(dp_1[i-1], dp_0[i-2] - prices[i])  # ä¿æŒå‰ä¸€å¤©çš„è‚¡ç¥¨ æˆ–è€…ä¹°å…¥è‚¡ç¥¨(æ³¨æ„å†»ç»“æœŸ)
                dp_0[i] = max(dp_0[i-1], prices[i] + dp_1[i-1])
            

        return dp_0[-1]
      
```

## A310. æœ€å°é«˜åº¦æ ‘

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å¯¹äºä¸€ä¸ªå…·æœ‰æ ‘ç‰¹å¾çš„æ— å‘å›¾ï¼Œæˆ‘ä»¬å¯é€‰æ‹©ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹ã€‚å›¾å› æ­¤å¯ä»¥æˆä¸ºæ ‘ï¼Œåœ¨æ‰€æœ‰å¯èƒ½çš„æ ‘ä¸­ï¼Œå…·æœ‰æœ€å°é«˜åº¦çš„æ ‘è¢«ç§°ä¸ºæœ€å°é«˜åº¦æ ‘ã€‚ç»™å‡ºè¿™æ ·çš„ä¸€ä¸ªå›¾ï¼Œå†™å‡ºä¸€ä¸ªå‡½æ•°æ‰¾åˆ°æ‰€æœ‰çš„æœ€å°é«˜åº¦æ ‘å¹¶è¿”å›ä»–ä»¬çš„æ ¹èŠ‚ç‚¹ã€‚

**æ ¼å¼**

è¯¥å›¾åŒ…å« `n` ä¸ªèŠ‚ç‚¹ï¼Œæ ‡è®°ä¸º `0` åˆ° `n - 1`ã€‚ç»™å®šæ•°å­— `n` å’Œä¸€ä¸ªæ— å‘è¾¹ `edges` åˆ—è¡¨ï¼ˆæ¯ä¸€ä¸ªè¾¹éƒ½æ˜¯ä¸€å¯¹æ ‡ç­¾ï¼‰ã€‚

ä½ å¯ä»¥å‡è®¾æ²¡æœ‰é‡å¤çš„è¾¹ä¼šå‡ºç°åœ¨ `edges` ä¸­ã€‚ç”±äºæ‰€æœ‰çš„è¾¹éƒ½æ˜¯æ— å‘è¾¹ï¼Œ `[0, 1]`å’Œ `[1, 0]` æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤ä¸ä¼šåŒæ—¶å‡ºç°åœ¨ `edges` é‡Œã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: n = 4, edges = [[1, 0], [1, 2], [1, 3]]

        0
        |
        1
       / \
      2   3 

è¾“å‡º: [1]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: n = 6, edges = [[0, 3], [1, 3], [2, 3], [4, 3], [5, 4]]

     0  1  2
      \ | /
        3
        |
        4
        |
        5 

è¾“å‡º: [3, 4]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-height-trees/>

#### **æ€è·¯:**

ã€€ã€€æ„å»ºå›¾ï¼Œå¾ªç¯éå†å›¾ï¼Œæ‰¾å‡ºå¶å­èŠ‚ç‚¹ã€‚å»é™¤å¶å­èŠ‚ç‚¹ã€‚ç›´åˆ°å›¾ä¸­èŠ‚ç‚¹åªå‰©ä¸‹2ä¸ªæˆ–1ä¸ªã€‚è¿”å›å‰©ä¸‹çš„èŠ‚ç‚¹ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def findMinHeightTrees(self, n: int, edges: List[List[int]]) -> List[int]:
        if not n:
            return []
        if not edges:
            return list(range(n))

        graph = defaultdict(list)
        for x, y in edges:
            graph[x].append(y)
            graph[y].append(x)

        nodes = set(range(n))
        while True:
            if len(nodes) <= 2:
                return [n for n in nodes]
                
            leaves = []
            for k in graph:
                if len(graph[k]) == 1:
                    leaves.append(k)
                    nodes.remove(k)

            for k in leaves:
                    o = graph[k][0]
                    graph[k].clear()
                    graph[o].remove(k)

```

## A312. æˆ³æ°”çƒ

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

æœ‰ `n` ä¸ªæ°”çƒï¼Œç¼–å·ä¸º`0` åˆ° `n-1`ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„ `nums` ä¸­ã€‚

ç°åœ¨è¦æ±‚ä½ æˆ³ç ´æ‰€æœ‰çš„æ°”çƒã€‚æ¯å½“ä½ æˆ³ç ´ä¸€ä¸ªæ°”çƒ `i` æ—¶ï¼Œä½ å¯ä»¥è·å¾— `nums[left] * nums[i] * nums[right]` ä¸ªç¡¬å¸ã€‚ è¿™é‡Œçš„ `left` å’Œ `right` ä»£è¡¨å’Œ `i` ç›¸é‚»çš„ä¸¤ä¸ªæ°”çƒçš„åºå·ã€‚æ³¨æ„å½“ä½ æˆ³ç ´äº†æ°”çƒ `i` åï¼Œæ°”çƒ `left` å’Œæ°”çƒ `right` å°±å˜æˆäº†ç›¸é‚»çš„æ°”çƒã€‚

æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚

**è¯´æ˜:**

- ä½ å¯ä»¥å‡è®¾ `nums[-1] = nums[n] = 1`ï¼Œä½†æ³¨æ„å®ƒä»¬ä¸æ˜¯çœŸå®å­˜åœ¨çš„æ‰€ä»¥å¹¶ä¸èƒ½è¢«æˆ³ç ´ã€‚
- 0 â‰¤ `n` â‰¤ 500, 0 â‰¤ `nums[i]` â‰¤ 100

> **ç¤ºä¾‹:**

```
è¾“å…¥: [3,1,5,8]
è¾“å‡º: 167 
è§£é‡Š: nums = [3,1,5,8] --> [3,5,8] -->   [3,8]   -->  [8]  --> []
     coins =  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   = 167
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/burst-balloons/>


#### æ€è·¯  

ã€€ã€€è¿™é¢˜ç±»ä¼¼äºçŸ©é˜µè¿ä¹˜ã€‚å…³é”®ç‚¹åœ¨äºå…ˆé€‰å‡º**æœ€åä¸€ä¸ª**æˆ³ç ´çš„æ°”çƒğŸˆï¼Œé€’æ¨å…¬å¼å›¾ä¸‹å›¾æ‰€ç¤ºï¼š

ã€€ã€€<img src="_img/a312.png" style="zoom:40%"/>

ã€€ã€€`dp[i][j]`è¡¨ç¤ºä»¥`i`ã€`j`ä¸¤ä¸ªæ•°ä½œä¸ºå·¦å³ç«¯ç‚¹ï¼ˆä¸æˆ³ç ´`i`å’Œ`j`ï¼‰ï¼Œèƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§å€¼ã€‚`k`ä¸ºæœ€åä¸€ä¸ªæˆ³ç ´çš„æ°”çƒï¼Œæˆ³ç ´`k`èƒ½è·å¾—`1 Ã— nums[k] Ã— 1`ä¸ªç¡¬å¸ã€‚æœ€åä¸€ä¸ªæˆ³ç ´`k`æ—¶ï¼Œèƒ½è·å¾—çš„æœ€å¤§ç¡¬å¸æ•°ä¸ºï¼š  

```
max_coin_k = 1 * nums[k] * 1 + dp(i,k) + dp(k,j)
```

ã€€ã€€é€’å½’åœ°è®¡ç®—`dp(i,k)`å’Œ`dp(k,j)`ï¼Œæ‰¾åˆ°å€’æ•°ç¬¬äºŒä¸ªè¢«æˆ³ç ´çš„æ°”çƒã€‚ã€‚ä»¥æ­¤ç±»æ¨ã€‚  

#### ä»£ç   
```python
class Solution:
    def maxCoins(self, nums: List[int]) -> int:
        n = len(nums)
        if n == 0: return 0
        nums = [1] + nums + [1]

        from functools import lru_cache
        @lru_cache(None)
        def dp(i, j):
            if j - i == 1: return 0
            ans = 0
            for k in range(i+1, j):  # ä¸åŒ…æ‹¬iå’Œj
                ans = max(ans, nums[i] * nums[j] * nums[k] + dp(i,k) + dp(k,j)) 
            return ans

        return dp(0, n+1)
      
```

## A313. è¶…çº§ä¸‘æ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€æ®µç¨‹åºæ¥æŸ¥æ‰¾ç¬¬ `*n*` ä¸ªè¶…çº§ä¸‘æ•°ã€‚

è¶…çº§ä¸‘æ•°æ˜¯æŒ‡å…¶æ‰€æœ‰è´¨å› æ•°éƒ½æ˜¯é•¿åº¦ä¸º `k` çš„è´¨æ•°åˆ—è¡¨ `primes` ä¸­çš„æ­£æ•´æ•°ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: n = 12, primes = [2,7,13,19]
è¾“å‡º: 32 
è§£é‡Š: ç»™å®šé•¿åº¦ä¸º 4 çš„è´¨æ•°åˆ—è¡¨ primes = [2,7,13,19]ï¼Œå‰ 12 ä¸ªè¶…çº§ä¸‘æ•°åºåˆ—ä¸ºï¼š[1,2,4,7,8,13,14,16,19,26,28,32] ã€‚
```

**è¯´æ˜:**

- `1` æ˜¯ä»»ä½•ç»™å®š `primes` çš„è¶…çº§ä¸‘æ•°ã€‚
- ç»™å®š `primes` ä¸­çš„æ•°å­—ä»¥å‡åºæ’åˆ—ã€‚
- 0 < `k` â‰¤ 100, 0 < `n` â‰¤ 106, 0 < `primes[i]` < 1000 ã€‚
- ç¬¬ `n` ä¸ªè¶…çº§ä¸‘æ•°ç¡®ä¿åœ¨ 32 ä½æœ‰ç¬¦æ•´æ•°èŒƒå›´å†…ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/super-ugly-number/>

#### **æ€è·¯:**

ã€€ã€€æœ€å°å †ã€‚æ¯æ¬¡å–å‡ºæœ€å°çš„å…ƒç´ ï¼Œä¹˜ä»¥æ‰€æœ‰çš„ç´ æ•°ç„¶åæ”¾å›å †ä¸­ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def nthSuperUglyNumber(self, n: int, primes: List[int]) -> int:
        heap = primes.copy()
        shown = set(heap)
        heapify(heap)
        ans = 1
        for _ in range(n-1):
            ans = top = heappop(heap)
            shown.remove(top)
            for prime in primes:
                c = top * prime
                if c not in shown:
                    shown.add(c)
                    heappush(heap, c)

        return ans

```

## A315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ *nums* ï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ *counts* ã€‚æ•°ç»„ *counts* æœ‰è¯¥æ€§è´¨ï¼š `counts[i]` çš„å€¼æ˜¯  `nums[i]` å³ä¾§å°äº `nums[i]` çš„å…ƒç´ çš„æ•°é‡ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: [5,2,6,1]
è¾“å‡º: [2,1,1,0] 
è§£é‡Š:
5 çš„å³ä¾§æœ‰ 2 ä¸ªæ›´å°çš„å…ƒç´  (2 å’Œ 1).
2 çš„å³ä¾§ä»…æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1).
6 çš„å³ä¾§æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1).
1 çš„å³ä¾§æœ‰ 0 ä¸ªæ›´å°çš„å…ƒç´ .
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/count-of-smaller-numbers-after-self/>

#### **æ€è·¯:**

ã€€ã€€ç»´æŠ¤ä¸€ä¸ªå‡åºæ•°ç»„ï¼Œ**ä»å³å¾€å·¦**éå†`nums`ï¼ŒæŸ¥æ‰¾`nums[i]`åœ¨å‡åºæ•°ç»„ä¸­çš„ä½ç½®ï¼ˆå¹¶æ’å…¥ï¼‰å°±æ˜¯`counts[i]`ã€‚  

ã€€ã€€äºŒåˆ†æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦`O(logn)`ï¼Œæ’å…¥æ“ä½œ`O(n)`ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º`O(n^2 + nlogn)`ã€‚

#### **ä»£ç :**

```python
class Solution:
    def countSmaller(self, nums: List[int]) -> List[int]:
        n = len(nums)
        if not n: return []
        temp = [nums[-1]]
        ans = [0 for i in range(n)]

        for i in range(n-2, -1, -1):
            num = nums[i]
            idx = bisect.bisect_left(temp, num)
            ans[i] = idx
            bisect.insort(temp, num)

        return ans

```

## A316. å»é™¤é‡å¤å­—æ¯

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªä»…åŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œè¯·ä½ å»é™¤å­—ç¬¦ä¸²ä¸­é‡å¤çš„å­—æ¯ï¼Œä½¿å¾—æ¯ä¸ªå­—æ¯åªå‡ºç°ä¸€æ¬¡ã€‚éœ€ä¿è¯è¿”å›ç»“æœçš„å­—å…¸åºæœ€å°ï¼ˆè¦æ±‚ä¸èƒ½æ‰“ä¹±å…¶ä»–å­—ç¬¦çš„ç›¸å¯¹ä½ç½®ï¼‰ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "bcabc"
è¾“å‡º: "abc"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "cbacdcbc"
è¾“å‡º: "acdb"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-duplicate-letters/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**é€’å½’ï¼Œå‡è®¾`s`ä¸­æœ€å°çš„å­—æ¯æ˜¯`"a"`ï¼Œå…ˆçœ‹ç¬¬ä¸€ä¸ª`"a"`å³è¾¹æ˜¯ä¸æ˜¯æ‰€æœ‰å…¶ä»–çš„å­—æ¯éƒ½æœ‰ï¼Œå¦‚æœéƒ½æœ‰ï¼ŒæŠŠå³è¾¹çš„éƒ¨åˆ†ä¸­çš„`"a"`å»æ‰ï¼Œç„¶åé€’å½’åœ°è°ƒç”¨æœ¬ç®—æ³•ã€‚  

ã€€ã€€å¦‚æœå³è¾¹ä¸æ˜¯æ‰€æœ‰çš„å­—æ¯éƒ½æœ‰ï¼Œåˆ™ç»§ç»­æŸ¥æ‰¾ç¬¬äºŒå°çš„å­—æ¯ã€‚  

ã€€ã€€ä¾‹å¦‚ç¤ºä¾‹2çš„é€’å½’è¿‡ç¨‹å¦‚ä¸‹ï¼š  

```python
â‘  æœ€å°çš„æ˜¯"a"ï¼Œ"a"çš„å³è¾¹æ‰€æœ‰å­—æ¯éƒ½æœ‰, ans = "a"ï¼Œé€’å½’å¤„ç†"cdcbc"ï¼›
â‘¡ æœ€å°çš„æ˜¯"b"ï¼Œ"b"çš„å³è¾¹æ²¡æœ‰"d"ï¼Œç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªï¼›
    ä¸‹ä¸€ä¸ªæœ€å°çš„æ˜¯"c"ï¼Œ"c"çš„å³è¾¹æ‰€æœ‰å­—æ¯éƒ½æœ‰ï¼Œans = "ac"ï¼Œ é€’å½’å¤„ç†"db"ï¼›
â‘¢ æœ€å°çš„æ˜¯"b"ï¼Œ"b"çš„å³è¾¹æ²¡æœ‰"d"ï¼Œç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªï¼›
    ä¸‹ä¸€ä¸ªæœ€å°çš„æ˜¯"d"ï¼Œ"b"çš„å³è¾¹æ‰€æœ‰å­—æ¯éƒ½æœ‰ï¼Œans = "acd"ï¼Œ é€’å½’å¤„ç†"b"ï¼›
â‘£ åªå‰©ä¸€ä¸ªå­—æ¯äº†ï¼Œè¿”å›"b"ï¼Œans = "acdb"ï¼›

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**å•è°ƒæ ˆï¼Œæ€è·¯å°±æ˜¯ï¼Œé‡åˆ°ä¸€ä¸ªæ–°å­—ç¬¦ï¼Œå¦‚æœæ¯”`æ ˆé¡¶`å°ï¼Œå¹¶ä¸”åœ¨åé¢å’Œ`æ ˆé¡¶`ä¸€æ ·çš„å­—æ¯è¿˜æœ‰ï¼Œå°±æŠŠæ ˆé¡¶çš„å­—ç¬¦æŠ›å¼ƒäº†ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**é€’å½’(68ms)

```python
import string
class Solution:        
    def removeDuplicateLetters(self, s: str) -> str:
        all_letters = set(s)
        minimal_letters = sorted(list(all_letters))

        # å…ˆæ‰¾a çœ‹aå³è¾¹æ˜¯ä¸æ˜¯æ‰€æœ‰å­—æ¯éƒ½æœ‰ï¼Œå†æ‰¾b
        for char in minimal_letters:
            idx = s.find(char)
            if set(s[idx:]) == all_letters:
                return char + self.removeDuplicateLetters(s[idx:].replace(char, ''))

        return ''

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**å•è°ƒæ ˆ(44ms)

```python
import string
class Solution:        
    def removeDuplicateLetters(self, s: str) -> str:
        used = set()
        
        stack = ['#']  # äº•å·çš„asciiç å°äºæ‰€æœ‰å°å†™å­—æ¯

        ans = ''
        for i, char in enumerate(s):
            if char not in used:
                while char < stack[-1] and s.find(stack[-1], i+1) != -1 :  # æ¯”æ ˆé¡¶å°
                    top = stack.pop()
                    used.remove(top)

                stack.append(char)
                used.add(char)

        return ''.join(stack[1:])  # æœ€åå°†æ ˆä¸­çš„å…ƒç´ æŒ‰é¡ºåºè¾“å‡ºå°±æ˜¯ç­”æ¡ˆ
                
```

## A318. æœ€å¤§å•è¯é•¿åº¦ä¹˜ç§¯

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `words`ï¼Œæ‰¾åˆ° `length(word[i]) * length(word[j])` çš„æœ€å¤§å€¼ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªå•è¯ä¸å«æœ‰å…¬å…±å­—æ¯ã€‚ä½ å¯ä»¥è®¤ä¸ºæ¯ä¸ªå•è¯åªåŒ…å«å°å†™å­—æ¯ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªå•è¯ï¼Œè¿”å› 0ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: ["abcw","baz","foo","bar","xtfn","abcdef"]
è¾“å‡º: 16 
è§£é‡Š: è¿™ä¸¤ä¸ªå•è¯ä¸º "abcw", "xtfn"ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: ["a","ab","abc","d","cd","bcd","abcd"]
è¾“å‡º: 4 
è§£é‡Š: è¿™ä¸¤ä¸ªå•è¯ä¸º "ab", "cd"ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: ["a","aa","aaa","aaaa"]
è¾“å‡º: 0 
è§£é‡Š: ä¸å­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªå•è¯ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximum-product-of-word-lengths/>

#### **æ€è·¯:**

ã€€ã€€ä½¿ç”¨äºŒè¿›åˆ¶è¿›è¡ŒçŠ¶æ€å‹ç¼©ã€‚26ä¸ªå°å†™å­—æ¯å¯ä»¥ç”¨ä¸€ä¸ªå°äº`2^26`çš„æ•´æ•°æ¥è¡¨ç¤ºã€‚å‡ºç°è¿‡çš„å­—æ¯å¯¹åº”ä½ä¸Šç½®1ï¼Œæ²¡å‡ºç°è¿‡çš„ç½®ä¸º0ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def maxProduct(self, words: List[str]) -> int:
        ans = 0

        hashes = []

        for word in words:
            hash = 0
            for letter in set(word):
                pos = ord(letter) - 97
                hash += 1 << pos

            hashes.append(hash)

        for i, word1 in enumerate(words):
            for j, word2 in enumerate(words):
                if hashes[i] & hashes[j] == 0:
                    ans = max(ans, len(word1) * len(word2))

        return ans
```

## A321. æ‹¼æ¥æœ€å¤§æ•°

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šé•¿åº¦åˆ†åˆ«ä¸º `m` å’Œ `n` çš„ä¸¤ä¸ªæ•°ç»„ï¼Œå…¶å…ƒç´ ç”± `0-9` æ„æˆï¼Œè¡¨ç¤ºä¸¤ä¸ªè‡ªç„¶æ•°å„ä½ä¸Šçš„æ•°å­—ã€‚ç°åœ¨ä»è¿™ä¸¤ä¸ªæ•°ç»„ä¸­é€‰å‡º `k (k <= m + n)` ä¸ªæ•°å­—æ‹¼æ¥æˆä¸€ä¸ªæ–°çš„æ•°ï¼Œè¦æ±‚ä»åŒä¸€ä¸ªæ•°ç»„ä¸­å–å‡ºçš„æ•°å­—ä¿æŒå…¶åœ¨åŸæ•°ç»„ä¸­çš„ç›¸å¯¹é¡ºåºã€‚

æ±‚æ»¡è¶³è¯¥æ¡ä»¶çš„æœ€å¤§æ•°ã€‚ç»“æœè¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥æœ€å¤§æ•°çš„é•¿åº¦ä¸º `k` çš„æ•°ç»„ã€‚

**è¯´æ˜:** è¯·å°½å¯èƒ½åœ°ä¼˜åŒ–ä½ ç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
nums1 = [3, 4, 6, 5]
nums2 = [9, 1, 2, 5, 8, 3]
k = 5
è¾“å‡º:
[9, 8, 6, 5, 3]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
nums1 = [6, 7]
nums2 = [6, 0, 4]
k = 5
è¾“å‡º:
[6, 7, 6, 0, 4]
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥:
nums1 = [3, 9]
nums2 = [8, 9]
k = 3
è¾“å‡º:
[9, 8, 9]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/create-maximum-number/>


#### æ€è·¯  

ã€€ã€€æˆ‘ä»¬å¯ä»¥å–`nums1`çš„å¯ä»¥å½¢æˆ **i** ä½æœ€å¤§æ•°å­—ï¼Œ`nums2`çš„ **k - i** ä½æœ€å¤§æ•°å­—ï¼Œå®ƒä»¬å†**åˆå¹¶**ç»„æˆæ•°å­—å°±æ˜¯æœ€å¤§çš„ã€‚  

ã€€ã€€æ‰¾`nums1`èƒ½ç»„æˆçš„ **i** ä½æœ€å¤§æ•°å­—ï¼Œä½¿ç”¨é€’å½’çš„æ–¹å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€ã€€<img src="_img/a321.png" style="zoom:45%"/>

ã€€ã€€åœ¨æ¯è½®é€’å½’ä¸­ï¼Œéƒ½å…ˆæ‰¾åˆ°`æœ€å¤§æ•°`çš„ä¸‹æ ‡ï¼Œç„¶åå¯¹`å³è¾¹é€’å½’`ï¼Œæœ€åå¯¹`å·¦è¾¹é€’å½’`ã€‚  

ã€€ã€€å¦‚ä¸Šå›¾æœç´¢çš„æœ€ç»ˆç»“æœä¸ºï¼š

```
æ•°å­—  ä¸‹æ ‡
8:    3
3:    4
2:    5
7:    0
5:    2
1:    1
```

ã€€ã€€`nums1`èƒ½ç»„æˆçš„ **i** ä½æœ€å¤§æ•°å­—ï¼Œå–å‰ **i** ä¸ªä¸‹æ ‡ï¼Œæ’åºååˆ°`nums1`ä¸­ä¾æ¬¡ç´¢å¼•å³å¯ã€‚  

ã€€ã€€å¦‚ä¸Šå›¾èƒ½ç»„æˆçš„æœ€å¤§ 4 ä½æ•°å­—ï¼Œå–ä¸‹æ ‡çš„å‰ 4 ä¸ª`[3, 4, 5, 0]`ï¼Œæ’åºåä¸º`[0, 3, 4, 5]`ï¼Œä¹Ÿå°±æ˜¯`nums`ä¸­çš„`"7832"`ã€‚  

ã€€ã€€  

ã€€ã€€**åˆå¹¶ä¸¤æ•°ç»„**çš„ç®—æ³•ï¼š  

ã€€ã€€æ¯”è¾ƒå®ƒä»¬çš„**å‰ç¼€å¤§å°**ï¼Œæ¯æ¬¡éƒ½åˆ°å‰ç¼€å¤§çš„æ•°ç»„ä¸­å–ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œè¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š

```
ç¬¬1æ­¥: "7832" < "791"  ï¼Œ å–nums2, result = "7"
ç¬¬2æ­¥: "7832" < "91"  ï¼Œ å–nums2, result = "79"
ç¬¬3æ­¥: "7832" > "1"  ï¼Œ å–nums1, result = "797"
ç¬¬4æ­¥: "832" > "1"  ï¼Œ å–nums1, result = "7978"
ç¬¬5æ­¥: "32" > "1"  ï¼Œ å–nums1, result = "79783"
ç¬¬6æ­¥: "2" > "1"  ï¼Œ å–nums1, result = "797832"
ç¬¬7æ­¥: "" < "1"  ï¼Œ å–nums2, result = "7978321"

```

#### ä»£ç   
```python
class Solution:
    def maxNumber(self, nums1: List[int], nums2: List[int], k: int) -> List[int]:
        l1 = len(nums1)
        l2 = len(nums2)
        if k == 0: return []

        def dfs(nums, i, j, put_in):  # é€’å½’
            if j <= i: return
            max_id = i + nums[i: j].index(max(nums[i: j]))  # æ‰¾åˆ°i,jä¹‹é—´æœ€å¤§å…ƒç´ çš„ä¸‹æ ‡
            put_in.append(max_id)

            dfs(nums, max_id + 1, j, put_in)
            dfs(nums, i, max_id, put_in)

        m1 = []; dfs(nums1, 0, l1, m1)
        m2 = []; dfs(nums2, 0, l2, m2)

        def merge(s1, s2):  # merge('67', '604') = '67604'
            i, j = 0, 0
            ans = ''
            while i < len(s1) or j < len(s2):
                if s1[i:] > s2[j:]: ans += s1[i]; i += 1
                else: ans += s2[j]; j += 1

            return ans

        s1 = ['' for _ in range(l1)]
        ans = 0
        for i in range(max(0, k-l2), min(k, l1)+1):  # nums1 æœ€å°‘~æœ€å¤šå–å‡ ä¸ª
            # nums1 å–iä½èƒ½ç»„æˆçš„æœ€å¤§æ•°(å­—ç¬¦ä¸²å½¢å¼))ï¼š
            # å°†ä¸‹æ ‡æ•°ç»„ m çš„å‰ i ä½æ’åºåä¾æ¬¡åˆ°numsä¸­ç´¢å¼•
            s1 = ''.join(map(str, map(nums1.__getitem__, sorted([idx for idx in m1[:i]])))) 
            j = k - i
            s2 = ''.join(map(str, map(nums2.__getitem__, sorted([idx for idx in m2[:j]]))))
            ans = max(ans, int(merge(s1, s2)))

        return list(map(int ,list(str(ans))))


```

## A322. é›¶é’±å…‘æ¢

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› `-1`ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: coins = [1, 2, 5], amount = 11
è¾“å‡º: 3 
è§£é‡Š: 11 = 5 + 5 + 1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: coins = [2], amount = 3
è¾“å‡º: -1
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/coin-change/>


#### æ€è·¯  

ã€€ã€€èƒŒåŒ…ğŸ’é—®é¢˜ã€‚  

ã€€ã€€å¦‚æœ**æ‰€æœ‰**`amount - coins[i]`æ‰€éœ€çš„æœ€å°‘ç¡¬å¸ä¸ªæ•°éƒ½å·²çŸ¥ï¼Œé‚£ä¹ˆ`å®ƒä»¬ä¹‹ä¸­çš„æœ€å°å€¼` + 1 å°±æ˜¯`amount`æ‰€éœ€çš„æœ€å°‘ç¡¬å¸ä¸ªæ•°ã€‚

#### ä»£ç   

ã€€ã€€å†™æ³•ä¸€ï¼š  

```python
class Solution:
    def coinChange(self, coins: List[int], amount: int) -> int:
        ans = [-1 for i in range(amount + 1)]
        ans[0] = 0

        for i in range(1, amount+1):
            minimal = float('inf')
            if ans[i] == -1:
                for coin in coins:
                    left = i - coin
                    if left >= 0:
                        if ans[left] != -1:
                            minimal = min(minimal, ans[left] + 1)

                minimal = -1 if minimal == float('inf') else minimal

                ans[i] = minimal

        return ans[amount]
```

ã€€ã€€å†™æ³•äºŒï¼š

```python
class Solution:
    def coinChange(self, coins: List[int], amount: int) -> int:
        inf = float('inf')
        dp = [inf for i in range(amount + 1)]
        dp[0] = 0

        for i in range(1, amount+1):
            all_i_use_coins = [dp[i - coin] for coin in filter(lambda x: x <= i, coins)] + [inf]  # åŠ ä¸€ä¸ªinf é˜²æ­¢ä¸ºç©º
            dp[i] = min(all_i_use_coins) + 1

        if dp[amount] == inf: return -1
        return dp[amount]
```

ã€€## A324. æ‘†åŠ¨æ’åº II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ `nums`ï¼Œå°†å®ƒé‡æ–°æ’åˆ—æˆ `nums[0] < nums[1] > nums[2] < nums[3]...` çš„é¡ºåºã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1, 5, 1, 1, 6, 4]
è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [1, 4, 1, 5, 1, 6]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1, 3, 2, 2, 3, 1]
è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [2, 3, 1, 3, 1, 2]
```

**è¯´æ˜:**
ä½ å¯ä»¥å‡è®¾æ‰€æœ‰è¾“å…¥éƒ½ä¼šå¾—åˆ°æœ‰æ•ˆçš„ç»“æœã€‚

**è¿›é˜¶:**
ä½ èƒ½ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ / æˆ–åŸåœ° O(1) é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/wiggle-sort-ii/>

#### **æ€è·¯:**


ã€€ã€€é™åºæ’åºä»¥åç©¿æ’å–æ•°å­—å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def wiggleSort(self, nums):
        """
        :type nums: List[int]
        :rtype: void Do not return anything, modify nums in-place instead.
        """
        nums.sort(reverse=True)
        nums[::2], nums[1::2] = nums[len(nums)//2:], nums[:len(nums)//2]

```

## A327. åŒºé—´å’Œçš„ä¸ªæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¿”å›åŒºé—´å’Œåœ¨ `[lower, upper]` ä¹‹é—´çš„ä¸ªæ•°ï¼ŒåŒ…å« `lower` å’Œ `upper`ã€‚
åŒºé—´å’Œ `S(i, j)` è¡¨ç¤ºåœ¨ `nums` ä¸­ï¼Œä½ç½®ä» `i` åˆ° `j` çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒ…å« `i` å’Œ `j` (`i` â‰¤ `j`)ã€‚

**è¯´æ˜:**
æœ€ç›´è§‚çš„ç®—æ³•å¤æ‚åº¦æ˜¯ *O*(*n*2) ï¼Œè¯·åœ¨æ­¤åŸºç¡€ä¸Šä¼˜åŒ–ä½ çš„ç®—æ³•ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: nums = [-2,5,-1], lower = -2, upper = 2,
è¾“å‡º: 3 
è§£é‡Š: 3ä¸ªåŒºé—´åˆ†åˆ«æ˜¯: [0,0], [2,2], [0,2]ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å’Œåˆ†åˆ«ä¸º: -2, -1, 2ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/count-of-range-sum/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(å‰ç¼€å’Œ+äºŒåˆ†)ï¼Œå…ˆè®¡ç®—å‰né¡¹å’Œ`accum(n)`ï¼Œç»´æŠ¤ä¸€ä¸ªå‡åºæ•°ç»„`Asc`å°†å…¶ä¾æ¬¡æ’å…¥ã€‚  

ã€€ã€€é¢˜ç›®è¦æ±‚çš„è¿ç»­åŒºé—´è½åœ¨`lower`å’Œ`upper`ä¹‹é—´ï¼Œå®é™…ä¸Šå°±æ˜¯æ±‚`å‰né¡¹å’Œ`ä¹‹å·®è½åœ¨`lower`å’Œ`upper`ä¹‹é—´çš„ä¸ªæ•°ã€‚  

ã€€ã€€æ’å…¥`accum(n)`æ—¶ï¼Œ`Asc`ä¸­å·²ç»å­˜æ”¾ç€å‰`1~(n-1)`é¡¹å’Œ(è€Œä¸”æ˜¯å‡åºçš„)ï¼Œç›®æ ‡æ˜¯æ‰¾åˆ°å…¶ä¸­æœ‰å‡ é¡¹ä¸`accum(n)`çš„å·®è½åœ¨`lower`å’Œ`upper`ä¹‹é—´ã€‚åªè¦åˆ†åˆ«(ç”¨äºŒåˆ†æ³•)æŸ¥æ‰¾`accum(n) - upper`å’Œ`accum(n) - lower`åœ¨`Asc`ä¸­çš„ä½ç½®ï¼Œå®ƒä»¬çš„ä¸‹æ ‡å·®å°±æ˜¯æ»¡è¶³æ¡ä»¶çš„ä¸ªæ•°ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**æƒå€¼çº¿æ®µæ ‘ã€‚pythonå®ç°èµ·æ¥è€—æ—¶æ¯”æ–¹æ³•ä¸€æ›´é•¿ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(å‰ç¼€å’Œ+äºŒåˆ†)

```python
import bisect

class Solution:
    def countRangeSum(self, nums: List[int], lower: int, upper: int) -> int:
        n = len(nums)
        if not n: return 0

        ans = 0
        asc = [0]
        temp = 0
        accum = []
        for num in nums:
            temp += num
            accum.append(temp)

        for sum_wnd in accum:
            i = bisect.bisect_left(asc, sum_wnd - upper)  # æŸ¥æ‰¾åº”è¯¥æ’å…¥çš„ä½ç½®
            j = bisect.bisect(asc, sum_wnd - lower)
            bisect.insort(asc, sum_wnd)  # æ’å…¥
            ans += j - i

        return ans
```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(æƒå€¼çº¿æ®µæ ‘)

```python
import bisect
class Solution:
    def countRangeSum(self, nums: List[int], lower: int, upper: int) -> int:
        n = len(nums)
        if not n: return 0
        tree = [0 for _ in range(n+1)]

        ans = 0
        temp = 0
        prefix = []  # å‰ç¼€å’Œ
        for num in nums:
            temp += num
            prefix.append(temp)

        asc = sorted(prefix)  # å‡åºçš„å‰ç¼€å’Œ
        dic = {num :i+1 for i, num in enumerate(asc)}
        rank = [dic[num] for num in prefix]  # å¯¹åº”çš„æ¬¡åº

        # ======çº¿æ®µæ ‘çš„ä¸‰ä¸ªå‡½æ•°=======
        def lowbit(x):
            return x & (-x)

        def getsum(pos):
            sum = 0
            while pos:
                sum += tree[pos]
                pos -= lowbit(pos)
            return sum

        def update(pos):
            while pos < len(tree):
                tree[pos] += 1
                pos += lowbit(pos)
        # ======çº¿æ®µæ ‘çš„ä¸‰ä¸ªå‡½æ•°=======

        for i in range(n):
            if lower <= prefix[i] <= upper: ans += 1
            l = bisect.bisect_left(asc, prefix[i] - upper)  # æŸ¥æ‰¾åº”è¯¥æ’å…¥çš„ä½ç½®
            r = bisect.bisect(asc, prefix[i] - lower)
            ans += getsum(r) - getsum(l);
            update(rank[i])

        return ans

```

## A329. çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºæœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚

å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä½ ä¸èƒ½åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ°è¾¹ç•Œå¤–ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = 
[
  [9,9,4],
  [6,6,8],
  [2,1,1]
] 
è¾“å‡º: 4 
è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„ä¸º [1, 2, 6, 9]ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = 
[
  [3,4,5],
  [3,2,6],
  [2,2,1]
] 
è¾“å‡º: 4 
è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„æ˜¯ [3, 4, 5, 6]ã€‚æ³¨æ„ä¸å…è®¸åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-increasing-path-in-a-matrix/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**dfsè®°å¿†åŒ–æœç´¢ã€‚å…ˆä»çŸ©é˜µä¸­æ‰¾åˆ°æ‰€æœ‰**å››å‘¨å…ƒç´ éƒ½ä¸æ¯”è‡ªå·±å°**çš„å…ƒç´ ä½œä¸ºèµ·ç‚¹ï¼Œä»å®ƒä»¬å¼€å§‹dfsã€‚ç”¨æ•°ç»„`dp[i][j]`è®°å½•ä»å¼€å§‹ä½ç½®åˆ°æŸä¸ªä½ç½®çš„æœ€é•¿è·¯å¾„ï¼Œå¦‚æœæŸä¸ªå…ƒç´ ä¸èƒ½ä½¿å‘¨å›´å…ƒç´ çš„`dp`å˜å¤§ï¼Œå°±ä¸å†ç»§ç»­å¾€ä¸‹æœç´¢äº†ï¼Œèµ·åˆ°å‰ªæçš„æ•ˆæœã€‚  ã€€ã€€

ã€€ã€€**æ–¹æ³•äºŒï¼š**åŠ¨æ€è§„åˆ’ã€‚å…ˆé¢„å¤„ç†ï¼Œå¯¹çŸ©é˜µçš„å€¼æŒ‰ä»å°åˆ°å¤§æ’åºï¼ŒæŒ‰å¤§å°é¡ºåºæ‰èƒ½ä¿è¯ä¾èµ–çš„å­é—®é¢˜éƒ½æ±‚è§£è¿‡äº†ã€‚

ã€€ã€€`dp[i][j]`è¡¨ç¤ºä»¥`matrix[i][j]`ç»“å°¾çš„æœ€é•¿é€’å¢é•¿åº¦ã€‚

- åˆå§‹`dp[i][j]`éƒ½ç­‰äº1ï¼›  
- è‹¥`matrix[i][j]`å››ä¸ªæ–¹å‘æœ‰ä»»æ„å°äºå®ƒï¼Œåˆ™å¯ä»¥æ›´æ–°`dp[i][j] = max(dp[i][j], 1 + dp[r][c])`ã€‚  

#### **ä»£ç :**  

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**dfsè®°å¿†åŒ–æœç´¢ (1036 ms)  

```python
class Solution:
    def longestIncreasingPath(self, matrix: List[List[int]]) -> int:
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]  # ä¸Šä¸‹å·¦å³
        # matrix = grid = board
        m = len(matrix)
        if not m: return 0
        n = len(matrix[0])
        dp = [[1 for _ in range(n)] for _ in range(m)]
        visited = [[False for _ in range(n)] for _ in range(m)]
        ans = 0

        def dfs(i, j, depth, from_num):
            nonlocal ans
            if i < 0 or j < 0 or i >= m or j >= n:  # è¾¹ç•Œ
                return

            if visited[i][j] or matrix[i][j] <= from_num:  # ä¸èƒ½èµ°
                return

            visited[i][j] = True
            depth += 1
            ans = max(ans, depth)
            dp[i][j] = depth

            temp = []
            for di, dj in arounds:
                x, y = i + di, j+ dj
                if x < 0 or y < 0 or x >= m or y >= n or visited[x][y]:
                    continue
                if dp[x][y] < depth + 1:  # æ— æ³•æ›´ä¼˜å°±ä¸æœç´¢äº†
                    temp.append((matrix[x][y] - matrix[i][j], x, y))

            temp.sort()  # ä»ç›¸é‚»çš„æ•°å­—ä¸­å°çš„å¼€å§‹æœç´¢
            for _, x, y in temp:
                dfs(x, y, depth, matrix[i][j])

            visited[i][j] = False

        def get(i, j):
            if i < 0 or j < 0 or i >= m or j >= n:  # è¾¹ç•Œ
                return float('inf')
            return matrix[i][j]

        for i in range(m):
            for j in range(n):
                num = matrix[i][j]
                if all([get(i + di, j + dj) >= num for di, dj in arounds]):  # å››å‘¨æ²¡æœ‰æ›´å°çš„æ•°
                    dfs(i, j, 0, float('-inf'))

        return ans
```

ã€€ã€€**æ–¹æ³•äºŒï¼š**åŠ¨æ€è§„åˆ’ (516ms)

```python
class Solution(object):
    def longestIncreasingPath(self, matrix):
        if not matrix or not matrix[0]:
            return 0
        m, n = len(matrix), len(matrix[0])
        lst = []
        for i in range(m):
            for j in range(n):
                lst.append((matrix[i][j], i, j))
        lst.sort()
        dp = [[0 for _ in range(n)] for _ in range(m)]
        for num, i, j in lst:
            dp[i][j] = 1
            for di, dj in [(0, 1), (1, 0), (0, -1), (-1, 0)]:
                r, c = i + di, j + dj
                if 0 <= r < m and 0 <= c < n:
                    if matrix[i][j] > matrix[r][c]:
                        dp[i][j] = max(dp[i][j], 1 + dp[r][c])
        return max([dp[i][j] for i in range(m) for j in range(n)])
      
```

## A330. æŒ‰è¦æ±‚è¡¥é½æ•°ç»„

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå·²æ’åºçš„æ­£æ•´æ•°æ•°ç»„ *numsï¼Œ* å’Œä¸€ä¸ªæ­£æ•´æ•° *n ã€‚* ä» `[1, n]` åŒºé—´å†…é€‰å–ä»»æ„ä¸ªæ•°å­—è¡¥å……åˆ° *nums* ä¸­ï¼Œä½¿å¾— `[1, n]` åŒºé—´å†…çš„ä»»ä½•æ•°å­—éƒ½å¯ä»¥ç”¨ *nums* ä¸­æŸå‡ ä¸ªæ•°å­—çš„å’Œæ¥è¡¨ç¤ºã€‚è¯·è¾“å‡ºæ»¡è¶³ä¸Šè¿°è¦æ±‚çš„æœ€å°‘éœ€è¦è¡¥å……çš„æ•°å­—ä¸ªæ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,3], n = 6
è¾“å‡º: 1 
è§£é‡Š:
æ ¹æ® nums é‡Œç°æœ‰çš„ç»„åˆ [1], [3], [1,3]ï¼Œå¯ä»¥å¾—å‡º 1, 3, 4ã€‚
ç°åœ¨å¦‚æœæˆ‘ä»¬å°† 2 æ·»åŠ åˆ° nums ä¸­ï¼Œ ç»„åˆå˜ä¸º: [1], [2], [3], [1,3], [2,3], [1,2,3]ã€‚
å…¶å’Œå¯ä»¥è¡¨ç¤ºæ•°å­— 1, 2, 3, 4, 5, 6ï¼Œèƒ½å¤Ÿè¦†ç›– [1, 6] åŒºé—´é‡Œæ‰€æœ‰çš„æ•°ã€‚
æ‰€ä»¥æˆ‘ä»¬æœ€å°‘éœ€è¦æ·»åŠ ä¸€ä¸ªæ•°å­—ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1,5,10], n = 20
è¾“å‡º: 2
è§£é‡Š: æˆ‘ä»¬éœ€è¦æ·»åŠ  [2, 4]ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: nums = [1,2,2], n = 5
è¾“å‡º: 0
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/patching-array/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**è®°å½•æ‰€æœ‰æ±‚å’Œå¯ä»¥å¾—åˆ°çš„æ•°å­—ï¼Œéå†1~nï¼Œå¦‚æœæŸä¸ªæ•°å­—æ— æ³•å¾—åˆ°ï¼Œå°±è¡¥ä¸Šè¿™ä¸ªæ•°å­—ï¼Œå¹¶é‡æ–°è®¡ç®—æ‰€æœ‰å¯ä»¥å¾—åˆ°çš„æ•°å­—ã€‚(è¶…æ—¶)  ã€€ã€€

ã€€ã€€**æ–¹æ³•äºŒï¼š**ç”¨ä¸€ä¸ªå˜é‡`fit_max`è¡¨ç¤ºå½“å‰æ±‚å’Œå¯ä»¥å¾—åˆ°çš„æœ€å¤§æ•°å­—ï¼Œ( `[1, fit_max]`ä¹‹é—´çš„æ‰€æœ‰æ•°å­—éƒ½å¯ä»¥å¾—åˆ°)ã€‚  

ã€€ã€€â‘  å¦‚æœ`nums`ä¸­æœ‰**æœªä½¿ç”¨è¿‡**çš„æ•°å­—`num`ï¼Œå¹¶ä¸”å®ƒå°äºç­‰äº`fit_max + 1`ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ä¸Šå®ƒï¼Œ`fit_max = fit_max + num`ï¼›  

ã€€ã€€â‘¡ å¦‚æœ`nums`ä¸­çš„æ•°å­—éƒ½å·²ç»ç”¨è¿‡äº†ï¼Œæˆ–è€…æ²¡ç”¨è¿‡çš„å‡å¤§äº`fit_max + 1`ï¼Œé‚£ä¹ˆåªèƒ½è¡¥ä¸Š`fit_max + 1`ã€‚ä¹‹å`fit_max` æ›´æ–°ä¸º`2 * fit_max + 1`ã€‚

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**éå†1~n(è¶…æ—¶)

```python
class Solution:
    def minPatches(self, nums: List[int], n: int) -> int:

        set_t = set()
        
        def add(num):
            if set_t:
                new_added = set()
                for t in set_t:
                    new_added.add(num + t)
                set_t.update(new_added)

            set_t.add(num)

        for num in nums:
            add(num)

        ans = 0 
        for i in range(1, n + 1):
            if i not in set_t:
                ans += 1
                add(i)

        return ans
```

ã€€ã€€**æ–¹æ³•äºŒï¼š**è®°å½•æœ€å¤§èƒ½å¾—åˆ°çš„æ•°(80ms)

```python
class Solution:
    def minPatches(self, nums: List[int], n: int) -> int:
        idx = 0  # numsä¸­çš„id
        ln = len(nums)

        fit_max = 0  # å½“å‰èƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å¤§èŒƒå›´ä¸º[1, fit_max]
        ans = 0
        while fit_max < n:
            if idx < ln and nums[idx] <= fit_max + 1:  # å¦‚æœ nums ä¸­æœ‰å°äºç­‰äº fit_max + 1çš„æ•°å­—ï¼Œå¯ä»¥ç›´æ¥ç”¨ä¸Š
                fit_max = nums[idx] + fit_max
                idx += 1
            else:  # æ— æ³•ç”¨numsä¸­çš„æ•°å­—
                # æ·»åŠ fit_max + 1
                ans += 1
                fit_max = fit_max + fit_max + 1

        return ans

```

## A332. é‡æ–°å®‰æ’è¡Œç¨‹

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæœºç¥¨çš„å­—ç¬¦ä¸²äºŒç»´æ•°ç»„ `[from, to]`ï¼Œå­æ•°ç»„ä¸­çš„ä¸¤ä¸ªæˆå‘˜åˆ†åˆ«è¡¨ç¤ºé£æœºå‡ºå‘å’Œé™è½çš„æœºåœºåœ°ç‚¹ï¼Œå¯¹è¯¥è¡Œç¨‹è¿›è¡Œé‡æ–°è§„åˆ’æ’åºã€‚æ‰€æœ‰è¿™äº›æœºç¥¨éƒ½å±äºä¸€ä¸ªä»JFKï¼ˆè‚¯å°¼è¿ªå›½é™…æœºåœºï¼‰å‡ºå‘çš„å…ˆç”Ÿï¼Œæ‰€ä»¥è¯¥è¡Œç¨‹å¿…é¡»ä» JFK å‡ºå‘ã€‚

**è¯´æ˜:**

1. å¦‚æœå­˜åœ¨å¤šç§æœ‰æ•ˆçš„è¡Œç¨‹ï¼Œä½ å¯ä»¥æŒ‰å­—ç¬¦è‡ªç„¶æ’åºè¿”å›æœ€å°çš„è¡Œç¨‹ç»„åˆã€‚ä¾‹å¦‚ï¼Œè¡Œç¨‹ ["JFK", "LGA"] ä¸ ["JFK", "LGB"] ç›¸æ¯”å°±æ›´å°ï¼Œæ’åºæ›´é å‰
2. æ‰€æœ‰çš„æœºåœºéƒ½ç”¨ä¸‰ä¸ªå¤§å†™å­—æ¯è¡¨ç¤ºï¼ˆæœºåœºä»£ç ï¼‰ã€‚
3. å‡å®šæ‰€æœ‰æœºç¥¨è‡³å°‘å­˜åœ¨ä¸€ç§åˆç†çš„è¡Œç¨‹ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [["MUC", "LHR"], ["JFK", "MUC"], ["SFO", "SJC"], ["LHR", "SFO"]]
è¾“å‡º: ["JFK", "MUC", "LHR", "SFO", "SJC"]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [["JFK","SFO"],["JFK","ATL"],["SFO","ATL"],["ATL","JFK"],["ATL","SFO"]]
è¾“å‡º: ["JFK","ATL","JFK","SFO","ATL","SFO"]
è§£é‡Š: å¦ä¸€ç§æœ‰æ•ˆçš„è¡Œç¨‹æ˜¯ ["JFK","SFO","ATL","JFK","ATL","SFO"]ã€‚ä½†æ˜¯å®ƒè‡ªç„¶æ’åºæ›´å¤§æ›´é åã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reconstruct-itinerary/>

#### **æ€è·¯:**

ã€€ã€€æ±‚æ¬§æ‹‰è·¯å¾„(ä¸€ç¬”ç”»é—®é¢˜)çš„æ ˆç‰ˆæœ¬ï¼Œæ¯æ¬¡å…¥æ ˆçš„æ˜¯å­—æ¯åºæœ€å°çš„ã€‚å¦‚æœæ ˆé¡¶çš„ç»“ç‚¹æ²¡æœ‰ç›¸é‚»çš„ç»“ç‚¹å°±å‡ºæ ˆã€‚ 

ã€€ã€€å°†å‡ºæ ˆçš„æ¬¡åºå€’åºæ’åˆ—å°±æ˜¯æœ€ç»ˆçš„ç»“æœã€‚   

<img src="_img/a332.png" style="zoom:60%"/>

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def findItinerary(self, tickets: List[List[str]]) -> List[str]:
        l = len(tickets)
        dict_t = defaultdict(list)
        for f, t in tickets:
            dict_t[f].append(t)

        stack = ['JFK']  # åˆå§‹ä½ç½®
        ans = []
        while stack:
            curr = stack[-1]  # peek
            if dict_t[curr]:
                next = min(dict_t[curr])
                dict_t[curr].remove(next)
                stack.append(next)
            else:
                ans.append(curr)
                stack.pop()

        return ans[::-1]
      
```

## A336. å›æ–‡å¯¹

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ç»„**å”¯ä¸€**çš„å•è¯ï¼Œ æ‰¾å‡ºæ‰€æœ‰**ä¸åŒ** çš„ç´¢å¼•å¯¹`(i, j)`ï¼Œä½¿å¾—åˆ—è¡¨ä¸­çš„ä¸¤ä¸ªå•è¯ï¼Œ `words[i] + words[j]` ï¼Œå¯æ‹¼æ¥æˆå›æ–‡ä¸²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: ["abcd","dcba","lls","s","sssll"]
è¾“å‡º: [[0,1],[1,0],[3,2],[2,4]] 
è§£é‡Š: å¯æ‹¼æ¥æˆçš„å›æ–‡ä¸²ä¸º ["dcbaabcd","abcddcba","slls","llssssll"]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: ["bat","tab","cat"]
è¾“å‡º: [[0,1],[1,0]] 
è§£é‡Š: å¯æ‹¼æ¥æˆçš„å›æ–‡ä¸²ä¸º ["battab","tabbat"]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/palindrome-pairs/>

#### æ€è·¯  

ã€€ã€€æœ‰ä¸€ä¸ªéšå«çš„æ¡ä»¶æ˜¯å•è¯çš„æ•°é‡**è¿œè¿œå¤§äº**å•è¯çš„é•¿åº¦ã€‚  

ã€€ã€€å¯¹æ¯ä¸€ä¸ªå•è¯ï¼Œåœ¨å®ƒå·¦è¾¹æˆ–è€…å³è¾¹åŠ ä¸Šä¸€äº›å­—æ¯åå¯ä»¥å˜æˆå›æ–‡ä¸²ï¼Œæˆ‘ä»¬æ¥éå†æ‰€æœ‰èƒ½åŠ ä¸Šçš„æƒ…å†µã€‚  

ã€€ã€€å…ˆå°†å•è¯`s`ååºï¼ˆè®°ä¸º`r`ï¼‰ï¼Œç„¶ååœ¨åŸå•è¯ä¸Šæ»‘åŠ¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€ã€€<img src="_img/a336_1.png" style="zoom:35%"/>

ã€€ã€€å¦‚æœ`r`å’Œ`s`æ²¡æœ‰é‡å çš„éƒ¨åˆ†ï¼Œæˆ–è€…**é‡å çš„éƒ¨åˆ†ç›¸åŒ**ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç»„æˆå›¾ä¸­**æ¨ªçº¿ä¸‹æ–¹**çš„å›æ–‡ä¸²ï¼ŒæŸ¥æ‰¾éœ€è¦åœ¨`s`ä¸Šæ·»åŠ çš„éƒ¨åˆ†æœ‰æ²¡æœ‰å‡ºç°åœ¨å•è¯åˆ—è¡¨ä¸­ï¼Œå¦‚æœå‡ºç°äº†ï¼Œåˆ™è®°å½•`s`å’Œå®ƒçš„ç´¢å¼•å¯¹ï¼ˆæ³¨æ„å‰åé¡ºåºï¼‰ã€‚  

ã€€ã€€æœ‰ä»¥ä¸‹ä¸¤ç§ç‰¹æ®Šçš„æƒ…å†µéœ€è¦è€ƒè™‘ï¼š  

ã€€ã€€â‘ ä¸¤ä¸ªå•è¯äº’ä¸ºé€†åºï¼Œå¦‚æœæ”¾åœ¨å·¦å³æ·»åŠ ä¸­ä¼šé‡å¤è®¡ç®—ï¼Œæ‰€ä»¥è¦å•ç‹¬è€ƒè™‘ã€‚    

ã€€ã€€â‘¡å•è¯è¡¨ä¸­æœ‰ç©ºå­—ç¬¦ä¸²`""`ï¼Œåˆ™å®ƒå¯ä»¥å’Œä»»æ„**åŸæœ¬å°±æ˜¯å›æ–‡ä¸²**çš„å•è¯ç»„æˆå›æ–‡å•è¯ï¼ˆåœ¨å‰åœ¨åéƒ½å¯ä»¥ï¼‰ã€‚  

#### ä»£ç   

```python
class Solution:
    def palindromePairs(self, words: List[str]) -> List[List[int]]:
        mem = {word: i for i, word in enumerate(words)}  # å•è¯åˆ°ä¸‹æ ‡çš„æ˜ å°„
        
        flag = '' in words  # æ˜¯å¦æœ‰ç©ºä¸²     

        ans = []
        for i, word in enumerate(words):
            reverse = word[::-1]
            l = len(word)
            if flag and word and word == reverse :  # ""å’Œè‡ªèº«å›æ–‡çš„ä¸²åŒ¹é…
                ans.append([i, mem['']])
                ans.append([mem[''], i])  # ç©ºä¸²åœ¨å‰åœ¨åéƒ½å¯ä»¥
                
            if word != reverse and reverse in mem:  # æ•´ä½“ç›¸å å¦‚abcdå’Œdcba
                ans.append([i, mem[reverse]])
            for j in range(1, l):  # åœ¨åé¢æ·»åŠ 
                if reverse[:j] == word[l-j:] and reverse[j:] in mem:
                    ans.append([i, mem[reverse[j:]]])
            for j in range(1, l):  # åœ¨å‰é¢æ·»åŠ 
                if reverse[l-j:] == word[:j] and reverse[:l-j] in mem:
                    ans.append([mem[reverse[:l-j]], i])
                    
        return ans
      
```


## A337. æ‰“å®¶åŠ«èˆ III

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚

è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3,2,3,null,3,null,1]

     3
    / \
   2   3
    \   \ 
     3   1

è¾“å‡º: 7 
è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7.
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,4,5,1,3,null,1]

     3
    / \
   4   5
  / \   \ 
 1   3   1

è¾“å‡º: 9
è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 4 + 5 = 9.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/house-robber-iii/>

#### **æ€è·¯:**

ã€€ã€€å¯¹äºä»»æ„ä¸€ä¸ªç»“ç‚¹`node`ï¼Œåªæœ‰ä¸¤ç§çŠ¶æ€ï¼Œè¦ä¹ˆå·ï¼Œè¦ä¹ˆä¸å·ï¼Œåˆ†åˆ«è®¡ç®—è¿™è¿™ç§æƒ…å†µçš„æœ€å¤§å€¼å³å¯ã€‚  

<img src="_img/a337.png" style="zoom:50%"/>

ã€€ã€€å¦‚æœå·ç»“ç‚¹`node`ï¼Œå°±ä¸èƒ½å·`node`çš„å­ç»“ç‚¹ï¼Œæœ€å¤§å€¼ä¸º`not_rob_left`+`not_rob_right`+`node.val`ã€‚  

ã€€ã€€å¦‚æœä¸å·ç»“ç‚¹`node`ï¼Œå¯ä»¥å·`node`çš„å­ç»“ç‚¹(ä¹Ÿå¯ä»¥ä¸å·)ï¼Œæœ€å¤§å€¼ä¸ºmax(`rob_left`,`not_rob_left`) + max(`rob_right`,`not_rob_right`)ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def rob(self, root: TreeNode) -> int:
        def dfs(node):  # è¿”å›use not_use
            if not node:
                return 0, 0

            if not node.left and not node.right:  # å¶å­ç»“ç‚¹
                return node.val, 0

            rob_left, no_rob_left = dfs(node.left)
            rob_right, no_rob_right = dfs(node.right)
            
            return no_rob_left + no_rob_right + node.val, max(rob_left, no_rob_left) + max(rob_right, no_rob_right)

        rob_root, no_rob_root = dfs(root)
        return max(rob_root, no_rob_root)
      
```

## A338. æ¯”ç‰¹ä½è®¡æ•°

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° **num**ã€‚å¯¹äº **0 â‰¤ i â‰¤ num** èŒƒå›´ä¸­çš„æ¯ä¸ªæ•°å­— **i** ï¼Œè®¡ç®—å…¶äºŒè¿›åˆ¶æ•°ä¸­çš„ 1 çš„æ•°ç›®å¹¶å°†å®ƒä»¬ä½œä¸ºæ•°ç»„è¿”å›ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 2
è¾“å‡º: [0,1,1]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 5
è¾“å‡º: [0,1,1,2,1,2]
```

**è¿›é˜¶:**

- ç»™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º**O(n\*sizeof(integer))**çš„è§£ç­”éå¸¸å®¹æ˜“ã€‚ä½†ä½ å¯ä»¥åœ¨çº¿æ€§æ—¶é—´**O(n)**å†…ç”¨ä¸€è¶Ÿæ‰«æåšåˆ°å—ï¼Ÿ
- è¦æ±‚ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸º**O(n)**ã€‚
- ä½ èƒ½è¿›ä¸€æ­¥å®Œå–„è§£æ³•å—ï¼Ÿè¦æ±‚åœ¨C++æˆ–ä»»ä½•å…¶ä»–è¯­è¨€ä¸­ä¸ä½¿ç”¨ä»»ä½•å†…ç½®å‡½æ•°ï¼ˆå¦‚ C++ ä¸­çš„ **__builtin_popcount**ï¼‰æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/counting-bits/>


#### æ€è·¯  

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**å…ˆç”¨O(n)çš„å¤æ‚åº¦ç»Ÿè®¡æ‰€æœ‰å¶æ•°çš„äºŒè¿›åˆ¶æœ€å³è¾¹æœ‰å‡ ä¸ªé›¶ã€‚`å¥‡æ•°çš„1ä¸ªæ•°` = `å‰ä¸€ä¸ªæ•°çš„1ä¸ªæ•°` + 1ã€‚`å¶æ•°çš„1ä¸ªæ•°` = `å‰ä¸€ä¸ªæ•°çš„1ä¸ªæ•°` - `æœ€å³è¾¹é›¶çš„ä¸ªæ•°` + 1 ã€‚æ—¶é—´å¤æ‚åº¦`O(n)`ï¼Œä½†æ˜¯éå†äº†ä¸¤æ¬¡ã€‚  
ã€€ã€€**æ–¹æ³•äºŒï¼š**åŠ¨æ€è§„åˆ’ã€‚`i & (i - 1)`å¯ä»¥å»æ‰iæœ€å³è¾¹çš„ä¸€ä¸ª1ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå› æ­¤ i & (i - 1ï¼‰æ˜¯æ¯” i å°çš„ï¼Œè€Œä¸”i & (i - 1)çš„1çš„ä¸ªæ•°å·²ç»åœ¨å‰é¢ç®—è¿‡äº†ï¼Œæ‰€ä»¥içš„1çš„ä¸ªæ•°å°±æ˜¯ i & (i - 1)çš„1çš„ä¸ªæ•°åŠ ä¸Š1ã€‚  

#### ä»£ç   

ã€€ã€€**æ–¹æ³•ä¸€**ï¼š  

```python

class Solution:
    def countBits(self, num: int) -> List[int]:
        n = num
        helper = [0] * (n+1)  # è®°å½•æ˜¯2çš„å‡ æ¬¡æ–¹
        dp = [0] * (n+1)
        order = 2
        while order <= n:
            for i in range(0, n+1, order): helper[i] += 1
            order *= 2
            # æ€»è®¿é—®æ¬¡æ•°ä¸º n-1 æ¬¡ï¼Œå› æ­¤å¤æ‚åº¦æ˜¯O(n)
        
        for i in range(1, num+1):
            if i % 2 == 1:
                dp[i] = dp[i-1] + 1
            else:
                dp[i] = dp[i-1] - helper[i] + 1

        return dp

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**

```python
class Solution:
    def countBits(self, num: int) -> List[int]:
        dp = [0] * (num+1)
        for i in range(1, num+1):
            dp[i] = dp[i & (i-1)] + 1

        return dp
```

## A343. æ•´æ•°æ‹†åˆ†

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° *n*ï¼Œå°†å…¶æ‹†åˆ†ä¸º**è‡³å°‘**ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚ è¿”å›ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 2
è¾“å‡º: 1
è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 10
è¾“å‡º: 36
è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36ã€‚
```

**è¯´æ˜:** ä½ å¯ä»¥å‡è®¾ *n* ä¸å°äº 2 ä¸”ä¸å¤§äº 58ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/integer-break/>


#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚å¤§äºç­‰äº5çš„æ•°æ‹†åˆ†åç›¸ä¹˜ä¸€å®šæ¯”è‡ªèº«å¤§ã€‚å¦‚ `5 = 2 + 3`ï¼Œè€Œ`2 Ã— 3 = 6 > 5`ã€‚    

ã€€ã€€æ•´æ•°`num`å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªæ•° j å’Œ `num-j`ï¼Œå…¶ä¸­ j å¤§äºç­‰äº5ã€‚å› ä¸º j æ¯”`num`å°ï¼Œj çš„æ‹†åˆ†ç»“æœä¹‹å‰å·²ç»è®¡ç®—è¿‡äº†ï¼Œå› æ­¤å¯å¾—è½¬ç§»æ–¹ç¨‹`dp[num] = max(dp[j] * (num - j))`ã€‚  

#### ä»£ç   
```python
class Solution:
    dp = [0, 0, 1, 2, 4, 6, 9, 12] + [0] * 55
    for i in range(8, 59):
        for j in range(5, i-1):
            dp[i] = max(dp[i],  dp[j] * (i - j))

    def integerBreak(self, n: int) -> int:
        return self.dp[n]
      
```

## A344. åè½¬å­—ç¬¦ä¸²

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ `char[]` çš„å½¢å¼ç»™å‡ºã€‚

ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»**åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„**ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ [ASCII](https://baike.baidu.com/item/ASCII) ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š["h","e","l","l","o"]
è¾“å‡ºï¼š["o","l","l","e","h"]
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š["H","a","n","n","a","h"]
è¾“å‡ºï¼š["h","a","n","n","a","H"]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reverse-string/>

#### æ€è·¯  

ã€€ã€€å› ä¸ºè¦`åŸåœ°æ“ä½œ`æ‰€ä»¥ä¸èƒ½ç”¨`s = s[::-1]`ã€‚  

ã€€ã€€éå†åˆ°ä¸‹æ ‡çš„ä¸€åŠï¼Œå¤´å’Œå°¾äº’æ¢å³å¯ã€‚  

#### ä»£ç   

```python
class Solution:
    def reverseString(self, s: List[str]) -> None:
        """
        Do not return anything, modify s in-place instead.
        """
        ls = len(s)
        for i in range(ls//2):
            s[i], s[-i-1] =  s[-i-1], s[i]
            
```


## A345. åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä»¥å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ï¼Œåè½¬è¯¥å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "hello"
è¾“å‡º: "holle"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "leetcode"
è¾“å‡º: "leotcede"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reverse-vowels-of-a-string/>

#### æ€è·¯  


ã€€ã€€æŠŠå…ƒéŸ³æŠ å‡ºæ¥ï¼Œå€’åºä»¥åå†æ”¾å›å»ã€‚  

#### ä»£ç   

```python
class Solution:
    def reverseVowels(self, s: str) -> str:
        vowels = 'aeiouAEIOU'
        f = filter(vowels.__contains__ ,s[::-1])  # ç­›é€‰å‡ºå…ƒéŸ³å¹¶å€’åº
        t, s = 0, list(s)
        for i, char in enumerate(s):
            if s[i] in vowels:  # æ›¿æ¢å›sä¸­çš„å…ƒéŸ³
                s[i] = next(f)

        return ''.join(s)
      
```




## A347. å‰ K ä¸ªé«˜é¢‘å…ƒç´ 

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ **k** é«˜çš„å…ƒç´ ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,1,1,2,2,3], k = 2
è¾“å‡º: [1,2]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1], k = 1
è¾“å‡º: [1]
```

**è¯´æ˜ï¼š**

- ä½ å¯ä»¥å‡è®¾ç»™å®šçš„ *k* æ€»æ˜¯åˆç†çš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„ä¸­ä¸ç›¸åŒçš„å…ƒç´ çš„ä¸ªæ•°ã€‚
- ä½ çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦**å¿…é¡»**ä¼˜äº O(*n* log *n*) , *n* æ˜¯æ•°ç»„çš„å¤§å°ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/top-k-frequent-elements/>

#### **æ€è·¯:**

ã€€ã€€å…ˆç»Ÿè®¡æ¬¡æ•°ï¼Œç„¶åæ’åºï¼Œè¾“å‡ºå‰`k`ä¸ªã€‚  

#### **ä»£ç :**

```python
from collections import Counter

class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        c = Counter(nums)
        c = list(c.items())

        c.sort(key=lambda kv: kv[1], reverse=True)
        return [i[0] for i in c[:k]]

```

## A349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums1 = [1,2,2,1], nums2 = [2,2]
è¾“å‡º: [2]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums1 = [4,9,5], nums2 = [9,4,9,8,4]
è¾“å‡º: [9,4]
```

**è¯´æ˜:**

- è¾“å‡ºç»“æœä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚
- æˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/intersection-of-two-arrays/>

#### **æ€è·¯:**

ã€€ã€€ç”¨`set`è‡ªå¸¦çš„`&`è¿ç®—ç¬¦å–äº¤é›†ã€‚  ã€€ã€€ã€€ã€€

#### **ä»£ç :**

```python
class Solution:
    def intersection(self, nums1: List[int], nums2: List[int]) -> List[int]:
        return list(set(nums1) & set(nums2))
      
```

## A350. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums1 = [1,2,2,1], nums2 = [2,2]
è¾“å‡º: [2,2]
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums1 = [4,9,5], nums2 = [9,4,9,8,4]
è¾“å‡º: [4,9]
```

**è¯´æ˜ï¼š**

- è¾“å‡ºç»“æœä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œåº”ä¸å…ƒç´ åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ä¸€è‡´ã€‚
- æˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚

**è¿›é˜¶:**

- å¦‚æœç»™å®šçš„æ•°ç»„å·²ç»æ’å¥½åºå‘¢ï¼Ÿä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ
- å¦‚æœ *nums1* çš„å¤§å°æ¯” *nums2* å°å¾ˆå¤šï¼Œå“ªç§æ–¹æ³•æ›´ä¼˜ï¼Ÿ
- å¦‚æœ *nums2* çš„å…ƒç´ å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œç£ç›˜å†…å­˜æ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä¸€æ¬¡åŠ è½½æ‰€æœ‰çš„å…ƒç´ åˆ°å†…å­˜ä¸­ï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/intersection-of-two-arrays-ii/>

#### **æ€è·¯:**

ã€€ã€€å…ˆå–ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†`inter`ï¼Œç„¶åæ¯ä¸ªå…ƒç´ éƒ½é‡å¤`nums1`å’Œ`nums2`ä¸­å‡ºç°æ¬¡æ•°è¾ƒå°‘çš„æ¬¡æ•°ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def intersect(self, nums1: List[int], nums2: List[int]) -> List[int]:
        import collections
        c1 = collections.Counter(nums1)
        c2 = collections.Counter(nums2)
        ans = []
        for k in set(c1.keys()) & set(c2.keys()):
            for _ in range(min(c1[k], c2[k])):
                ans.append(k)

        return ans
      
```

## A352. å°†æ•°æ®æµå˜ä¸ºå¤šä¸ªä¸ç›¸äº¤åŒºé—´

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°çš„æ•°æ®æµè¾“å…¥ a1ï¼Œa2ï¼Œâ€¦ï¼Œanï¼Œâ€¦ï¼Œå°†åˆ°ç›®å‰ä¸ºæ­¢çœ‹åˆ°çš„æ•°å­—æ€»ç»“ä¸ºä¸ç›¸äº¤çš„åŒºé—´åˆ—è¡¨ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾æ•°æ®æµä¸­çš„æ•´æ•°ä¸º 1ï¼Œ3ï¼Œ7ï¼Œ2ï¼Œ6ï¼Œâ€¦ï¼Œæ¯æ¬¡çš„æ€»ç»“ä¸ºï¼š

```
[1, 1]
[1, 1], [3, 3]
[1, 1], [3, 3], [7, 7]
[1, 3], [7, 7]
[1, 3], [6, 7]
```

**è¿›é˜¶ï¼š**
å¦‚æœæœ‰å¾ˆå¤šåˆå¹¶ï¼Œå¹¶ä¸”ä¸æ•°æ®æµçš„å¤§å°ç›¸æ¯”ï¼Œä¸ç›¸äº¤åŒºé—´çš„æ•°é‡å¾ˆå°ï¼Œè¯¥æ€ä¹ˆåŠ?

**æç¤ºï¼š**
ç‰¹åˆ«æ„Ÿè°¢ [@yunhong](https://discuss.leetcode.com/user/yunhong) æä¾›äº†æœ¬é—®é¢˜å’Œå…¶æµ‹è¯•ç”¨ä¾‹ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/data-stream-as-disjoint-intervals/>

#### **æ€è·¯:**

ã€€ã€€ç»´æŠ¤ä¸€ä¸ªå‡åºçš„**ä¸é‡å¤çš„**æ•°ç»„ï¼Œæ¯æ¬¡å¢åŠ æ–°æ•°å­—æ—¶éƒ½æ·»åŠ åˆ°å¯¹åº”ä½ç½®ã€‚è·å–`åŒºé—´æ€»ç»“`æ—¶ï¼Œéå†è¯¥æ•°ç»„ï¼Œå°†è¿ç»­å‡ºç°çš„æ•°å­—åˆå¹¶ã€‚  

ã€€ã€€ä¹Ÿå¯ä»¥ç”¨[A57. æ’å…¥åŒºé—´](/array?id=a57-æ’å…¥åŒºé—´)çš„ç®—æ³•ã€‚  

#### **ä»£ç :**

```python
import bisect

class SummaryRanges:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.asc = []
        self.shown = set()

    def addNum(self, val: int) -> None:
        if val not in self.shown:
            self.shown.add(val)
            bisect.insort_left(self.asc, val)

    def getIntervals(self) -> List[List[int]]:
        asc = self.asc
        if not len(asc): return []
        temp = asc[0]
        ans = []
        start = asc[0]
        for i in range(1, len(self.asc)):
            if self.asc[i] == temp + 1:
                temp += 1
            else:
                ans.append([start, temp])
                start = self.asc[i]
                temp = start

        ans.append([start, temp])
        return ans
      
```

## A354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜

éš¾åº¦ `å›°éš¾`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€äº›æ ‡è®°äº†å®½åº¦å’Œé«˜åº¦çš„ä¿¡å°ï¼Œå®½åº¦å’Œé«˜åº¦ä»¥æ•´æ•°å¯¹å½¢å¼ `(w, h)` å‡ºç°ã€‚å½“å¦ä¸€ä¸ªä¿¡å°çš„å®½åº¦å’Œé«˜åº¦éƒ½æ¯”è¿™ä¸ªä¿¡å°å¤§çš„æ—¶å€™ï¼Œè¿™ä¸ªä¿¡å°å°±å¯ä»¥æ”¾è¿›å¦ä¸€ä¸ªä¿¡å°é‡Œï¼Œå¦‚åŒä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·ã€‚

è¯·è®¡ç®—æœ€å¤šèƒ½æœ‰å¤šå°‘ä¸ªä¿¡å°èƒ½ç»„æˆä¸€ç»„â€œä¿„ç½—æ–¯å¥—å¨ƒâ€ä¿¡å°ï¼ˆå³å¯ä»¥æŠŠä¸€ä¸ªä¿¡å°æ”¾åˆ°å¦ä¸€ä¸ªä¿¡å°é‡Œé¢ï¼‰ã€‚

**è¯´æ˜:**
ä¸å…è®¸æ—‹è½¬ä¿¡å°ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: envelopes = [[5,4],[6,4],[6,7],[2,3]]
è¾“å‡º: 3 
è§£é‡Š: æœ€å¤šä¿¡å°çš„ä¸ªæ•°ä¸º 3, ç»„åˆä¸º: [2,3] => [5,4] => [6,7]ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/russian-doll-envelopes/>


#### æ€è·¯  

ã€€ã€€å°†ä¿¡å°æŒ‰`(å®½å‡åºã€é«˜é™åº)`æ’åˆ—ã€‚å› ä¸ºå®½å·²ç»æœ‰åºäº†ï¼Œå°†æ‰€æœ‰çš„é«˜ä¾æ¬¡å–å‡ºæ¥ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œå°±å˜æˆäº†[A300. æœ€é•¿ä¸Šå‡å­åºåˆ—](/dp?id=a300-æœ€é•¿ä¸Šå‡å­åºåˆ—)é—®é¢˜ã€‚  
ã€€ã€€**æ–¹æ³•ä¸€ï¼š**åŠ¨æ€è§„åˆ’ï¼ŒæŸ¥æ‰¾æ¯ä¸ªä¿¡å°å‰é¢çš„æ‰€æœ‰ä¿¡å°ï¼Œå¦‚æœæŸä¸€ä¸ª`ä¿¡å°j`çš„å®½å’Œé«˜éƒ½å°äºå½“å‰ä¿¡å°ï¼Œé‚£ä¹ˆ`dp[now] = max(dp[now], dp[j] + 1)`ã€‚æ—¶é—´å¤æ‚åº¦`O(n^2)` ã€‚  
ã€€ã€€**æ–¹æ³•äºŒï¼š**ç»´æŠ¤ä¸€ä¸ª`å‡åºçš„`ç»“æœæ•°ç»„`results`ã€‚å¦‚æœ`num`å¤§äºç»“æœæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå°±å°†`num`æ’å…¥åˆ°ç»“æœæ•°ç»„çš„æœ€åã€‚å¦åˆ™ç”¨`num`æ›¿æ¢`results`ä¸­ç¬¬ä¸€ä¸ªå¤§äºç­‰äº`num`çš„æ•°ã€‚  
ã€€ã€€æœ€ç»ˆ`results`çš„é•¿åº¦å³ä¸ºç»“æœã€‚å¤æ‚åº¦ä¸º`O(nlogn)`ã€‚  

#### ä»£ç   

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**`O(n^2)`ï¼ˆè¶…æ—¶ï¼‰

```python
class Solution:
    def maxEnvelopes(self, envelopes: List[List[int]]) -> int:
        n = len(envelopes)
        if not n: return 0

        envelopes = sorted(envelopes)
        dp = [1] * n

        ans = 1
        for i in range(1, n):
            w, h = envelopes[i]
            for j in range(i):
                w0, h0 = envelopes[j]
                if w0 < w and h0 < h:
                    dp[i] = max(dp[i], dp[j] + 1)

            ans = max(ans, dp[i])

        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**`O(nlogn)`

```python
from bisect import bisect_left
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        if len(nums) == 0:
            return 0

        results = []
        for num in nums:
            if len(results) == 0 or num > results[-1]:
                results.append(num)
            else:
                idx = bisect_left(results, num)
                results[idx] = num

        return len(results)

    def maxEnvelopes(self, envelopes: List[List[int]]) -> int:
        n = len(envelopes)
        if not n: return 0

        envelopes = sorted(envelopes, key=lambda kv: (kv[0], -kv[1]))   
        nums =  [num for _, num in envelopes]
        return self.lengthOfLIS(nums)



```

## A357. è®¡ç®—å„ä¸ªä½æ•°ä¸åŒçš„æ•°å­—ä¸ªæ•°

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**éè´Ÿ**æ•´æ•° nï¼Œè®¡ç®—å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­— x çš„ä¸ªæ•°ï¼Œå…¶ä¸­ 0 â‰¤ x < 10n ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥: 2
è¾“å‡º: 91 
è§£é‡Š: ç­”æ¡ˆåº”ä¸ºé™¤å» 11,22,33,44,55,66,77,88,99 å¤–ï¼Œåœ¨ [0,100) åŒºé—´å†…çš„æ‰€æœ‰æ•°å­—ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/count-numbers-with-unique-digits/>


#### æ€è·¯  

ã€€ã€€æ’åˆ—ç»„åˆé—®é¢˜ã€‚  

```
ä»å·¦å¾€å³
é¦–ä½æ•°å¯ä»¥å–9ç§(é™¤äº†0ä»¥å¤–éƒ½èƒ½å–)ï¼Œç¬¬äºŒä½ä¹Ÿèƒ½å–9ä¸­(å’Œç¬¬ä¸€ä½ä¸åŒæˆ–è€…å–0) ç¬¬ä¸‰ä½å–8ç§(å’Œå‰ä¸¤ä½éƒ½ä¸åŒ) ä¸‹ä¸€ä½æ¯”å‰ä¸€ä½å–æ³•å°‘ä¸€ç§ï¼Œå› ä¸ºä¸èƒ½é‡å¤ã€‚
0æœ‰     1 ç§
ä¸€ä½æ•°æœ‰ 9 ç§
ä¸¤ä½æ•°æœ‰ 9*9 ç§
ä¸‰ä½æ•°æœ‰ 9*9*8 ç§
å››ä½æ•°æœ‰ 9*9*8*7 ç§
äº”ä½æ•°æœ‰ 9*9*8*7*6 ç§
.....
è¶…è¿‡10ä½æ•°ä¸€ç§ä¹Ÿæ²¡æœ‰
```

#### ä»£ç   
```python
class Solution:
    def countNumbersWithUniqueDigits(self, n: int) -> int:
        multiply = lambda x, y: x * y
        dp = [1 for i in range(11)]
        dp[1] = 10
        for i in range(2, 11):
            dp[i] = 9 * reduce(multiply, range(9, 10-i, -1)) + dp[i-1]  # ç´¯ä¹˜

        n = min(10, n)
        return dp[n]

```

## A367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° *num* ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœ *num* æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚

**è¯´æ˜ï¼š**ä¸è¦ä½¿ç”¨ä»»ä½•å†…ç½®çš„åº“å‡½æ•°ï¼Œå¦‚  `sqrt`ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š16
è¾“å‡ºï¼šTrue
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š14
è¾“å‡ºï¼šFalse
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/valid-perfect-square/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**åˆ©ç”¨[A69. x çš„å¹³æ–¹æ ¹](/binary?id=a69-x-çš„å¹³æ–¹æ ¹)çš„äºŒåˆ†æ³•æ±‚å¹³æ–¹æ ¹ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**åˆ©ç”¨ 1+3+5+7+9+â€¦+(2n-1)=n^2ï¼Œå³å®Œå…¨å¹³æ–¹æ•°è‚¯å®šæ˜¯å‰nä¸ªè¿ç»­å¥‡æ•°çš„å’Œã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**

```python
class Solution:
    def mySqrt(self, x: int) -> int:
        if x == 0: return 0
        if x < 4: return 1

        i, j = 2, x - 1
        while i <= i and i < x-1:
            mid = (i+j) // 2
            if mid * mid > x:
                j = mid - 1
            elif mid * mid <= x and (mid + 1) ** 2 > x:
                return mid
            else:
                i = mid + 1

    def isPerfectSquare(self, num: int) -> bool:
        return (self.mySqrt(num) ** 2 == num)
      
```

ã€€ã€€**æ–¹æ³•äºŒï¼š**

```python
class Solution:
    def isPerfectSquare(self, num: int) -> bool:
        i = 1
        while num > 0:
            num -= i
            i += 2
        return num == 0
      
```

#### [1283. ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°](https://leetcode-cn.com/problems/find-the-smallest-divisor-given-a-threshold/)

éš¾åº¦ä¸­ç­‰16æ”¶è—åˆ†äº«åˆ‡æ¢ä¸ºè‹±æ–‡å…³æ³¨åé¦ˆ

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ­£æ•´æ•° `threshold`  ï¼Œä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªæ­£æ•´æ•°ä½œä¸ºé™¤æ•°ï¼Œç„¶åå°†æ•°ç»„é‡Œæ¯ä¸ªæ•°éƒ½é™¤ä»¥å®ƒï¼Œå¹¶å¯¹é™¤æ³•ç»“æœæ±‚å’Œã€‚

è¯·ä½ æ‰¾å‡ºèƒ½å¤Ÿä½¿ä¸Šè¿°ç»“æœå°äºç­‰äºé˜ˆå€¼ `threshold` çš„é™¤æ•°ä¸­ **æœ€å°** çš„é‚£ä¸ªã€‚

æ¯ä¸ªæ•°é™¤ä»¥é™¤æ•°åéƒ½å‘ä¸Šå–æ•´ï¼Œæ¯”æ–¹è¯´ 7/3 = 3 ï¼Œ 10/2 = 5 ã€‚

é¢˜ç›®ä¿è¯ä¸€å®šæœ‰è§£ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,5,9], threshold = 6
è¾“å‡ºï¼š5
è§£é‡Šï¼šå¦‚æœé™¤æ•°ä¸º 1 ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å’Œä¸º 17 ï¼ˆ1+2+5+9ï¼‰ã€‚
å¦‚æœé™¤æ•°ä¸º 4 ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å’Œä¸º 7 (1+1+2+3) ã€‚å¦‚æœé™¤æ•°ä¸º 5 ï¼Œå’Œä¸º 5 (1+1+1+2)ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [2,3,5,7,11], threshold = 11
è¾“å‡ºï¼š3
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [19], threshold = 5
è¾“å‡ºï¼š4
```

 

**æç¤ºï¼š**

- `1 <= nums.length <= 5 * 10^4`
- `1 <= nums[i] <= 10^6`
- `nums.length <= threshold <= 10^6`

## A368. æœ€å¤§æ•´é™¤å­é›†

éš¾åº¦ `ä¸­ç­‰`  
#### é¢˜ç›®æè¿°

ç»™å‡ºä¸€ä¸ªç”±**æ— é‡å¤çš„**æ­£æ•´æ•°ç»„æˆçš„é›†åˆï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å¤§çš„æ•´é™¤å­é›†ï¼Œå­é›†ä¸­ä»»æ„ä¸€å¯¹ (Siï¼ŒSj) éƒ½è¦æ»¡è¶³ï¼šSi % Sj = 0 æˆ– Sj % Si = 0ã€‚

å¦‚æœæœ‰å¤šä¸ªç›®æ ‡å­é›†ï¼Œè¿”å›å…¶ä¸­ä»»ä½•ä¸€ä¸ªå‡å¯ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3]
è¾“å‡º: [1,2] (å½“ç„¶, [1,3] ä¹Ÿæ­£ç¡®)
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,2,4,8]
è¾“å‡º: [1,2,4,8]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/largest-divisible-subset/>


#### æ€è·¯  


ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚å…ˆæ’åºï¼Œç„¶ååœ¨æ¯ä¸ªæ•°çš„å‰é¢æ‰¾å®ƒçš„å› å­å³å¯ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ `dp[now] = max(dp[now], dp[j] + 1)`ã€‚å…¶ä¸­ j ä½ç½®çš„æ•°å­—æ˜¯å½“å‰æ•°å­—çš„å› å­ã€‚  

#### ä»£ç   
```python
import bisect
class Solution:
    def largestDivisibleSubset(self, nums: List[int]) -> List[int]:
        n = len(nums)
        if not n: return []

        dp = [1 for i in range(n)]
        previous = [0 for i in range(n)]  # è®°å½•æ˜¯å‰ä¸€ä¸ªå› å­
        nums = sorted(nums)

        max_i = 0
        max_n = 1
        for i in range(1, n):
            start = bisect.bisect(nums, nums[i] // 2)
            for j in range(start-1, -1, -1):
                if nums[i] % nums[j] == 0:
                    if dp[i] < dp[j] + 1:
                        dp[i] = dp[j] + 1
                        previous[i] = j

            if dp[i] > max_n:
                max_n = dp[i]
                max_i = i

        ans = []
        for i in range(max_n):
            ans.append(nums[max_i])
            max_i = previous[max_i]
        return ans

```

## A375. çŒœæ•°å­—å¤§å° II

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

æˆ‘ä»¬æ­£åœ¨ç©ä¸€ä¸ªçŒœæ•°æ¸¸æˆï¼Œæ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š

æˆ‘ä» **1** åˆ° **n** ä¹‹é—´é€‰æ‹©ä¸€ä¸ªæ•°å­—ï¼Œä½ æ¥çŒœæˆ‘é€‰äº†å“ªä¸ªæ•°å­—ã€‚

æ¯æ¬¡ä½ çŒœé”™äº†ï¼Œæˆ‘éƒ½ä¼šå‘Šè¯‰ä½ ï¼Œæˆ‘é€‰çš„æ•°å­—æ¯”ä½ çš„å¤§äº†æˆ–è€…å°äº†ã€‚

ç„¶è€Œï¼Œå½“ä½ çŒœäº†æ•°å­— x å¹¶ä¸”çŒœé”™äº†çš„æ—¶å€™ï¼Œä½ éœ€è¦æ”¯ä»˜é‡‘é¢ä¸º x çš„ç°é‡‘ã€‚ç›´åˆ°ä½ çŒœåˆ°æˆ‘é€‰çš„æ•°å­—ï¼Œä½ æ‰ç®—èµ¢å¾—äº†è¿™ä¸ªæ¸¸æˆã€‚

> **ç¤ºä¾‹:**

```
n = 10, æˆ‘é€‰æ‹©äº†8.

ç¬¬ä¸€è½®: ä½ çŒœæˆ‘é€‰æ‹©çš„æ•°å­—æ˜¯5ï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ ï¼Œæˆ‘çš„æ•°å­—æ›´å¤§ä¸€äº›ï¼Œç„¶åä½ éœ€è¦æ”¯ä»˜5å—ã€‚
ç¬¬äºŒè½®: ä½ çŒœæ˜¯7ï¼Œæˆ‘å‘Šè¯‰ä½ ï¼Œæˆ‘çš„æ•°å­—æ›´å¤§ä¸€äº›ï¼Œä½ æ”¯ä»˜7å—ã€‚
ç¬¬ä¸‰è½®: ä½ çŒœæ˜¯9ï¼Œæˆ‘å‘Šè¯‰ä½ ï¼Œæˆ‘çš„æ•°å­—æ›´å°ä¸€äº›ï¼Œä½ æ”¯ä»˜9å—ã€‚

æ¸¸æˆç»“æŸã€‚8 å°±æ˜¯æˆ‘é€‰çš„æ•°å­—ã€‚

ä½ æœ€ç»ˆè¦æ”¯ä»˜ 5 + 7 + 9 = 21 å—é’±ã€‚
```

ç»™å®š **n â‰¥ 1ï¼Œ**è®¡ç®—ä½ è‡³å°‘éœ€è¦æ‹¥æœ‰å¤šå°‘ç°é‡‘æ‰èƒ½ç¡®ä¿ä½ èƒ½èµ¢å¾—è¿™ä¸ªæ¸¸æˆã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/guess-number-higher-or-lower-ii/>

#### æ€è·¯  

ã€€ã€€ç±»ä¼¼çŸ©é˜µè¿ä¹˜é—®é¢˜ã€‚æœ€å°æ¶ˆè€—çš„é€‰æ‹©æ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

ã€€<img src="_img/a375.png" style="zoom:35%"/>

ã€€ã€€nä¸ªæ•°æ—¶ï¼Œé€‰æ‹©`k`çš„æ€»æ¶ˆè€—ä¸º`k + max(dp(1, k-1), dp(k+1, n))`ã€‚éå†`(n+1)//`åˆ°`n-3`ï¼Œæ‰¾åˆ°æ¶ˆè€—æœ€å°çš„`k`å³å¯ã€‚  

ã€€ã€€æœ¬ä»¥ä¸ºè¿™ä¸ªå¤æ‚åº¦å¿…è¶…æ—¶ï¼Œæ²¡æƒ³åˆ°å‡»è´¥äº†96%ï¼ˆæµ‹è¯•é›†çš„næ˜¯ä¸€ä¸ªå¾ˆå°çš„æ•°ï¼Œä¸ä¼šè¶…è¿‡å‡ ç™¾ï¼‰ã€‚  

#### ä»£ç   

```python
class Solution:
    def getMoneyAmount(self, n: int) -> int:
        ans = 0
        from functools import lru_cache
        @lru_cache(None)
        def dfs(i, j):
            if i == j: return 0
            if 1 <= j - i <= 2:
                return j - 1
            if 3 <= j - i <= 4:
                return j - 1 + j - 3

            mid = (i+j)//2
            ans = float('inf')
            for k in range(mid, j-2):
                ans = min(ans, k + max(dfs(i, k-1), dfs(k+1, j)))

            return ans

        ans = dfs(1, n)
        return ans
```

## A376. æ‘†åŠ¨åºåˆ—

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

å¦‚æœè¿ç»­æ•°å­—ä¹‹é—´çš„å·®ä¸¥æ ¼åœ°åœ¨æ­£æ•°å’Œè´Ÿæ•°ä¹‹é—´äº¤æ›¿ï¼Œåˆ™æ•°å­—åºåˆ—ç§°ä¸º**æ‘†åŠ¨åºåˆ—ã€‚**ç¬¬ä¸€ä¸ªå·®ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰å¯èƒ½æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ã€‚å°‘äºä¸¤ä¸ªå…ƒç´ çš„åºåˆ—ä¹Ÿæ˜¯æ‘†åŠ¨åºåˆ—ã€‚

ä¾‹å¦‚ï¼Œ `[1,7,4,9,2,5]` æ˜¯ä¸€ä¸ªæ‘†åŠ¨åºåˆ—ï¼Œå› ä¸ºå·®å€¼ `(6,-3,5,-7,3)` æ˜¯æ­£è´Ÿäº¤æ›¿å‡ºç°çš„ã€‚ç›¸å, `[1,4,7,2,5]` å’Œ `[1,7,4,5,5]` ä¸æ˜¯æ‘†åŠ¨åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—æ˜¯å› ä¸ºå®ƒçš„å‰ä¸¤ä¸ªå·®å€¼éƒ½æ˜¯æ­£æ•°ï¼Œç¬¬äºŒä¸ªåºåˆ—æ˜¯å› ä¸ºå®ƒçš„æœ€åä¸€ä¸ªå·®å€¼ä¸ºé›¶ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œè¿”å›ä½œä¸ºæ‘†åŠ¨åºåˆ—çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦ã€‚ é€šè¿‡ä»åŸå§‹åºåˆ—ä¸­åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å…ƒç´ æ¥è·å¾—å­åºåˆ—ï¼Œå‰©ä¸‹çš„å…ƒç´ ä¿æŒå…¶åŸå§‹é¡ºåºã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,7,4,9,2,5]
è¾“å‡º: 6 
è§£é‡Š: æ•´ä¸ªåºåˆ—å‡ä¸ºæ‘†åŠ¨åºåˆ—ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,17,5,10,13,15,10,5,16,8]
è¾“å‡º: 7
è§£é‡Š: è¿™ä¸ªåºåˆ—åŒ…å«å‡ ä¸ªé•¿åº¦ä¸º 7 æ‘†åŠ¨åºåˆ—ï¼Œå…¶ä¸­ä¸€ä¸ªå¯ä¸º[1,17,10,13,10,16,8]ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [1,2,3,4,5,6,7,8,9]
è¾“å‡º: 2
```

**è¿›é˜¶:**
ä½ èƒ½å¦ç”¨ O(*n*) æ—¶é—´å¤æ‚åº¦å®Œæˆæ­¤é¢˜?

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/wiggle-subsequence/>

#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’+åŒé‡è½¬ç§»æ–¹ç¨‹ã€‚  

ã€€ã€€å¦‚æœä¸€ä¸ªæ•°å¤§äºå®ƒå‰é¢ä¸€ä¸ªæ•°ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§é€‰æ‹©ï¼š1ã€åŸæ¥æ˜¯ä¸Šå‡çš„ï¼Œç»§ç»­ä¸Šå‡ï¼Œå³`asc[i] = asc[i-1]`ï¼›2ã€åŸæ¥æ˜¯ä¸‹é™çš„ï¼Œæ‘†åŠ¨å˜ä¸ºä¸Šå‡ï¼Œå³`asc[i] = dsc[i-1] + 1`ã€‚ç”¨è¿™ä¸¤ç§é€‰æ‹©ä¸­è¾ƒå¤§çš„å€¼ä½œä¸º`asc[i]`æ›´æ–°åçš„æ•°å€¼ã€‚  

ã€€ã€€å› ä¸ºåªè¿›ä¸€æ¬¡éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º`O(n)`ã€‚  

#### ä»£ç   

```python
class Solution:
    def wiggleMaxLength(self, nums: List[int]) -> int:
        n = len(nums)
        if n <= 1: return n
        # [4,9,2,1,5,6]
        asc = [1 for i in range(n)]  # ä¸Šå‡
        dsc = [1 for i in range(n)]  # ä¸‹é™  

        for i in range(1, n):
            if nums[i] > nums[i-1]:
                asc[i] = max(asc[i-1], dsc[i-1] + 1)  # è¦ä¹ˆé€‰æ‹©æ‘†åŠ¨ è¦ä¹ˆé€‰æ‹©ç»§ç»­ä¸Šå‡
            elif nums[i] < nums[i-1]:
                dsc[i] = max(dsc[i-1], asc[i-1] + 1)
            else:
                asc[i] = asc[i-1]
                dsc[i] = dsc[i-1]
                
        return max(asc[-1], dsc[-1])
      
```

## A377. ç»„åˆæ€»å’Œ â…£

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç”±æ­£æ•´æ•°ç»„æˆä¸”ä¸å­˜åœ¨é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œæ‰¾å‡ºå’Œä¸ºç»™å®šç›®æ ‡æ­£æ•´æ•°çš„ç»„åˆçš„ä¸ªæ•°ã€‚

> **ç¤ºä¾‹:**

```
nums = [1, 2, 3]
target = 4

æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¸ºï¼š
(1, 1, 1, 1)
(1, 1, 2)
(1, 2, 1)
(1, 3)
(2, 1, 1)
(2, 2)
(3, 1)

è¯·æ³¨æ„ï¼Œé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆã€‚

å› æ­¤è¾“å‡ºä¸º 7ã€‚
```

**è¿›é˜¶ï¼š**
å¦‚æœç»™å®šçš„æ•°ç»„ä¸­å«æœ‰è´Ÿæ•°ä¼šæ€ä¹ˆæ ·ï¼Ÿ
é—®é¢˜ä¼šäº§ç”Ÿä»€ä¹ˆå˜åŒ–ï¼Ÿ
æˆ‘ä»¬éœ€è¦åœ¨é¢˜ç›®ä¸­æ·»åŠ ä»€ä¹ˆé™åˆ¶æ¥å…è®¸è´Ÿæ•°çš„å‡ºç°ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/combination-sum-iv/>

#### æ€è·¯  

ã€€ã€€ç±»ä¼¼äºèƒŒåŒ…ğŸ’é—®é¢˜ã€‚  

ã€€ã€€1. å¦‚æœæ‰€æœ‰`target - nums[i]`èƒ½ç»„æˆçš„ç»„åˆæ€»æ•°éƒ½å·²çŸ¥ï¼Œé‚£ä¹ˆ`target`èƒ½ç»„æˆçš„ç»„åˆæ€»æ•°å°±æ˜¯å®ƒä»¬çš„å’Œã€‚  

ã€€ã€€2. ä¸ºæ–¹ä¾¿è®¡ç®—ï¼Œ0èƒ½ç»„æˆçš„ç»„åˆæ€»æ•°æ˜¯1ã€‚  

ã€€ã€€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š`dp(n) = sum(dp(n - nums[i])`ã€‚  

#### ä»£ç   

ã€€ã€€**è‡ªé¡¶å‘ä¸‹ï¼š**  

```python
class Solution:
    def combinationSum4(self, nums: List[int], target: int) -> int:

        from functools import lru_cache
        @lru_cache(None)
        def dp(n):
            if n == 0: return 1
            if n < 0: return 0
            return sum([dp(n - num) for num in nums])

        return dp(target)
```

ã€€ã€€**è‡ªåº•å‘ä¸Šï¼š**

```python
class Solution:
    def combinationSum4(self, nums: List[int], target: int) -> int:

        dp = [0] * (target + 1)
        dp[0] = 1
        for i in range(1, target + 1):
            for num in nums:
                if i - num >= 0:
                    dp[i] += dp[i-num]

        # print(dp)
        return dp[target]
```

## A383. èµé‡‘ä¿¡

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªèµé‡‘ä¿¡ (ransom) å­—ç¬¦ä¸²å’Œä¸€ä¸ªæ‚å¿—(magazine)å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ransomèƒ½ä¸èƒ½ç”±ç¬¬äºŒä¸ªå­—ç¬¦ä¸²magazinesé‡Œé¢çš„å­—ç¬¦æ„æˆã€‚å¦‚æœå¯ä»¥æ„æˆï¼Œè¿”å› true ï¼›å¦åˆ™è¿”å› falseã€‚

(é¢˜ç›®è¯´æ˜ï¼šä¸ºäº†ä¸æš´éœ²èµé‡‘ä¿¡å­—è¿¹ï¼Œè¦ä»æ‚å¿—ä¸Šæœç´¢å„ä¸ªéœ€è¦çš„å­—æ¯ï¼Œç»„æˆå•è¯æ¥è¡¨è¾¾æ„æ€ã€‚)

**æ³¨æ„ï¼š**

ä½ å¯ä»¥å‡è®¾ä¸¤ä¸ªå­—ç¬¦ä¸²å‡åªå«æœ‰å°å†™å­—æ¯ã€‚

```
canConstruct("a", "b") -> false
canConstruct("aa", "ab") -> false
canConstruct("aa", "aab") -> true
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/ransom-note/>

#### æ€è·¯  

ã€€ã€€é¢˜ç›®æè¿°è¯´çš„èŠ±é‡Œèƒ¡å“¨çš„ï¼Œå…¶å®å…³é”®å°±æ˜¯**åˆ¤æ–­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ransomèƒ½ä¸èƒ½ç”±ç¬¬äºŒä¸ªå­—ç¬¦ä¸²magazinesé‡Œé¢çš„å­—ç¬¦æ„æˆ**ã€‚  

ã€€ã€€å°†ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦åˆ†åˆ«è®¡æ•°ï¼Œå¦‚æœ`ransomNote`ä¸­æŸä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°æ¯”`magazines`å¤šï¼Œåˆ™è¿”å›`False`ã€‚  

#### ä»£ç   

```python
import collections

class Solution:
    def canConstruct(self, ransomNote: str, magazine: str) -> bool:
        r = collections.Counter(ransomNote)
        m = collections.Counter(magazine)
        for char in r:
            if char not in m or m[char] < r[char]:
                return False
        return True
      
```




## A385. è¿·ä½ è¯­æ³•åˆ†æå™¨

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•´æ•°çš„åµŒå¥—åˆ—è¡¨ï¼Œå®ç°ä¸€ä¸ªè§£æå®ƒçš„è¯­æ³•åˆ†æå™¨ã€‚

åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ åªå¯èƒ½æ˜¯æ•´æ•°æˆ–æ•´æ•°åµŒå¥—åˆ—è¡¨

**æç¤ºï¼š**ä½ å¯ä»¥å‡å®šè¿™äº›å­—ç¬¦ä¸²éƒ½æ˜¯æ ¼å¼è‰¯å¥½çš„ï¼š

- å­—ç¬¦ä¸²éç©º
- å­—ç¬¦ä¸²ä¸åŒ…å«ç©ºæ ¼
- å­—ç¬¦ä¸²åªåŒ…å«æ•°å­—`0-9`, `[`, `-` `,`, `]` 

> **ç¤ºä¾‹ 1ï¼š**

```
ç»™å®š s = "324",

ä½ åº”è¯¥è¿”å›ä¸€ä¸ª NestedInteger å¯¹è±¡ï¼Œå…¶ä¸­åªåŒ…å«æ•´æ•°å€¼ 324ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
ç»™å®š s = "[123,[456,[789]]]",

è¿”å›ä¸€ä¸ª NestedInteger å¯¹è±¡åŒ…å«ä¸€ä¸ªæœ‰ä¸¤ä¸ªå…ƒç´ çš„åµŒå¥—åˆ—è¡¨ï¼š

1. ä¸€ä¸ª integer åŒ…å«å€¼ 123
2. ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„åµŒå¥—åˆ—è¡¨ï¼š
    i.  ä¸€ä¸ª integer åŒ…å«å€¼ 456
    ii. ä¸€ä¸ªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„åµŒå¥—åˆ—è¡¨
         a. ä¸€ä¸ª integer åŒ…å«å€¼ 789
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/mini-parser/>

#### æ€è·¯  

ã€€ã€€é€’å½’ã€‚  

ã€€ã€€ç”±äºå­—ç¬¦ä¸²æ˜¯`è‰¯å¥½`çš„ï¼Œå› æ­¤åˆ¤æ–­èµ·æ¥å°±ååˆ†æ–¹ä¾¿äº†ï¼š  

- å¼€å¤´ä¸ä¸º`"["`çš„ï¼Œè¦ä¹ˆä¸ºçº¯æ•°å­—ï¼Œè¦ä¹ˆä¸ºç©ºã€‚  
- ä¸æ˜¯çº¯æ•°å­—çš„ä¸¤è¾¹ä¸€å®šä¸º`"[]"`ã€‚  

ã€€ã€€å»æ‰ä¸¤è¾¹çš„`"[]"`ï¼Œå¯¹ä¸­é—´çš„éƒ¨åˆ†è¿›è¡Œ`split`ã€‚ç”±äºä¸­é—´éƒ¨åˆ†å¯èƒ½æœ‰åµŒå¥—ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥åˆ†å‰²ã€‚å…ˆè®¡ç®—æ¯ä¸ªé€—å·åµŒå¥—çš„æ·±åº¦(é‡åˆ°`"["`åˆ™+1ï¼Œ`"]"`åˆ™-1)ï¼Œå°†æœ€å¤–ä¾§çš„é€—å·éƒ½æ›¿æ¢æˆåˆ†å·`";"`ï¼Œå†æŒ‰åˆ†å·åˆ†å‰²ä»¥åå°±å¯ä»¥é€’å½’äº†ã€‚  

#### ä»£ç   

```python
class Solution:
    def deserialize(self, s: str) -> NestedInteger:

        if s and not s.startswith('['):  # å•ç‹¬çš„æ•´æ•°
            return NestedInteger(int(s))

        ans = NestedInteger()
        strip = s[1: -1]  # å»æ‰ä¸­æ‹¬å·
        if not strip:  # ä¸ºç©º
            return ans

        count = 0
        strip_list = list(strip)
        for i, c in enumerate(strip_list):
            if c == '[': count += 1
            if c == ']': count -= 1
            if c == ',' and count == 0:
                strip_list[i] = ';'  # åˆ†å·æ˜¯å¯ä»¥splitçš„
        
        strip = ''.join(strip_list)
        elements = strip.split(';')
        for elem in elements:
            ans.add(self.deserialize(elem))
        return ans
      
```


## A386. å­—å…¸åºæ’æ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•° *n*, è¿”å›ä» *1* åˆ° *n* çš„å­—å…¸é¡ºåºã€‚

ä¾‹å¦‚ï¼Œ

ç»™å®š *n* =13ï¼Œè¿”å› [1,10,11,12,13,2,3,4,5,6,7,8,9] ã€‚

è¯·å°½å¯èƒ½çš„ä¼˜åŒ–ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ã€‚ è¾“å…¥çš„æ•°æ® *n* å°äºç­‰äº 5,000,000ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/lexicographical-numbers/>

#### **æ€è·¯:**

ã€€ã€€å¯ä»¥ç”¨dfsï¼Œä¹Ÿå¯ä»¥ç”¨pythonè‡ªå¸¦çš„æ’åºï¼Œç”¨è½¬æ¢æˆå­—ç¬¦ä¸²ä»¥åçš„ç±»å‹ä½œä¸ºkeyã€‚  

#### **ä»£ç :**

```python
class Solution:
    def lexicalOrder(self, n: int) -> List[int]:
        ans = []
        def dfs(x):
            nonlocal n
            if x <= n:
                ans.append(x)
            else:
                return

            x = x * 10
            for i in range(10):
                dfs(x+i)

        for i in range(1, 10):
            dfs(i)

        return ans     

```





## A387. å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦

éš¾åº¦ `ç®€å•` 

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°å®ƒçš„ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ï¼Œå¹¶è¿”å›å®ƒçš„ç´¢å¼•ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚

> **æ¡ˆä¾‹:**

```
s = "leetcode"
è¿”å› 0.

s = "loveleetcode",
è¿”å› 2.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/first-unique-character-in-a-string/>

#### æ€è·¯  


ã€€ã€€å…ˆç»Ÿè®¡æ¬¡æ•°ï¼Œç„¶åè¿”å›æ¬¡æ•°ä¸º`1`çš„ã€‚  

#### ä»£ç   

```python
class Solution:
    def firstUniqChar(self, s: str) -> int:
        dict = {a: s.count(a) for a in string.ascii_lowercase}
        for i, char in enumerate(s):
            if dict[char] == 1:
                return i
        return -1
```

## A388. æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å‡è®¾æˆ‘ä»¬ä»¥ä¸‹è¿°æ–¹å¼å°†æˆ‘ä»¬çš„æ–‡ä»¶ç³»ç»ŸæŠ½è±¡æˆä¸€ä¸ªå­—ç¬¦ä¸²:

å­—ç¬¦ä¸² `"dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext"` è¡¨ç¤º:

```
dir
    subdir1
    subdir2
        file.ext
```

ç›®å½• `dir` åŒ…å«ä¸€ä¸ªç©ºçš„å­ç›®å½• `subdir1` å’Œä¸€ä¸ªåŒ…å«ä¸€ä¸ªæ–‡ä»¶ `file.ext` çš„å­ç›®å½• `subdir2` ã€‚

å­—ç¬¦ä¸² `"dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"` è¡¨ç¤º:

```
dir
    subdir1
        file1.ext
        subsubdir1
    subdir2
        subsubdir2
            file2.ext
```

ç›®å½• `dir` åŒ…å«ä¸¤ä¸ªå­ç›®å½• `subdir1` å’Œ `subdir2`ã€‚ `subdir1` åŒ…å«ä¸€ä¸ªæ–‡ä»¶ `file1.ext` å’Œä¸€ä¸ªç©ºçš„äºŒçº§å­ç›®å½• `subsubdir1`ã€‚`subdir2` åŒ…å«ä¸€ä¸ªäºŒçº§å­ç›®å½• `subsubdir2` ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæ–‡ä»¶ `file2.ext`ã€‚

æˆ‘ä»¬è‡´åŠ›äºå¯»æ‰¾æˆ‘ä»¬æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„æœ€é•¿ (æŒ‰å­—ç¬¦çš„æ•°é‡ç»Ÿè®¡) ç»å¯¹è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šè¿°çš„ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œæœ€é•¿è·¯å¾„ä¸º `"dir/subdir2/subsubdir2/file2.ext"`ï¼Œå…¶é•¿åº¦ä¸º `32` (ä¸åŒ…å«åŒå¼•å·)ã€‚

ç»™å®šä¸€ä¸ªä»¥ä¸Šè¿°æ ¼å¼è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„çš„é•¿åº¦ã€‚ å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰æ–‡ä»¶ï¼Œè¿”å› `0`ã€‚

**è¯´æ˜:**

- æ–‡ä»¶åè‡³å°‘å­˜åœ¨ä¸€ä¸ª `.` å’Œä¸€ä¸ªæ‰©å±•åã€‚
- ç›®å½•æˆ–è€…å­ç›®å½•çš„åå­—ä¸èƒ½åŒ…å« `.`ã€‚

è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º `O(n)` ï¼Œå…¶ä¸­ `n` æ˜¯è¾“å…¥å­—ç¬¦ä¸²çš„å¤§å°ã€‚

è¯·æ³¨æ„ï¼Œå¦‚æœå­˜åœ¨è·¯å¾„ `aaaaaaaaaaaaaaaaaaaaa/sth.png` çš„è¯ï¼Œé‚£ä¹ˆ  `a/aa/aaa/file1.txt` å°±ä¸æ˜¯ä¸€ä¸ªæœ€é•¿çš„è·¯å¾„ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-absolute-file-path/>

#### **æ€è·¯:**

ã€€ã€€æ³¨æ„æ˜¯åªç»Ÿè®¡**æ–‡ä»¶**çš„é•¿åº¦ï¼Œä¸åŒ…æ‹¬æ–‡ä»¶å¤¹ï¼›å¯ä»¥é€šè¿‡ç»Ÿè®¡`\t`çš„ä¸ªæ•°æ¥åˆ¤æ–­å±‚çº§ã€‚  

ã€€ã€€ç”¨ä¸€ä¸ªæ ˆæ¥ç»´æŠ¤å½“å‰çš„è·¯å¾„ï¼Œå½“å±‚çº§`+1`æ—¶å…¥æ ˆï¼Œå±‚çº§ä¸å˜æ—¶å…ˆå‡ºæ ˆåå…¥æ ˆï¼Œå±‚çº§`-n`æ—¶è¿ç»­å‡ºæ ˆ`n+1`åå…¥æ ˆã€‚  

#### **ä»£ç :**

```python
class Solution:
    def lengthLongestPath(self, input: str) -> int:
        if not input:
            return 0

        files = input.split('\n')
        stack = []
        length = 0
        ans = 0
        for i in range(len(files)):
            if i == 0:  # æ ¹ç›®å½•
                length += len(files[0])
                stack.append(len(files[0]))
                if '.' in files[0]:
                    ans = max(ans, length)
            else:
                level1 = files[i-1].count('\t')
                level2 = files[i].count('\t')
                file = files[i].lstrip('\t')
                if level2 - level1 == 1:  # å‰è¿›1çº§
                    # length += len(files[i])
                    stack.append(len(file))
                    if '.' in files[i]:
                        ans = max(ans, sum(stack) + len(stack) - 1)
                elif level2 == level1:  # åŒçº§
                    stack.pop()
                    stack.append(len(file))
                    if '.' in files[i]:
                        ans = max(ans, sum(stack) + len(stack) - 1)
                else:  # åé€€level1 - level2çº§
                    for _ in range(level1 - level2):
                        stack.pop()

                    stack.pop()
                    stack.append(len(file))
                    if '.' in files[i]:
                        ans = max(ans, sum(stack) + len(stack) - 1)
        return ans

```

## A392. åˆ¤æ–­å­åºåˆ—

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šå­—ç¬¦ä¸² **s** å’Œ **t** ï¼Œåˆ¤æ–­ **s** æ˜¯å¦ä¸º **t** çš„å­åºåˆ—ã€‚

ä½ å¯ä»¥è®¤ä¸º **s** å’Œ **t** ä¸­ä»…åŒ…å«è‹±æ–‡å°å†™å­—æ¯ã€‚å­—ç¬¦ä¸² **t** å¯èƒ½ä¼šå¾ˆé•¿ï¼ˆé•¿åº¦ ~= 500,000ï¼‰ï¼Œè€Œ **s** æ˜¯ä¸ªçŸ­å­—ç¬¦ä¸²ï¼ˆé•¿åº¦ <=100ï¼‰ã€‚

å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­åºåˆ—æ˜¯åŸå§‹å­—ç¬¦ä¸²åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å­—ç¬¦è€Œä¸æ”¹å˜å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆä¾‹å¦‚ï¼Œ`"ace"`æ˜¯`"abcde"`çš„ä¸€ä¸ªå­åºåˆ—ï¼Œè€Œ`"aec"`ä¸æ˜¯ï¼‰ã€‚

> **ç¤ºä¾‹ 1:**  

**s** = `"abc"`, **t** = `"ahbgdc"`

è¿”å› `true`.

> **ç¤ºä¾‹ 2:**  

**s** = `"axc"`, **t** = `"ahbgdc"`

è¿”å› `false`.

**åç»­æŒ‘æˆ˜** **:**

å¦‚æœæœ‰å¤§é‡è¾“å…¥çš„ Sï¼Œç§°ä½œS1, S2, ... , Sk å…¶ä¸­ k >= 10äº¿ï¼Œä½ éœ€è¦ä¾æ¬¡æ£€æŸ¥å®ƒä»¬æ˜¯å¦ä¸º T çš„å­åºåˆ—ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ ä¼šæ€æ ·æ”¹å˜ä»£ç ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/is-subsequence/>

#### æ€è·¯  

ã€€ã€€å¦‚æœ`sæ˜¯tçš„å­åºåˆ—`ï¼Œä¹Ÿå°±æ˜¯è¯´`s`ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ä¼šæŒ‰ç…§é¡ºåºå‡ºç°åœ¨`t`ä¸­ï¼Œå› æ­¤ï¼Œä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹å¼å®ç°ã€‚  

#### ä»£ç   

ã€€ã€€**å†™æ³•ä¸€ï¼š**

```python
class Solution:
    def isSubsequence(self, s: str, t: str) -> bool:
        ls, lt =  len(s), len(t)
        if not ls: return True
        if not lt: return False
        id_s = 0
        id_t = 0
        while id_t < lt:
            if t[id_t] == s[id_s]:
                id_s += 1
                if id_s >= ls:
                    return True
            id_t += 1

        # print(lt)
        return False
```

ã€€ã€€**å†™æ³•äºŒï¼š**  

```python
class Solution(object):
    def isSubsequence(self, s, t):
        """
        :type a: str
        :type b: str
        :rtype: bool
        """
        t = iter(t)
        return all(i in t for i in s)

```

## A394. å­—ç¬¦ä¸²è§£ç 

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚

ç¼–ç è§„åˆ™ä¸º: `k[encoded_string]`ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ *encoded_string* æ­£å¥½é‡å¤ *k* æ¬¡ã€‚æ³¨æ„ *k* ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚

ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° *k* ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ `3a` æˆ– `2[4]` çš„è¾“å…¥ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "3[a]2[bc]"
è¾“å‡ºï¼š"aaabcbc"
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "3[a2[c]]"
è¾“å‡ºï¼š"accaccacc"
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "2[abc]3[cd]ef"
è¾“å‡ºï¼š"abcabccdcdcdef"
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šs = "abc3[cd]xyz"
è¾“å‡ºï¼š"abccdcdcdxyz"
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/decode-string/>

#### **æ€è·¯:**

ã€€ã€€å¯ä»¥é€’å½’åœ°æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ç¬¬ä¸€å±‚é€’å½’å¤„ç†æœ€å¤–é¢ä¸€å±‚ä¸­æ‹¬å·ï¼Œç¬¬äºŒå±‚é€’å½’å¤„ç†é‡Œé¢ä¸€å±‚çš„ä¸­æ‹¬å·ï¼Œä»¥æ­¤ç±»æ¨ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def decodeString(self, s: str) -> str:
        #  k[]
        times = 0
        stack = []
        ans = ''
        for i, char in enumerate(s):
            if char.isdigit():
                if not stack:  # æœ€å¤–å±‚
                    times = times * 10 + int(char)
            elif char == '[':
                stack.append(i)
            elif char == ']':
                top = stack.pop()
                if not stack:
                    ans += times * self.decodeString(s[top+1: i])  # é€’å½’
                    times = 0
                    # print(top, i)
            else:
                if not stack:  # æœ€å¤–å±‚
                    ans += char

        return ans

```

## A397. æ•´æ•°æ›¿æ¢

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° *n*ï¼Œä½ å¯ä»¥åšå¦‚ä¸‹æ“ä½œï¼š

\1. å¦‚æœ *n* æ˜¯å¶æ•°ï¼Œåˆ™ç”¨ `n / 2`æ›¿æ¢ *n*ã€‚
\2. å¦‚æœ *n* æ˜¯å¥‡æ•°ï¼Œåˆ™å¯ä»¥ç”¨ `n + 1`æˆ–`n - 1`æ›¿æ¢ *n*ã€‚
*n* å˜ä¸º 1 æ‰€éœ€çš„æœ€å°æ›¿æ¢æ¬¡æ•°æ˜¯å¤šå°‘ï¼Ÿ

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
8

è¾“å‡º:
3

è§£é‡Š:
8 -> 4 -> 2 -> 1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
7

è¾“å‡º:
4

è§£é‡Š:
7 -> 8 -> 4 -> 2 -> 1
æˆ–
7 -> 6 -> 3 -> 2 -> 1
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/integer-replacement/>

#### **æ€è·¯:**

ã€€ã€€ å› ä¸ºè¦ä»¥**æœ€çŸ­çš„æ›¿æ¢æ¬¡æ•°**åˆ°è¾¾1ï¼Œç›¸å½“äºè¾¹æƒä¸º1çš„æœ€çŸ­è·¯å¾„é—®é¢˜(æ¯æ¬¡æ›¿æ¢éƒ½åªå ç”¨1æ¬¡æ¬¡æ•°)ï¼Œä½¿ç”¨bfsã€‚  

#### **ä»£ç :**

```python
class Solution:
    def integerReplacement(self, n: int) -> int:
        visited = defaultdict(bool)
        queue = [n]  # å¼€å§‹çš„ä½ç½®
        visited[n] = True
        depth = 0

        while queue:
            for q in queue:
                if q == 1:
                    return depth  # åˆ°è¾¾ç»ˆç‚¹çš„æ¡ä»¶

            depth += 1
            temp = []
            for q in queue:
                neibours = []
                if q % 2 == 0:
                    neibours = [q//2]
                else:
                    neibours = [q+1, q-1]

                for neibour in neibours:  # æ‰€æœ‰ç›¸é‚»çš„è·¯å¾„
                    if not visited[neibour]:
                        if neibour not in temp:
                            visited[neibour] = True
                            temp.append(neibour)

            queue = temp
```

## A402. ç§»æ‰Kä½æ•°å­—

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° *num* ï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ *k* ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚

**æ³¨æ„:**

- *num* çš„é•¿åº¦å°äº 10002 ä¸” â‰¥ *kã€‚*
- *num* ä¸ä¼šåŒ…å«ä»»ä½•å‰å¯¼é›¶ã€‚

> **ç¤ºä¾‹ 1 :**

```
è¾“å…¥: num = "1432219", k = 3
è¾“å‡º: "1219"
è§£é‡Š: ç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— 4, 3, å’Œ 2 å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— 1219ã€‚
```

> **ç¤ºä¾‹ 2 :**

```
è¾“å…¥: num = "10200", k = 1
è¾“å‡º: "200"
è§£é‡Š: ç§»æ‰é¦–ä½çš„ 1 å‰©ä¸‹çš„æ•°å­—ä¸º 200. æ³¨æ„è¾“å‡ºä¸èƒ½æœ‰ä»»ä½•å‰å¯¼é›¶ã€‚
```

ç¤ºä¾‹ **3 :**

```
è¾“å…¥: num = "10", k = 2
è¾“å‡º: "0"
è§£é‡Š: ä»åŸæ•°å­—ç§»é™¤æ‰€æœ‰çš„æ•°å­—ï¼Œå‰©ä½™ä¸ºç©ºå°±æ˜¯0ã€‚
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/remove-k-digits/>

#### **æ€è·¯:**


ã€€ã€€æ‰¾åˆ°`num`çš„å‰`k+1`ä½ä¸­æœ€å°çš„ï¼ŒæŠŠå®ƒç•™ä¸‹æ¥ä½œä¸ºç»“æœçš„é¦–ä½ã€‚å°†å®ƒå‰é¢çš„æ•°å­—(å‡è®¾æœ‰`a`ä¸ª)**å…¨éƒ¨åˆ é™¤**ï¼›å¯¹å®ƒåé¢çš„æ•°å­—ç»§ç»­è®¡ç®—ç§»é™¤`k-a`ä¸ªæ•°å­—èƒ½å¤Ÿå¾—åˆ°çš„æœ€å°çš„æ•°ï¼Œé€’å½’åœ°æ±‚è§£å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def helper(self, num, k):
        if k == 0:
            return num

        ln = len(num)
        if ln == k:
            return ''

        first = min(num[:k+1])  # ç»“æœæœ€å°çš„é¦–ä½æ•°å­—
        a = num.index(first)
        return first + self.helper(num[a+1:], k - a)

    def removeKdigits(self, num: str, k: int) -> str:
        ans = self.helper(num, k)

        ans = ans.lstrip('0')  # å»é™¤å‰å¯¼0
        if not ans:
            ans = '0'
        return ans

```

## A403. é’è›™è¿‡æ²³

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ä¸€åªé’è›™æƒ³è¦è¿‡æ²³ã€‚ å‡å®šæ²³æµè¢«ç­‰åˆ†ä¸º x ä¸ªå•å…ƒæ ¼ï¼Œå¹¶ä¸”åœ¨æ¯ä¸€ä¸ªå•å…ƒæ ¼å†…éƒ½æœ‰å¯èƒ½æ”¾æœ‰ä¸€çŸ³å­ï¼ˆä¹Ÿæœ‰å¯èƒ½æ²¡æœ‰ï¼‰ã€‚ é’è›™å¯ä»¥è·³ä¸ŠçŸ³å¤´ï¼Œä½†æ˜¯ä¸å¯ä»¥è·³å…¥æ°´ä¸­ã€‚

ç»™å®šçŸ³å­çš„ä½ç½®åˆ—è¡¨ï¼ˆç”¨å•å…ƒæ ¼åºå·å‡åºè¡¨ç¤ºï¼‰ï¼Œ **è¯·åˆ¤å®šé’è›™èƒ½å¦æˆåŠŸè¿‡æ²³**ï¼ˆå³èƒ½å¦åœ¨æœ€åä¸€æ­¥è·³è‡³æœ€åä¸€ä¸ªçŸ³å­ä¸Šï¼‰ã€‚ å¼€å§‹æ—¶ï¼Œ é’è›™é»˜è®¤å·²ç«™åœ¨ç¬¬ä¸€ä¸ªçŸ³å­ä¸Šï¼Œå¹¶å¯ä»¥å‡å®šå®ƒç¬¬ä¸€æ­¥åªèƒ½è·³è·ƒä¸€ä¸ªå•ä½ï¼ˆå³åªèƒ½ä»å•å…ƒæ ¼1è·³è‡³å•å…ƒæ ¼2ï¼‰ã€‚

å¦‚æœé’è›™ä¸Šä¸€æ­¥è·³è·ƒäº† *k* ä¸ªå•ä½ï¼Œé‚£ä¹ˆå®ƒæ¥ä¸‹æ¥çš„è·³è·ƒè·ç¦»åªèƒ½é€‰æ‹©ä¸º *k - 1*ã€*k* æˆ– *k + 1*ä¸ªå•ä½ã€‚ å¦è¯·æ³¨æ„ï¼Œé’è›™åªèƒ½å‘å‰æ–¹ï¼ˆç»ˆç‚¹çš„æ–¹å‘ï¼‰è·³è·ƒã€‚

**è¯·æ³¨æ„ï¼š**

- çŸ³å­çš„æ•°é‡ â‰¥ 2 ä¸” < 1100ï¼›
- æ¯ä¸€ä¸ªçŸ³å­çš„ä½ç½®åºå·éƒ½æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œä¸”å…¶ < 231ï¼›
- ç¬¬ä¸€ä¸ªçŸ³å­çš„ä½ç½®æ°¸è¿œæ˜¯0ã€‚

> **ç¤ºä¾‹ 1:**

```
[0,1,3,5,6,8,12,17]

æ€»å…±æœ‰8ä¸ªçŸ³å­ã€‚
ç¬¬ä¸€ä¸ªçŸ³å­å¤„äºåºå·ä¸º0çš„å•å…ƒæ ¼çš„ä½ç½®, ç¬¬äºŒä¸ªçŸ³å­å¤„äºåºå·ä¸º1çš„å•å…ƒæ ¼çš„ä½ç½®,
ç¬¬ä¸‰ä¸ªçŸ³å­åœ¨åºå·ä¸º3çš„å•å…ƒæ ¼çš„ä½ç½®ï¼Œ ä»¥æ­¤å®šä¹‰æ•´ä¸ªæ•°ç»„...
æœ€åä¸€ä¸ªçŸ³å­å¤„äºåºå·ä¸º17çš„å•å…ƒæ ¼çš„ä½ç½®ã€‚

è¿”å› trueã€‚å³é’è›™å¯ä»¥æˆåŠŸè¿‡æ²³ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ–¹æ¡ˆè·³è·ƒï¼š 
è·³1ä¸ªå•ä½åˆ°ç¬¬2å—çŸ³å­, ç„¶åè·³2ä¸ªå•ä½åˆ°ç¬¬3å—çŸ³å­, æ¥ç€ 
è·³2ä¸ªå•ä½åˆ°ç¬¬4å—çŸ³å­, ç„¶åè·³3ä¸ªå•ä½åˆ°ç¬¬6å—çŸ³å­, 
è·³4ä¸ªå•ä½åˆ°ç¬¬7å—çŸ³å­, æœ€åï¼Œè·³5ä¸ªå•ä½åˆ°ç¬¬8ä¸ªçŸ³å­ï¼ˆå³æœ€åä¸€å—çŸ³å­ï¼‰ã€‚
```

> **ç¤ºä¾‹ 2:**

```
[0,1,2,3,4,8,9,11]

è¿”å› falseã€‚é’è›™æ²¡æœ‰åŠæ³•è¿‡æ²³ã€‚ 
è¿™æ˜¯å› ä¸ºç¬¬5å’Œç¬¬6ä¸ªçŸ³å­ä¹‹é—´çš„é—´è·å¤ªå¤§ï¼Œæ²¡æœ‰å¯é€‰çš„æ–¹æ¡ˆä¾›é’è›™è·³è·ƒè¿‡å»ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/frog-jump/>

#### æ€è·¯  

ã€€ã€€æ ‡å‡†çš„åŠ¨æ€è§„åˆ’ã€‚å…ˆéå†ä¸€é`stones`ï¼Œç”¨ä¸€ä¸ªé›†åˆ`set`è®°å½•å“ªäº›ä½ç½®å‡ºç°è¿‡ã€‚  

ã€€ã€€ä»æ¯ä¸ªå½“å‰ä½ç½®`n`éƒ½å°è¯•è·³`k-1`ã€`k`ã€`k+1`ä¸ªå•ä½ï¼Œå¦‚æœèƒ½è½åœ¨`set`ä¸­å‡ºç°è¿‡çš„ä½ç½®ï¼Œåˆ™ç»§ç»­é€’å½’ï¼Œå¦åˆ™è¿”å›ã€‚  

ã€€ã€€ç”¨`è®°å¿†æ•°ç»„`æˆ–è€…`lruç¼“å­˜`è®°å½•å·²ç»è®¡ç®—è¿‡çš„`(n, k)`çš„ç»„åˆï¼Œé¿å…é‡å¤è®¡ç®—ã€‚  

#### ä»£ç   

```python
sys.setrecursionlimit(100000)
class Solution:
    def canCross(self, stones: List[int]) -> bool:
        dict = {stone: i for i, stone in enumerate(stones)}
        # print(dict)
        ls = len(stones)

        from functools import lru_cache
        @lru_cache(None)
        def jump(n, k):  # ä»ä¸‹æ ‡n è·³kä¸ªå•ä½
            if k <= 0: return False  # é¿å…åŸåœ°è·³å’Œå‘åè·³
            to = stones[n] + k

            land = dict.get(to)  # è½åœ°çš„ä¸‹æ ‡
            if land is None: return False  # é¿å…è·³åˆ°æ°´é‡Œ

            if land == ls - 1: return True  # è½åœ¨æœ€åä¸€å—çŸ³å­ï¼Œè¿”å›

            if jump(land, k - 1) or jump(land, k) or jump(land, k + 1):
                return True

            return False

        return jump(0, 1)
```

## A406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ã€‚ æ¯ä¸ªäººç”±ä¸€ä¸ªæ•´æ•°å¯¹`(h, k)`è¡¨ç¤ºï¼Œå…¶ä¸­`h`æ˜¯è¿™ä¸ªäººçš„èº«é«˜ï¼Œ`k`æ˜¯æ’åœ¨è¿™ä¸ªäººå‰é¢ä¸”èº«é«˜å¤§äºæˆ–ç­‰äº`h`çš„äººæ•°ã€‚ ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥é‡å»ºè¿™ä¸ªé˜Ÿåˆ—ã€‚

**æ³¨æ„ï¼š**
æ€»äººæ•°å°‘äº1100äººã€‚

> **ç¤ºä¾‹**

```
è¾“å…¥:
[[7,0], [4,4], [7,1], [5,0], [6,1], [5,2]]

è¾“å‡º:
[[5,0], [7,0], [5,2], [6,1], [4,4], [7,1]]
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/queue-reconstruction-by-height/>

#### **æ€è·¯:**

ã€€ã€€å…ˆæŒ‰ç…§`(k, h)`æ’åºï¼Œç„¶åç”¨æ’å…¥æ’åºçš„æ€æƒ³ã€‚  

ã€€ã€€ä¸€ä¸ªäººå¦‚æœèº«é«˜ä¸º`h`ï¼Œå‰é¢æœ‰`k`ä¸ªèº«é«˜å¤§äºç­‰äºä»–çš„äººï¼Œé‚£ä¹ˆæ’å…¥æ’åºæ—¶è®©ä»–**å°½é‡å¾€åç«™**ï¼Œåªè¦ä¿è¯å‰é¢èº«é«˜å¤§äºç­‰äºä»–çš„äººæ•°ä¸º`k`å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def reconstructQueue(self, people: List[List[int]]) -> List[List[int]]:
        people.sort(key = lambda kv: (kv[1], kv[0]))
        # print(people)

        ans = []
        for h, k in people:
            count = 0
            i = 0
            for i, (h0, _) in enumerate(ans):
                if h0 >= h:
                    count += 1
                if count > k:
                    ans.insert(i, [h, k])
                    break
            else:
                ans.insert(i + 1, [h, k])

        return ans

```

## A410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼


éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° *m*ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ *m* ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™ *m* ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚

**æ³¨æ„:**
æ•°ç»„é•¿åº¦ *n* æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:

- 1 â‰¤ *n* â‰¤ 1000
- 1 â‰¤ *m* â‰¤ min(50, *n*)

> **ç¤ºä¾‹:**

```
è¾“å…¥:
nums = [7,2,5,10,8]
m = 2

è¾“å‡º:
18

è§£é‡Š:
ä¸€å…±æœ‰å››ç§æ–¹æ³•å°†numsåˆ†å‰²ä¸º2ä¸ªå­æ•°ç»„ã€‚
å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º[7,2,5] å’Œ [10,8]ï¼Œ
å› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/split-array-largest-sum/>

#### æ€è·¯  

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**åŠ¨æ€è§„åˆ’ã€‚å¦‚æœæ•°ç»„`nums`å‰`n-1`é¡¹å’Œå°äº`m`æ¬¡åˆ’åˆ†çš„å¹³å‡æ•°ï¼Œä½†æ˜¯å†åŠ ä¸Šç¬¬`n`é¡¹å°±ä¼šå¤§äºå¹³å‡æ•°ã€‚é‚£ä¹ˆç¬¬ä¸€æ¬¡åˆ’åˆ†ä¸€å®šæ˜¯`n-1`å’Œ`n`ä¸­çš„ä¸€ä¸ªï¼ˆæ— æ³•ä¸¥æ ¼è¯æ˜ï¼Œä½†æ˜¯èƒ½ACï¼‰ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**é¦–å…ˆåˆ†æé¢˜æ„ï¼Œå¯ä»¥å¾—å‡ºç»“è®ºï¼Œç»“æœå¿…å®šè½åœ¨`[max(nums), sum(nums)]`è¿™ä¸ªåŒºé—´å†…ï¼Œå› ä¸ºå·¦ç«¯ç‚¹å¯¹åº”æ¯ä¸ªå•ç‹¬çš„å…ƒç´ æ„æˆä¸€ä¸ªå­æ•°ç»„ï¼Œå³ç«¯ç‚¹å¯¹åº”æ‰€æœ‰å…ƒç´ æ„æˆä¸€ä¸ªå­æ•°ç»„ã€‚

ã€€ã€€ç„¶åå¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•é€æ­¥ç¼©å°åŒºé—´èŒƒå›´ï¼Œå½“åŒºé—´é•¿åº¦ä¸º1æ—¶ï¼Œå³æ‰¾åˆ°äº†æœ€ç»ˆç­”æ¡ˆã€‚

ã€€ã€€æ¯æ¬¡äºŒåˆ†æŸ¥æ‰¾å°±æ˜¯å…ˆç®—ä¸€ä¸ª`mid`å€¼ï¼Œè¿™ä¸ª`mid`å°±æ˜¯ä»£è¡¨å½“å‰çŒœæµ‹çš„ç­”æ¡ˆï¼Œç„¶åæ¨¡æ‹Ÿä¸€ä¸‹åˆ’åˆ†å­æ•°ç»„çš„è¿‡ç¨‹ï¼Œå¯ä»¥å¾—åˆ°ç”¨è¿™ä¸ª`mid`å€¼ä¼šä¸€å…±å¾—åˆ°çš„å­åŒºé—´æ•°`cnt`ï¼Œç„¶åæ¯”è¾ƒ`cnt`å’Œ`m`çš„å…³ç³»ï¼Œæ¥æ›´æ–°åŒºé—´èŒƒå›´ã€‚

#### ä»£ç   

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**  

```python
class Solution:
    def splitArray(self, nums: List[int], m: int) -> int:
        n = len(nums)
        if n == 0: return 0
        if n == 1: return nums[0]

        sums = [0] * n
        for i, num in enumerate(nums):
            if i == 0:
                sums[i] = num
            else:
                sums[i] = sums[i - 1] + num

        def get_sum(i, j):  # O(1) æ±‚å’Œ
            if i == 0: return sums[j - 1]
            return sums[j - 1] - sums[i - 1]

        from functools import lru_cache
        @lru_cache(None)
        def dp(i, j, m):  # ä¸‹æ ‡iåˆ°j åˆ†æˆmä¸ª
            if j <= i: return 0
            if m == 1: return get_sum(i, j)

            ave = get_sum(i, j) / m
            temp = 0
            for k in range(i, j):
                temp += nums[k]
                if temp > ave:
                    if k == 0: return max(temp, dp(k + 1, j, m - 1))
                    return min(max(temp, dp(k + 1, j, m - 1)), max(temp - nums[k], dp(k, j, m - 1)))

        return dp(0, n, m)

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**  

```python
class Solution:
    def splitArray(self, nums, m):
        def countGroups(mid):
            temp = 0
            count = 1
            for num in nums:
                temp += num
                if temp > mid:
                    count += 1
                    temp = num # å‡†å¤‡ä¸‹ä¸€ç»„
            return count
        
        left, right = max(nums), sum(nums)
        
        while left < right:
            mid = left + (right - left) // 2
            num_group = countGroups(mid)
            
            if num_group > m: # åˆ’åˆ†å¤šäº†ï¼Œmidå¤ªå°äº†
                left = mid + 1
            else:
                right = mid
        print(left, mid, right)
        return left # leftæ°å¥½æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€å°‘åˆ†å‰²ï¼Œè‡ªç„¶å°±æœ€å¤§
      
```

## A413. ç­‰å·®æ•°åˆ—åˆ’åˆ†


éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

å¦‚æœä¸€ä¸ªæ•°åˆ—è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—ã€‚

ä¾‹å¦‚ï¼Œä»¥ä¸‹æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—:

```
1, 3, 5, 7, 9
7, 7, 7, 7
3, -1, -5, -9
```

ä»¥ä¸‹æ•°åˆ—ä¸æ˜¯ç­‰å·®æ•°åˆ—ã€‚

```
1, 1, 2, 5, 7 
```

æ•°ç»„ A åŒ…å« N ä¸ªæ•°ï¼Œä¸”ç´¢å¼•ä»0å¼€å§‹ã€‚æ•°ç»„ A çš„ä¸€ä¸ªå­æ•°ç»„åˆ’åˆ†ä¸ºæ•°ç»„ (P, Q)ï¼ŒP ä¸ Q æ˜¯æ•´æ•°ä¸”æ»¡è¶³ 0<=P<Q<N ã€‚

å¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ç§°å­æ•°ç»„(P, Q)ä¸ºç­‰å·®æ•°ç»„ï¼š

å…ƒç´  A[P], A[p + 1], ..., A[Q - 1], A[Q] æ˜¯ç­‰å·®çš„ã€‚å¹¶ä¸” P + 1 < Q ã€‚

å‡½æ•°è¦è¿”å›æ•°ç»„ A ä¸­æ‰€æœ‰ä¸ºç­‰å·®æ•°ç»„çš„å­æ•°ç»„ä¸ªæ•°ã€‚

> **ç¤ºä¾‹:**

```
A = [1, 2, 3, 4]

è¿”å›: 3, A ä¸­æœ‰ä¸‰ä¸ªå­ç­‰å·®æ•°ç»„: [1, 2, 3], [2, 3, 4] ä»¥åŠè‡ªèº« [1, 2, 3, 4]ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/arithmetic-slices/>

#### æ€è·¯  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚æ³¨æ„ç”±é¢˜æ„**è¿ç»­çš„**æ‰èƒ½ä¸ºå­ç­‰å·®åºåˆ—ã€‚  

ã€€ã€€`dp[i]`è¡¨ç¤ºä»¥ç¬¬`i`ä¸ªå…ƒç´ ç»“å°¾çš„å­ç­‰å·®æ•°åˆ—çš„ä¸ªæ•°ã€‚å¦‚æœ`A[i] - A[i-1] != A[i-1] - A[i-2]`ï¼Œé‚£ä¹ˆä»¥ç¬¬`i`ä¸ªå…ƒç´ ç»“å°¾ä¸å¯èƒ½ç»„æˆä»»ä½•å­ç­‰å·®æ•°åˆ—ã€‚å¦åˆ™èƒ½ç»„æˆ `dp[i-1] + 1`ä¸ªå­ç­‰å·®æ•°åˆ—ã€‚  

#### ä»£ç   

```python
class Solution:
    def numberOfArithmeticSlices(self, A: List[int]) -> int:
        n = len(A)
        if n < 3: return 0

        dp = [0 for _ in range(n+1)]

        for i in range(2, n):  
            if A[i] - A[i-1] == A[i-1] - A[i-2]:
                dp[i] = dp[i-1] + 1
    
        return sum(dp)
                    
```

## A416. åˆ†å‰²ç­‰å’Œå­é›†

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª**åªåŒ…å«æ­£æ•´æ•°**çš„**éç©º**æ•°ç»„ã€‚æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚

**æ³¨æ„:**

1. æ¯ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¶…è¿‡ 100
2. æ•°ç»„çš„å¤§å°ä¸ä¼šè¶…è¿‡ 200

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1, 5, 11, 5]

è¾“å‡º: true

è§£é‡Š: æ•°ç»„å¯ä»¥åˆ†å‰²æˆ [1, 5, 5] å’Œ [11].
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1, 2, 3, 5]

è¾“å‡º: false

è§£é‡Š: æ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†.
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/partition-equal-subset-sum/>

#### æ€è·¯  

ã€€ã€€æ‹†åˆ†æˆæ‰¾å…¨éƒ¨æ•°å­—ä¹‹å’Œä¸€åŠçš„é—®é¢˜ã€‚ç”¨ä¸€ä¸ªé›†åˆè®°å½•åˆ°å½“å‰ä¸ºæ­¢å‡ºç°è¿‡çš„å’Œã€‚  

#### ä»£ç   

```python
class Solution:
    def canPartition(self, nums: List[int]) -> bool:
        sums = sum(nums)
        if sums % 2 != 0: return False
        half_sum = sums // 2  # å…¨éƒ¨æ•°å­—å’Œçš„ä¸€åŠ
        if nums[0] == half_sum: return True

        set_sums = set()
        set_sums.add(nums[0])
        for i in range(1, len(nums)):
            num = nums[i]
            if num > half_sum: 
                return False

            if num == half_sum: 
                return True

            for s in list(set_sums):
                if s + num == half_sum:
                    return True

                set_sums.add(s + num)

        return False
```


## A417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª `m x n` çš„éè´Ÿæ•´æ•°çŸ©é˜µæ¥è¡¨ç¤ºä¸€ç‰‡å¤§é™†ä¸Šå„ä¸ªå•å…ƒæ ¼çš„é«˜åº¦ã€‚â€œå¤ªå¹³æ´‹â€å¤„äºå¤§é™†çš„å·¦è¾¹ç•Œå’Œä¸Šè¾¹ç•Œï¼Œè€Œâ€œå¤§è¥¿æ´‹â€å¤„äºå¤§é™†çš„å³è¾¹ç•Œå’Œä¸‹è¾¹ç•Œã€‚

è§„å®šæ°´æµåªèƒ½æŒ‰ç…§ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘æµåŠ¨ï¼Œä¸”åªèƒ½ä»é«˜åˆ°ä½æˆ–è€…åœ¨åŒç­‰é«˜åº¦ä¸ŠæµåŠ¨ã€‚

è¯·æ‰¾å‡ºé‚£äº›æ°´æµæ—¢å¯ä»¥æµåŠ¨åˆ°â€œå¤ªå¹³æ´‹â€ï¼Œåˆèƒ½æµåŠ¨åˆ°â€œå¤§è¥¿æ´‹â€çš„é™†åœ°å•å…ƒçš„åæ ‡ã€‚ 

**æç¤ºï¼š**

1. è¾“å‡ºåæ ‡çš„é¡ºåºä¸é‡è¦
2. *m* å’Œ *n* éƒ½å°äº150

> **ç¤ºä¾‹ï¼š** 

```
ç»™å®šä¸‹é¢çš„ 5x5 çŸ©é˜µ:

  å¤ªå¹³æ´‹ ~   ~   ~   ~   ~ 
       ~  1   2   2   3  (5) *
       ~  3   2   3  (4) (4) *
       ~  2   4  (5)  3   1  *
       ~ (6) (7)  1   4   5  *
       ~ (5)  1   1   2   4  *
          *   *   *   *   * å¤§è¥¿æ´‹

è¿”å›:

[[0, 4], [1, 3], [1, 4], [2, 2], [3, 0], [3, 1], [4, 0]] (ä¸Šå›¾ä¸­å¸¦æ‹¬å·çš„å•å…ƒ).
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/pacific-atlantic-water-flow/>

#### **æ€è·¯:**

ã€€ã€€ç±»ä¼¼æ³›æ´ªçš„æ€æƒ³ï¼Œä»å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹é€†æµå¾€ä¸Šï¼Œåˆ†åˆ«bfsï¼Œè®°å½•æ‰€æœ‰èƒ½åˆ°è¾¾çš„ç‚¹ï¼Œç„¶åå–äº¤é›†ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def pacificAtlantic(self, matrix: List[List[int]]) -> List[List[int]]:
        m = len(matrix)
        if not m:
            return []
        n = len(matrix[0])

        pacific = []
        atlantic = []
        for i in range(m):
            for j in range(n):
                if i == 0 or j == 0:
                    pacific.append((i, j))
                if i == m - 1 or j == n - 1:
                    atlantic.append((i, j))

        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]

        def bfs(queue):
            can_reach = set()
            visited = [[False for _ in range(n)] for _ in range(m)]
            while queue:
                for i, j in queue:
                    visited[i][j] = True
                    can_reach.add((i, j))

                temp = []
                for i, j in queue:
                    for di, dj in arounds:
                        x, y = i + di, j + dj
                        if x < 0 or y < 0 or x >= m or y >= n:
                            continue
                        if not visited[x][y] and matrix[x][y] >= matrix[i][j]:
                            temp.append((x, y))

                queue = temp
            return can_reach

        a = bfs(pacific)
        b = bfs(atlantic)
        c = a & b
        return [_ for _ in c]
```

## A424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªä»…ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥å°†ä»»æ„ä½ç½®ä¸Šçš„å­—ç¬¦æ›¿æ¢æˆå¦å¤–çš„å­—ç¬¦ï¼Œæ€»å…±å¯æœ€å¤šæ›¿æ¢ *k* æ¬¡ã€‚åœ¨æ‰§è¡Œä¸Šè¿°æ“ä½œåï¼Œæ‰¾åˆ°åŒ…å«é‡å¤å­—æ¯çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚

**æ³¨æ„:**
å­—ç¬¦ä¸²é•¿åº¦ å’Œ *k* ä¸ä¼šè¶…è¿‡ 104ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
s = "ABAB", k = 2

è¾“å‡º:
4

è§£é‡Š:
ç”¨ä¸¤ä¸ª'A'æ›¿æ¢ä¸ºä¸¤ä¸ª'B',åä¹‹äº¦ç„¶ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
s = "AABABBA", k = 1

è¾“å‡º:
4

è§£é‡Š:
å°†ä¸­é—´çš„ä¸€ä¸ª'A'æ›¿æ¢ä¸º'B',å­—ç¬¦ä¸²å˜ä¸º "AABBBBA"ã€‚
å­ä¸² "BBBB" æœ‰æœ€é•¿é‡å¤å­—æ¯, ç­”æ¡ˆä¸º 4ã€‚
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-repeating-character-replacement/>

#### **æ€è·¯:**

ã€€ã€€åŒæŒ‡é’ˆï¼Œè®°å½•çª—å£å†…æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ã€‚æ›´æ–°è¿‡ç¨‹å¦‚ä¸‹ï¼š  

ã€€ã€€â‘  ä¿è¯çª—å£å†…`æœ€å¤šå­—æ¯çš„å‡ºç°æ¬¡æ•°`-`å…¶ä»–å­—æ¯æ•°çš„å‡ºç°æ¬¡æ•°`<=`k`ï¼›  

ã€€ã€€â‘¡ å¦‚æœçª—å£çš„å¤§å°å¤§äºä¹‹å‰çš„æœ€å¤§å€¼ï¼Œåˆ™æ›´æ–°æœ€å¤§å€¼ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
        mem = defaultdict(int)  # è®°å½•çª—å£å†…æœ‰å“ªäº›å­—æ¯
        if not s:
            return 0
        left = 0
        ans = 1
        max_times = 0  # æœ€å¤§å‡ºç°æ¬¡æ•°
        for right, char in enumerate(s):
            mem[char] += 1
            max_times = max(max_times, mem[char])
						# right - left + 1 æ˜¯çª—å£å†…çš„å­—æ¯æ•°
            while right - left + 1 - max_times > k:  # å…¶ä»–çš„å­—æ¯æ•°å¤§äºk
                char_left = s[left]
                mem[char_left] -= 1
                left += 1

            ans = max(ans, right - left + 1)  # ä»¥rightç»“å°¾

        return ans

```

## A429. Nå‰æ ‘çš„å±‚åºéå†

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª N å‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„*å±‚åºéå†*ã€‚ (å³ä»å·¦åˆ°å³ï¼Œé€å±‚éå†)ã€‚

ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ª `3å‰æ ‘` :

<img src="_img/429.png" style="zoom:40%"/>

 

è¿”å›å…¶å±‚åºéå†:

```
[
     [1],
     [3,2,4],
     [5,6]
]
```

**è¯´æ˜:**

1. æ ‘çš„æ·±åº¦ä¸ä¼šè¶…è¿‡ `1000`ã€‚
2. æ ‘çš„èŠ‚ç‚¹æ€»æ•°ä¸ä¼šè¶…è¿‡ `5000`ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/>

#### **æ€è·¯:**

ã€€ã€€[å±‚åºéå†æ¨¡æ¿](/å®ç”¨æ¨¡æ¿?id=å¹¿æœï¼šbfsğŸŒ²å±‚åºéå†)ã€‚  

#### **ä»£ç :**

```python
"""
class Node:
    def __init__(self, val=None, children=None):
        self.val = val
        self.children = children
"""

class Solution:
    def levelOrder(self, root: 'Node') -> List[List[int]]:
        if not root:
            return 

        queue = [root]
        ans = []
        while queue:
            temp = []
            ans.append([q.val for q in queue])
            # queueå­˜æ”¾çš„æ˜¯å½“å‰å±‚çš„æ‰€æœ‰ç»“ç‚¹
            for q in queue:
                for children in q.children:
                    temp.append(children)

            queue = temp
        return ans
      
```

## A435. æ— é‡å åŒºé—´

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œæ‰¾åˆ°éœ€è¦ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡ï¼Œä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å ã€‚

**æ³¨æ„:**

1. å¯ä»¥è®¤ä¸ºåŒºé—´çš„ç»ˆç‚¹æ€»æ˜¯å¤§äºå®ƒçš„èµ·ç‚¹ã€‚
2. åŒºé—´ [1,2] å’Œ [2,3] çš„è¾¹ç•Œç›¸äº’â€œæ¥è§¦â€ï¼Œä½†æ²¡æœ‰ç›¸äº’é‡å ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [ [1,2], [2,3], [3,4], [1,3] ]

è¾“å‡º: 1

è§£é‡Š: ç§»é™¤ [1,3] åï¼Œå‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [ [1,2], [1,2], [1,2] ]

è¾“å‡º: 2

è§£é‡Š: ä½ éœ€è¦ç§»é™¤ä¸¤ä¸ª [1,2] æ¥ä½¿å‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [ [1,2], [2,3] ]

è¾“å‡º: 0

è§£é‡Š: ä½ ä¸éœ€è¦ç§»é™¤ä»»ä½•åŒºé—´ï¼Œå› ä¸ºå®ƒä»¬å·²ç»æ˜¯æ— é‡å çš„äº†ã€‚
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/non-overlapping-intervals/>

#### **æ€è·¯:**

ã€€ã€€ç±»ä¼¼äº[A56. åˆå¹¶åŒºé—´](/array?id=a56-åˆå¹¶åŒºé—´)çš„æ€è·¯ã€‚  

ã€€ã€€å°†æ‰€æœ‰åŒºé—´æ’åºï¼Œç„¶åä¸¤ä¸¤åˆå¹¶(å–äº¤é›†)ï¼Œæœ€åå‰©ä½™çš„åŒºé—´éƒ½æ˜¯ä¸é‡å çš„ã€‚è¿”å›`åŸåŒºé—´æ•°`-`å‰©ä½™åŒºé—´æ•°`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def eraseOverlapIntervals(self, intervals: List[List[int]]) -> int:
        if len(intervals) == 0:
            return 0
        s = sorted(intervals)
        ans = [s[0]]

        for i in s[1:]:
            if i[0] < ans[-1][1]:
                ans[-1] = [max(ans[-1][0], i[0]), min(i[1], ans[-1][1])] 
            else:
                ans.append(i)

        return len(intervals) - len(ans)

```

## A446. ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ—

éš¾åº¦ `å›°éš¾`  

#### é¢˜ç›®æè¿°

å¦‚æœä¸€ä¸ªæ•°åˆ—è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—ã€‚

ä¾‹å¦‚ï¼Œä»¥ä¸‹æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—:

```
1, 3, 5, 7, 9
7, 7, 7, 7
3, -1, -5, -9
```

ä»¥ä¸‹æ•°åˆ—ä¸æ˜¯ç­‰å·®æ•°åˆ—ã€‚

```
1, 1, 2, 5, 7
```


æ•°ç»„ A åŒ…å« N ä¸ªæ•°ï¼Œä¸”ç´¢å¼•ä» 0 å¼€å§‹ã€‚è¯¥æ•°ç»„**å­åºåˆ—**å°†åˆ’åˆ†ä¸ºæ•´æ•°åºåˆ— (P0, P1, ..., Pk)ï¼ŒP ä¸ Q æ˜¯æ•´æ•°ä¸”æ»¡è¶³ 0 â‰¤ P0 < P1 < ... < Pk < Nã€‚


å¦‚æœåºåˆ— A[P0]ï¼ŒA[P1]ï¼Œ...ï¼ŒA[Pk-1]ï¼ŒA[Pk] æ˜¯ç­‰å·®çš„ï¼Œé‚£ä¹ˆæ•°ç»„ A çš„**å­åºåˆ—** (P0ï¼ŒP1ï¼Œâ€¦ï¼ŒPK) ç§°ä¸ºç­‰å·®åºåˆ—ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™æ„å‘³ç€ k â‰¥ 2ã€‚

å‡½æ•°è¦è¿”å›æ•°ç»„ A ä¸­æ‰€æœ‰ç­‰å·®å­åºåˆ—çš„ä¸ªæ•°ã€‚

è¾“å…¥åŒ…å« N ä¸ªæ•´æ•°ã€‚æ¯ä¸ªæ•´æ•°éƒ½åœ¨ -231 å’Œ 231-1 ä¹‹é—´ï¼Œå¦å¤– 0 â‰¤ N â‰¤ 1000ã€‚ä¿è¯è¾“å‡ºå°äº 231-1ã€‚

> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š[2, 4, 6, 8, 10]

è¾“å‡ºï¼š7

è§£é‡Šï¼š
æ‰€æœ‰çš„ç­‰å·®å­åºåˆ—ä¸ºï¼š
[2,4,6]
[4,6,8]
[6,8,10]
[2,4,6,8]
[4,6,8,10]
[2,4,6,8,10]
[2,6,10]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/arithmetic-slices-ii-subsequence/>

#### æ€è·¯  

ã€€ã€€**æš´åŠ›ï¼š**å¯¹äºä»»æ„ä¸€å¯¹`j < i`, è®¡ç®—å®ƒä»¬çš„å·®`k`ï¼Œç„¶åå†é‡æ–°åˆ°`(0, j-1)`ä¹‹é—´æ‰¾ç¬¬ä¸‰ä¸ªæ•°ã€‚æ—¶é—´å¤æ‚åº¦è‡³å°‘ä¸º`O(n^3)` ã€‚  
ã€€ã€€**æ”¹è¿›ä¸€ï¼š**ç”¨ä¸€ä¸ªå­—å…¸è®°å½•æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ‰€æœ‰ä½ç½®ï¼Œå¦‚æœæŸä¸ªå·®`k`æ²¡æœ‰åœ¨å­—å…¸ä¸­å‡ºç°è¿‡ï¼Œå°±ä¸ç”¨éå†äº†ã€‚æ—¶é—´å¤æ‚åº¦è‡³å°‘ä¸º`O(n^2logn)`ï¼ˆè¿˜æœ‰è¯»å–ç¼“å­˜çš„æ—¶é—´ï¼‰ã€‚  
ã€€ã€€**æ”¹è¿›äºŒï¼š**æ”¾å¼ƒä½¿ç”¨`lruç¼“å­˜`ï¼Œç›´æ¥ç”¨ä¸€ä¸ªå­—å…¸çš„åˆ—è¡¨è®°å½•å…ƒç´ `i`çš„æ¯ä¸ªå…¬å·®ä¸º`k`çš„ç­‰å·®æ•°åˆ—çš„ä¸ªæ•°ã€‚å°†è¯»å–ç¼“å­˜çš„æ—¶é—´ä¼˜åŒ–æˆå¸¸æ•°çº§ã€‚  

#### ä»£ç   

ã€€ã€€**æš´åŠ›ï¼š**ï¼ˆè¶…æ—¶ï¼‰

```python
class Solution:
    def numberOfArithmeticSlices(self, A: List[int]) -> int:
        n = len(A)
        if n < 3: return 0

        from functools import lru_cache
        @lru_cache(None)
        def dp(i, k, m):  # mæ˜¯2æˆ–è€…3, kæ˜¯ç­‰å·®æ•°åˆ—çš„æ­¥é•¿
            if m == 2:
                ans = 0
                for j in range(i):
                    if A[i] - A[j] == k:
                        ans += 1
                return ans
            elif m == 3:
                ans = 0
                for j in range(i):
                    if A[i] - A[j] == k:
                        ans += dp(j, k, m)
                        ans += dp(j, k, 2)
                return ans

        ans = 0
        for i in range(2, n):
            used = set()
            for j in range(1, i):
                used.add(A[i] - A[j])
            for u in used:
                ans += dp(i, u, 3)

        return ans


```

ã€€ã€€**æ”¹è¿›ä¸€ï¼š**ï¼ˆ3000msï¼‰

```python
class Solution:
    def numberOfArithmeticSlices(self, A: List[int]) -> int:
        n = len(A)
        if n < 3: return 0
        id_dict = {}
        for i, num in enumerate(A):
            if num not in id_dict:
                id_dict[num] = [i]
            else:
                id_dict[num].append(i)
        # print(id_dict)

        from functools import lru_cache
        @lru_cache(None)
        def dp(i, k, m):  # mæ˜¯2æˆ–è€…3, kæ˜¯ç­‰å·®æ•°åˆ—çš„æ­¥é•¿
            if m == 2:
                id_list = id_dict.get(A[i] - k)
                if id_list is None: return 0
                return bisect.bisect_left(id_list, i)  # äºŒåˆ†æ³•æŸ¥æ‰¾i
            elif m == 3:
                id_list = id_dict.get(A[i] - k)
                if id_list is None: return 0
                ans = 0
                for j in id_list:
                    if j < i:
                        ans += dp(j, k, m)
                        ans += dp(j, k, 2)
                    else:
                        break

                return ans

        ans = 0
        for i in range(2, n):
            used = set()
            for j in range(1, i):
                used.add(A[i] - A[j])
            for u in used:
                ans += dp(i, u, 3)

        return ans

```

ã€€ã€€**æ”¹è¿›äºŒï¼š**ï¼ˆ500msï¼‰

```python
class Solution(object):
    def numberOfArithmeticSlices(self, A):
        """
        :type A: List[int]
        :rtype: int
        """
        
        N = len(A)
        num = 0     
        # æ€»çš„ç­‰å·®æ•°åˆ—çš„ä¸ªæ•°
        # ç­‰å·®æ•°åˆ—ä¸ªæ•°æ•°ç»„
        # ç¬¬ n ä¸ªå…ƒç´ æœ€åçš„æ•°ä¸º A[n] çš„ç­‰å·®æ•°åˆ—çš„ä¸€ä¸ªæ˜ å°„è¡¨
        #   æ˜ å°„è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºå…¬å·®ä¸ºkeyçš„ç­‰å·®æ•°åˆ—çš„ä¸ªæ•° ï¼ˆå°¾æ•°ä¸ºA[n]ï¼‰
        # æ³¨æ„ï¼š æ­¤å¤„çš„ç­‰å·®æ•°åˆ—åŒ…å«ä»…æœ‰ä¸¤ä¸ªå…ƒç´ çš„æ•°åˆ—
        distList = [dict() for i in range(N)]
        
        for i in range(1, N):
            for j in range(i):
                delta = A[i] - A[j]
                
                # è€ƒè™‘åªåŒ…å« A[j], A[i]çš„æ•°åˆ—
                if delta in distList[i]:
                    distList[i][delta] += 1  
                else:
                    distList[i][delta] = 1    
                if delta in distList[j]:
                    # A[i] å¯ä»¥åŠ åˆ°æ‰€æœ‰ä»¥A[j]ç»“å°¾çš„å…¬å·®ä¸ºdeltaçš„æ•°åˆ—åé¢
                    distList[i][delta] += distList[j][delta]
                    num += distList[j][delta]
       
        return num
```

## A452. ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

åœ¨äºŒç»´ç©ºé—´ä¸­æœ‰è®¸å¤šçƒå½¢çš„æ°”çƒã€‚å¯¹äºæ¯ä¸ªæ°”çƒï¼Œæä¾›çš„è¾“å…¥æ˜¯æ°´å¹³æ–¹å‘ä¸Šï¼Œæ°”çƒç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ã€‚ç”±äºå®ƒæ˜¯æ°´å¹³çš„ï¼Œæ‰€ä»¥yåæ ‡å¹¶ä¸é‡è¦ï¼Œå› æ­¤åªè¦çŸ¥é“å¼€å§‹å’Œç»“æŸçš„xåæ ‡å°±è¶³å¤Ÿäº†ã€‚å¼€å§‹åæ ‡æ€»æ˜¯å°äºç»“æŸåæ ‡ã€‚å¹³é¢å†…æœ€å¤šå­˜åœ¨104ä¸ªæ°”çƒã€‚

ä¸€æ”¯å¼“ç®­å¯ä»¥æ²¿ç€xè½´ä»ä¸åŒç‚¹å®Œå…¨å‚ç›´åœ°å°„å‡ºã€‚åœ¨åæ ‡xå¤„å°„å‡ºä¸€æ”¯ç®­ï¼Œè‹¥æœ‰ä¸€ä¸ªæ°”çƒçš„ç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ä¸º xstartï¼Œxendï¼Œ ä¸”æ»¡è¶³  xstart â‰¤ x â‰¤ xendï¼Œåˆ™è¯¥æ°”çƒä¼šè¢«å¼•çˆ†ã€‚å¯ä»¥å°„å‡ºçš„å¼“ç®­çš„æ•°é‡æ²¡æœ‰é™åˆ¶ã€‚ å¼“ç®­ä¸€æ—¦è¢«å°„å‡ºä¹‹åï¼Œå¯ä»¥æ— é™åœ°å‰è¿›ã€‚æˆ‘ä»¬æƒ³æ‰¾åˆ°ä½¿å¾—æ‰€æœ‰æ°”çƒå…¨éƒ¨è¢«å¼•çˆ†ï¼Œæ‰€éœ€çš„å¼“ç®­çš„æœ€å°æ•°é‡ã€‚

> **ç¤ºä¾‹:**

```
è¾“å…¥:
[[10,16], [2,8], [1,6], [7,12]]

è¾“å‡º:
2

è§£é‡Š:
å¯¹äºè¯¥æ ·ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨x = 6ï¼ˆå°„çˆ†[2,8],[1,6]ä¸¤ä¸ªæ°”çƒï¼‰å’Œ x = 11ï¼ˆå°„çˆ†å¦å¤–ä¸¤ä¸ªæ°”çƒï¼‰ã€‚
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-number-of-arrows-to-burst-balloons/>

#### **æ€è·¯:**

ã€€ã€€å¯ä»¥å‚è€ƒ[A56. åˆå¹¶åŒºé—´](/array?id=a56-åˆå¹¶åŒºé—´)å’Œ[A435. æ— é‡å åŒºé—´](/greedy?id=a435-æ— é‡å åŒºé—´)çš„æ€è·¯ã€‚  

ã€€ã€€å°†æ‰€æœ‰çš„æ°”çƒğŸˆæ’åºï¼Œç„¶åä¸¤ä¸¤åˆå¹¶ï¼Œæœ€åè¿”å›åŒºé—´çš„æ•°é‡ï¼Œæ³¨æ„`A56. åˆå¹¶åŒºé—´`æ˜¯å–å¹¶é›†ï¼Œè¿™ä¸€é¢˜æ˜¯å–äº¤é›†ã€‚  ã€€

#### **ä»£ç :**

```python
class Solution:
    def findMinArrowShots(self, points: List[List[int]]) -> int:

        if len(points) == 0:
            return 0
        s = sorted(points)
        ans = [s[0]]
        # print(s)

        for i in s[1:]:
            if i[0] <= ans[-1][1]:
                ans[-1] = [max(ans[-1][0], i[0]), min(i[1], ans[-1][1])] 
            else:
                ans.append(i)

        return len(ans)

```

## A455. åˆ†å‘é¥¼å¹²

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

å‡è®¾ä½ æ˜¯ä¸€ä½å¾ˆæ£’çš„å®¶é•¿ï¼Œæƒ³è¦ç»™ä½ çš„å­©å­ä»¬ä¸€äº›å°é¥¼å¹²ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªå­©å­æœ€å¤šåªèƒ½ç»™ä¸€å—é¥¼å¹²ã€‚å¯¹æ¯ä¸ªå­©å­ i ï¼Œéƒ½æœ‰ä¸€ä¸ªèƒƒå£å€¼ gi ï¼Œè¿™æ˜¯èƒ½è®©å­©å­ä»¬æ»¡è¶³èƒƒå£çš„é¥¼å¹²çš„æœ€å°å°ºå¯¸ï¼›å¹¶ä¸”æ¯å—é¥¼å¹² j ï¼Œéƒ½æœ‰ä¸€ä¸ªå°ºå¯¸ sj ã€‚å¦‚æœ sj >= gi ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé¥¼å¹² j åˆ†é…ç»™å­©å­ i ï¼Œè¿™ä¸ªå­©å­ä¼šå¾—åˆ°æ»¡è¶³ã€‚ä½ çš„ç›®æ ‡æ˜¯å°½å¯èƒ½æ»¡è¶³è¶Šå¤šæ•°é‡çš„å­©å­ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å¤§æ•°å€¼ã€‚

**æ³¨æ„ï¼š**

ä½ å¯ä»¥å‡è®¾èƒƒå£å€¼ä¸ºæ­£ã€‚
ä¸€ä¸ªå°æœ‹å‹æœ€å¤šåªèƒ½æ‹¥æœ‰ä¸€å—é¥¼å¹²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3], [1,1]

è¾“å‡º: 1

è§£é‡Š: 
ä½ æœ‰ä¸‰ä¸ªå­©å­å’Œä¸¤å—å°é¥¼å¹²ï¼Œ3ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯ï¼š1,2,3ã€‚
è™½ç„¶ä½ æœ‰ä¸¤å—å°é¥¼å¹²ï¼Œç”±äºä»–ä»¬çš„å°ºå¯¸éƒ½æ˜¯1ï¼Œä½ åªèƒ½è®©èƒƒå£å€¼æ˜¯1çš„å­©å­æ»¡è¶³ã€‚
æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º1ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,2], [1,2,3]

è¾“å‡º: 2

è§£é‡Š: 
ä½ æœ‰ä¸¤ä¸ªå­©å­å’Œä¸‰å—å°é¥¼å¹²ï¼Œ2ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯1,2ã€‚
ä½ æ‹¥æœ‰çš„é¥¼å¹²æ•°é‡å’Œå°ºå¯¸éƒ½è¶³ä»¥è®©æ‰€æœ‰å­©å­æ»¡è¶³ã€‚
æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º2.
```


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/assign-cookies/>

#### **æ€è·¯:**

ã€€ã€€è¦æ»¡è¶³å°½é‡å¤šçš„å­©å­ï¼Œ åªèƒ½ç”¨å°½é‡å°çš„é¥¼å¹²ğŸªå…ˆå‘æ”¾ç»™èƒƒå£å°çš„ã€‚  

ã€€ã€€å…ˆæ’åºï¼Œç„¶åç”¨æœ€å°çš„é¥¼å¹²å°è¯•ç»™èƒƒå£æœ€å°çš„å­©å­ï¼šâ‘  å¦‚æœä¸å¤Ÿï¼Œæ¢ä¸‹ä¸€å—é¥¼å¹² â‘¡ å¦‚æœå¤Ÿäº†ï¼Œæ¢ä¸‹ä¸€ä¸ªå­©å­ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def findContentChildren(self, g: List[int], s: List[int]) -> int:
        g.sort()
        s.sort()
        i, j = 0, 0
        ans = 0

        while i < len(g) and j < len(s):
            if s[j] >= g[i]:
                i += 1  # ä¸‹ä¸€ä¸ªå­©å­
                j += 1
                ans += 1
            else:
                j += 1  # ä¸‹ä¸€å—é¥¼å¹²

        return ans

```

## A457. ç¯å½¢æ•°ç»„å¾ªç¯

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå«æœ‰æ­£æ•´æ•°å’Œè´Ÿæ•´æ•°çš„**ç¯å½¢**æ•°ç»„ `nums`ã€‚ å¦‚æœæŸä¸ªç´¢å¼•ä¸­çš„æ•° *k* ä¸ºæ­£æ•°ï¼Œåˆ™å‘å‰ç§»åŠ¨ *k* ä¸ªç´¢å¼•ã€‚ç›¸åï¼Œå¦‚æœæ˜¯è´Ÿæ•° (*-k*)ï¼Œåˆ™å‘åç§»åŠ¨ *k* ä¸ªç´¢å¼•ã€‚å› ä¸ºæ•°ç»„æ˜¯ç¯å½¢çš„ï¼Œæ‰€ä»¥å¯ä»¥å‡è®¾æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ã€‚

ç¡®å®š `nums` ä¸­æ˜¯å¦å­˜åœ¨å¾ªç¯ï¼ˆæˆ–å‘¨æœŸï¼‰ã€‚å¾ªç¯å¿…é¡»åœ¨ç›¸åŒçš„ç´¢å¼•å¤„å¼€å§‹å’Œç»“æŸå¹¶ä¸”å¾ªç¯é•¿åº¦ > 1ã€‚æ­¤å¤–ï¼Œä¸€ä¸ªå¾ªç¯ä¸­çš„æ‰€æœ‰è¿åŠ¨éƒ½å¿…é¡»æ²¿ç€åŒä¸€æ–¹å‘è¿›è¡Œã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå¾ªç¯ä¸­ä¸èƒ½åŒæ—¶åŒ…æ‹¬å‘å‰çš„è¿åŠ¨å’Œå‘åçš„è¿åŠ¨ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š[2,-1,1,2,2]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šå­˜åœ¨å¾ªç¯ï¼ŒæŒ‰ç´¢å¼• 0 -> 2 -> 3 -> 0 ã€‚å¾ªç¯é•¿åº¦ä¸º 3 ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š[-1,2]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šæŒ‰ç´¢å¼• 1 -> 1 -> 1 ... çš„è¿åŠ¨æ— æ³•æ„æˆå¾ªç¯ï¼Œå› ä¸ºå¾ªç¯çš„é•¿åº¦ä¸º 1 ã€‚æ ¹æ®å®šä¹‰ï¼Œå¾ªç¯çš„é•¿åº¦å¿…é¡»å¤§äº 1 ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥ï¼š[-2,1,-1,-2,-2]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šæŒ‰ç´¢å¼• 1 -> 2 -> 1 -> ... çš„è¿åŠ¨æ— æ³•æ„æˆå¾ªç¯ï¼Œå› ä¸ºæŒ‰ç´¢å¼• 1 -> 2 çš„è¿åŠ¨æ˜¯å‘å‰çš„è¿åŠ¨ï¼Œè€ŒæŒ‰ç´¢å¼• 2 -> 1 çš„è¿åŠ¨æ˜¯å‘åçš„è¿åŠ¨ã€‚ä¸€ä¸ªå¾ªç¯ä¸­çš„æ‰€æœ‰è¿åŠ¨éƒ½å¿…é¡»æ²¿ç€åŒä¸€æ–¹å‘è¿›è¡Œã€‚
```
**æç¤ºï¼š**

1. -1000 â‰¤ nums[i] â‰¤ 1000
2. nums[i] â‰  0
3. 0 â‰¤ nums.length â‰¤ 5000
**è¿›é˜¶ï¼š**

ä½ èƒ½å†™å‡ºæ—¶é—´æ—¶é—´å¤æ‚åº¦ä¸º **O(n)** å’Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸º **O(1)** çš„ç®—æ³•å—ï¼Ÿ

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/circular-array-loop/>

#### **æ€è·¯:**

ã€€ã€€å¦‚æœæ•°ç»„ä¸­å­˜åœ¨ç¯ï¼Œä¹Ÿå°±æ˜¯ä»**ç¯çš„ä»»æ„ä½ç½®å¼€å§‹**å‘åŒä¸€ä¸ªæ–¹å‘å¾ªç¯ï¼Œæœ€ç»ˆä¸€å®šèƒ½å›åˆ°ç¯ä¸­ã€‚  

ã€€ã€€ä»æ•°ç»„çš„æ¯ä¸ªå…ƒç´ å¼€å§‹ï¼Œä¸æ–­å‘åŒä¸€ä¸ªæ–¹å‘å¾€å‰èµ°ï¼Œçœ‹æœ€ç»ˆèƒ½ä¸èƒ½å›åˆ°èµ°è¿‡çš„å…ƒç´ ä¸­ã€‚  

ã€€ã€€ä¸ºäº†å‡å°‘ä¸å¿…è¦çš„é‡å¤ï¼Œç”¨`visited`æ•°ç»„æ ‡è®°è®¿é—®è¿‡çš„å…ƒç´ ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def circularArrayLoop(self, nums: List[int]) -> bool:
        n = len(nums)
        visited = [False for _ in range(n)]
        for i, num in enumerate(nums):
            if visited[i]:
                continue
            j = i
            circle = set()  # è®°å½•ç¯ä¸­çš„å…ƒç´ 
            while not visited[j]:
                circle.add(j)
                visited[j] = True
                nxt = (j + nums[j]) % n
                if nxt == j or nums[nxt] * nums[j] < 0:  # ä¸èƒ½æ˜¯åŒä¸€ä¸ªå…ƒç´ ä¸”æ–¹å‘è¦ä¸ºåŒå‘
                    break
                j = nxt
            else:
                if j in circle:
                    return True

        return False

```

## A459. é‡å¤çš„å­å­—ç¬¦ä¸²

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦å¯ä»¥ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æ„æˆã€‚ç»™å®šçš„å­—ç¬¦ä¸²åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”é•¿åº¦ä¸è¶…è¿‡10000ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "abab"

è¾“å‡º: True

è§£é‡Š: å¯ç”±å­å­—ç¬¦ä¸² "ab" é‡å¤ä¸¤æ¬¡æ„æˆã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "aba"

è¾“å‡º: False
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: "abcabcabcabc"

è¾“å‡º: True

è§£é‡Š: å¯ç”±å­å­—ç¬¦ä¸² "abc" é‡å¤å››æ¬¡æ„æˆã€‚ (æˆ–è€…å­å­—ç¬¦ä¸² "abcabc" é‡å¤ä¸¤æ¬¡æ„æˆã€‚)
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/repeated-substring-pattern/>

#### æ€è·¯  

ã€€ã€€æ‰¾åˆ°å¤§äºç­‰äº`2`çš„å› å­`k`ï¼Œç„¶åå°†å‰`k`ä½è¿ç»­ç›¸åŠ `len(s)//k`æ¬¡çœ‹æ˜¯å¦å’Œ`s`ä¸€æ ·ã€‚  

#### ä»£ç   

```python
class Solution:
    def repeatedSubstringPattern(self, s: str) -> bool:
        ls = len(s)
        if ls >= 2 and s[0] * ls == s: return True
        for i in range(2, int(math.sqrt(ls)) + 1):
            if ls % i == 0:
                m = ls // i
                if s[:i] * m == s or s[:m] * i == s:
                    return True
        return False

```





## A464. æˆ‘èƒ½èµ¢å—


éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

åœ¨ "100 game" è¿™ä¸ªæ¸¸æˆä¸­ï¼Œä¸¤åç©å®¶è½®æµé€‰æ‹©ä» 1 åˆ° 10 çš„ä»»æ„æ•´æ•°ï¼Œç´¯è®¡æ•´æ•°å’Œï¼Œå…ˆä½¿å¾—ç´¯è®¡æ•´æ•°å’Œè¾¾åˆ° 100 çš„ç©å®¶ï¼Œå³ä¸ºèƒœè€…ã€‚

å¦‚æœæˆ‘ä»¬å°†æ¸¸æˆè§„åˆ™æ”¹ä¸º â€œç©å®¶ä¸èƒ½é‡å¤ä½¿ç”¨æ•´æ•°â€ å‘¢ï¼Ÿ

ä¾‹å¦‚ï¼Œä¸¤ä¸ªç©å®¶å¯ä»¥è½®æµä»å…¬å…±æ•´æ•°æ± ä¸­æŠ½å–ä» 1 åˆ° 15 çš„æ•´æ•°ï¼ˆä¸æ”¾å›ï¼‰ï¼Œç›´åˆ°ç´¯è®¡æ•´æ•°å’Œ >= 100ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•° `maxChoosableInteger` ï¼ˆæ•´æ•°æ± ä¸­å¯é€‰æ‹©çš„æœ€å¤§æ•°ï¼‰å’Œå¦ä¸€ä¸ªæ•´æ•° `desiredTotal`ï¼ˆç´¯è®¡å’Œï¼‰ï¼Œåˆ¤æ–­å…ˆå‡ºæ‰‹çš„ç©å®¶æ˜¯å¦èƒ½ç¨³èµ¢ï¼ˆå‡è®¾ä¸¤ä½ç©å®¶æ¸¸æˆæ—¶éƒ½è¡¨ç°æœ€ä½³ï¼‰ï¼Ÿ

ä½ å¯ä»¥å‡è®¾ `maxChoosableInteger` ä¸ä¼šå¤§äº 20ï¼Œ `desiredTotal` ä¸ä¼šå¤§äº 300ã€‚

> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š
maxChoosableInteger = 10
desiredTotal = 11

è¾“å‡ºï¼š
false

è§£é‡Šï¼š
æ— è®ºç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹©å“ªä¸ªæ•´æ•°ï¼Œä»–éƒ½ä¼šå¤±è´¥ã€‚
ç¬¬ä¸€ä¸ªç©å®¶å¯ä»¥é€‰æ‹©ä» 1 åˆ° 10 çš„æ•´æ•°ã€‚
å¦‚æœç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹© 1ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªç©å®¶åªèƒ½é€‰æ‹©ä» 2 åˆ° 10 çš„æ•´æ•°ã€‚
ç¬¬äºŒä¸ªç©å®¶å¯ä»¥é€šè¿‡é€‰æ‹©æ•´æ•° 10ï¼ˆé‚£ä¹ˆç´¯ç§¯å’Œä¸º 11 >= desiredTotalï¼‰ï¼Œä»è€Œå–å¾—èƒœåˆ©.
åŒæ ·åœ°ï¼Œç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹©ä»»æ„å…¶ä»–æ•´æ•°ï¼Œç¬¬äºŒä¸ªç©å®¶éƒ½ä¼šèµ¢ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/can-i-win/>

#### æ€è·¯  

ã€€ã€€ç”¨é›†åˆä½œä¸ºå‚æ•°ä¼ é€’å¯ä»¥ä½¿ç”¨çš„æ•°ã€‚å¯¹å½“å‰ä½¿ç”¨çš„æ•°å–`å·®é›†`ã€‚  

ã€€ã€€å› ä¸ºå¤§äºç­‰äºç›®æ ‡æ•°éƒ½å¯ä»¥è·èƒœã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦å¯é€‰æ•°å­—ä¹‹å’Œå¤§äºç­‰äºç›®æ ‡æ•°ï¼Œ**ä¸€å®šä¼šæœ‰ä¸€ä¸ªäºº**ä¸€å®šèƒ½è·èƒœã€‚  

ã€€ã€€å› æ­¤åªè¦é€‰æ‹©æŸä¸ªæ•°å­—ï¼Œä½¿å¾—**å¯¹æ–¹æ— æ³•è·èƒœ**ï¼Œè‡ªå·±å°±èƒ½è·èƒœã€‚  

ã€€ã€€é€’å½’åœ°è§£å†³æ­¤é—®é¢˜å³å¯ã€‚    

#### ä»£ç   

```python
sys.setrecursionlimit(100000)
class Solution:
    def canIWin(self, maxChoosableInteger: int, desiredTotal: int) -> bool:
        from functools import lru_cache
        @lru_cache(None)
        def dp(can_use, target):  # å¯ä»¥ä½¿ç”¨çš„æ•°çš„é›†åˆï¼Œ ç›®æ ‡æ•°
            if target in can_use:
                return True
            for me in can_use:
                # èƒ½ä½¿ç”¨çš„æ•°å­—é›†åˆå»æ‰è‡ªå·±ä½¿ç”¨çš„æ•°å­—ç»™å¯¹æ–¹ä½¿ç”¨ï¼Œå¦‚æœå¯¹æ–¹æ— æ³•è·èƒœ è‡ªå·±å°±ä¸€å®šè·èƒœ
                if target <= me or not dp(can_use - {me}, target - me):  
                    return True

            return False
            
        a = frozenset(range(1, maxChoosableInteger + 1))
        if sum(a) < desiredTotal: return False  # æ’é™¤æ‰æ— æ³•è·èƒœçš„æƒ…å†µ

        return dp(a, desiredTotal)
      
```

## A468. éªŒè¯IPåœ°å€

éš¾åº¦ `ä¸­ç­‰`  

#### é¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥éªŒè¯è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ IPv4 æˆ– IPv6 åœ°å€ã€‚

**IPv4** åœ°å€ç”±åè¿›åˆ¶æ•°å’Œç‚¹æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªåœ°å€åŒ…å«4ä¸ªåè¿›åˆ¶æ•°ï¼Œå…¶èŒƒå›´ä¸º 0 - 255ï¼Œ ç”¨(".")åˆ†å‰²ã€‚æ¯”å¦‚ï¼Œ`172.16.254.1`ï¼›

åŒæ—¶ï¼ŒIPv4 åœ°å€å†…çš„æ•°ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚æ¯”å¦‚ï¼Œåœ°å€ `172.16.254.01` æ˜¯ä¸åˆæ³•çš„ã€‚

**IPv6** åœ°å€ç”±8ç»„16è¿›åˆ¶çš„æ•°å­—æ¥è¡¨ç¤ºï¼Œæ¯ç»„è¡¨ç¤º 16 æ¯”ç‰¹ã€‚è¿™äº›ç»„æ•°å­—é€šè¿‡ (":")åˆ†å‰²ã€‚æ¯”å¦‚,  `2001:0db8:85a3:0000:0000:8a2e:0370:7334` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„åœ°å€ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬å¯ä»¥åŠ å…¥ä¸€äº›ä»¥ 0 å¼€å¤´çš„æ•°å­—ï¼Œå­—æ¯å¯ä»¥ä½¿ç”¨å¤§å†™ï¼Œä¹Ÿå¯ä»¥æ˜¯å°å†™ã€‚æ‰€ä»¥ï¼Œ `2001:db8:85a3:0:0:8A2E:0370:7334` ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IPv6 addressåœ°å€ (å³ï¼Œå¿½ç•¥ 0 å¼€å¤´ï¼Œå¿½ç•¥å¤§å°å†™)ã€‚

ç„¶è€Œï¼Œæˆ‘ä»¬ä¸èƒ½å› ä¸ºæŸä¸ªç»„çš„å€¼ä¸º 0ï¼Œè€Œä½¿ç”¨ä¸€ä¸ªç©ºçš„ç»„ï¼Œä»¥è‡³äºå‡ºç° (::) çš„æƒ…å†µã€‚ æ¯”å¦‚ï¼Œ `2001:0db8:85a3::8A2E:0370:7334` æ˜¯æ— æ•ˆçš„ IPv6 åœ°å€ã€‚

åŒæ—¶ï¼Œåœ¨ IPv6 åœ°å€ä¸­ï¼Œå¤šä½™çš„ 0 ä¹Ÿæ˜¯ä¸è¢«å…è®¸çš„ã€‚æ¯”å¦‚ï¼Œ `02001:0db8:85a3:0000:0000:8a2e:0370:7334` æ˜¯æ— æ•ˆçš„ã€‚

**è¯´æ˜:** ä½ å¯ä»¥è®¤ä¸ºç»™å®šçš„å­—ç¬¦ä¸²é‡Œæ²¡æœ‰ç©ºæ ¼æˆ–è€…å…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "172.16.254.1"

è¾“å‡º: "IPv4"

è§£é‡Š: è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IPv4 åœ°å€, æ‰€ä»¥è¿”å› "IPv4"ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "2001:0db8:85a3:0:0:8A2E:0370:7334"

è¾“å‡º: "IPv6"

è§£é‡Š: è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IPv6 åœ°å€, æ‰€ä»¥è¿”å› "IPv6"ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: "256.256.256.256"

è¾“å‡º: "Neither"

è§£é‡Š: è¿™ä¸ªåœ°å€æ—¢ä¸æ˜¯ IPv4 ä¹Ÿä¸æ˜¯ IPv6 åœ°å€ã€‚
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/validate-ip-address/>

#### æ€è·¯  

ã€€ã€€

#### ä»£ç   

```python

```





## A480. æ»‘åŠ¨çª—å£ä¸­ä½æ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ä¸­ä½æ•°æ˜¯æœ‰åºåºåˆ—æœ€ä¸­é—´çš„é‚£ä¸ªæ•°ã€‚å¦‚æœåºåˆ—çš„å¤§å°æ˜¯å¶æ•°ï¼Œåˆ™æ²¡æœ‰æœ€ä¸­é—´çš„æ•°ï¼›æ­¤æ—¶ä¸­ä½æ•°æ˜¯æœ€ä¸­é—´çš„ä¸¤ä¸ªæ•°çš„å¹³å‡æ•°ã€‚

ä¾‹å¦‚ï¼š

- `[2,3,4]`ï¼Œä¸­ä½æ•°æ˜¯ `3`
- `[2,3]`ï¼Œä¸­ä½æ•°æ˜¯ `(2 + 3) / 2 = 2.5`

ç»™ä½ ä¸€ä¸ªæ•°ç»„ *nums* ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º *k* çš„çª—å£ä»æœ€å·¦ç«¯æ»‘åŠ¨åˆ°æœ€å³ç«¯ã€‚çª—å£ä¸­æœ‰ *k* ä¸ªæ•°ï¼Œæ¯æ¬¡çª—å£å‘å³ç§»åŠ¨ *1* ä½ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰¾å‡ºæ¯æ¬¡çª—å£ç§»åŠ¨åå¾—åˆ°çš„æ–°çª—å£ä¸­å…ƒç´ çš„ä¸­ä½æ•°ï¼Œå¹¶è¾“å‡ºç”±å®ƒä»¬ç»„æˆçš„æ•°ç»„ã€‚
> **ç¤ºä¾‹ï¼š**

ç»™å‡º *nums* = `[1,3,-1,-3,5,3,6,7]`ï¼Œä»¥åŠ *k* = 3ã€‚

```
çª—å£ä½ç½®                      ä¸­ä½æ•°
---------------               -----
[1  3  -1] -3  5  3  6  7       1
 1 [3  -1  -3] 5  3  6  7      -1
 1  3 [-1  -3  5] 3  6  7      -1
 1  3  -1 [-3  5  3] 6  7       3
 1  3  -1  -3 [5  3  6] 7       5
 1  3  -1  -3  5 [3  6  7]      6
```

 å› æ­¤ï¼Œè¿”å›è¯¥æ»‘åŠ¨çª—å£çš„ä¸­ä½æ•°æ•°ç»„ `[1,-1,-1,3,5,6]`ã€‚
**æç¤ºï¼š**

- ä½ å¯ä»¥å‡è®¾ `k` å§‹ç»ˆæœ‰æ•ˆï¼Œå³ï¼š`k` å§‹ç»ˆå°äºè¾“å…¥çš„éç©ºæ•°ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚
- ä¸çœŸå®å€¼è¯¯å·®åœ¨ `10 ^ -5` ä»¥å†…çš„ç­”æ¡ˆå°†è¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/sliding-window-median/>

#### **æ€è·¯:**

ã€€ã€€å’Œ[A239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼](/sliding?id=a239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼)ä¸€æ ·ï¼Œç»´æŠ¤ä¸€ä¸ªé•¿åº¦å›ºå®šä¸º`k`çš„å‡åºæ•°ç»„`Asc`ï¼Œæ¯æ¬¡å–å®ƒçš„ä¸­ä½æ•°å³ä¸ºè¯¥çª—å£çš„ä¸­ä½æ•°ã€‚  
ã€€ã€€æ–°æ•°æ®çš„æ’å…¥å’Œå‡ºçª—å£æ•°æ®çš„åˆ é™¤éƒ½ä½¿ç”¨äºŒåˆ†æ³•å®Œæˆã€‚  

#### **ä»£ç :**

```python
import bisect

class Solution:
    def medianSlidingWindow(self, nums: List[int], k: int) -> List[float]:
        n = len(nums)

        asc = []
        for i in range(k):
            bisect.insort(asc, nums[i]) 

        ans = [0 for _ in range(n - k + 1)]

        get_middile = lambda: asc[k // 2] if k % 2 == 1 else 0.5 * (asc[k // 2 - 1] + asc[k // 2])
        ans[0] = get_middile()

        for i in range(k, n):
            idx = bisect.bisect_left(asc, nums[i - k]); asc.pop(idx)
            # ä¸Šé¢ä¸€è¡Œä»¥O(logn)åˆ é™¤nums[i - k]ï¼Œç›¸å½“äºasc.remove(nums[i - k])
            bisect.insort(asc, nums[i]) 
            ans[i-k+1] = get_middile()

        return ans

```

## A493. ç¿»è½¬å¯¹

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums` ï¼Œå¦‚æœ `i < j` ä¸” `nums[i] > 2*nums[j]` æˆ‘ä»¬å°±å°† `(i, j)` ç§°ä½œä¸€ä¸ª**é‡è¦ç¿»è½¬å¯¹**ã€‚

ä½ éœ€è¦è¿”å›ç»™å®šæ•°ç»„ä¸­çš„é‡è¦ç¿»è½¬å¯¹çš„æ•°é‡ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,3,2,3,1]
è¾“å‡º: 2
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: [2,4,3,5,1]
è¾“å‡º: 3
```

**æ³¨æ„:**

1. ç»™å®šæ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡`50000`ã€‚
2. è¾“å…¥æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½åœ¨32ä½æ•´æ•°çš„è¡¨ç¤ºèŒƒå›´å†…ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reverse-pairs/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**ç»´æŠ¤ä¸€ä¸ªå‡åºæ•°ç»„ï¼Œå¯¹äºä¸€ä¸ªæ–°çš„æ•°å­—`num`ï¼Œåœ¨å‡åºæ•°ç»„ä¸­æŸ¥è¯¢`2*num`çš„ä½ç½®ï¼Œç„¶åå°†`num`æ’å…¥åˆ°å‡åºæ•°ç»„ä¸­ã€‚  
ã€€ã€€**æ–¹æ³•äºŒï¼š**å½’å¹¶æ’åºï¼Œé€’å½’åœ°è®¡ç®—ç¿»è½¬å¯¹çš„ä¸ªæ•°ï¼Œå³â‘ å…ˆè®¡ç®—å·¦åŠè¾¹ â‘¡å†è®¡ç®—å³åŠè¾¹ â‘¢ç”¨ä¸€ä¸ªä¸¤é‡çš„`for`å¾ªç¯è®¡ç®—ä¸¤è¾¹çš„ç¿»è½¬å¯¹ä¸ªæ•°ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(bisect)(4000ms)

```python
import bisect

class Solution:
    def reversePairs(self, nums: List[int]) -> int:
        asc = []
        ans = 0
        for i, num in enumerate(nums):
            idx = bisect.bisect_right(asc, num * 2)
            ans += len(asc) - idx
            bisect.insort(asc, num)

        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(å½’å¹¶æ’åº)(2000ms)

```python

class Solution:
    def reversePairs(self, nums: List[int]) -> int:
        def merge(nums, start, end):
            m = (start + end) // 2
            left, right = nums[start:m + 1], nums[m + 1:end + 1]
            left.append(float('inf'))
            right.append(float('inf'))

            il, ir = 0, 0
            for i in range(start, end + 1):
                if left[il] < right[ir]:
                    nums[i] = left[il]
                    il += 1
                else:
                    nums[i] = right[ir]
                    ir += 1

        def merge_sort_count(nums, start, end) -> int:
            if start >= end: return 0

            m = (start + end) // 2
            c1 = merge_sort_count(nums, start, m)
            c2 = merge_sort_count(nums, m + 1, end)
            ans = c1 + c2
            j = m + 1
            for i in range(start, m + 1):
                while j <= end and nums[i] > 2 * nums[j]:
                    j += 1
                ans += j - (m + 1)

            merge(nums, start, end)
            return ans
        return merge_sort_count(nums, 0, len(nums) - 1)

```

## A502. IPO

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

å‡è®¾ åŠ›æ‰£ï¼ˆLeetCodeï¼‰å³å°†å¼€å§‹å…¶ IPOã€‚ä¸ºäº†ä»¥æ›´é«˜çš„ä»·æ ¼å°†è‚¡ç¥¨å–ç»™é£é™©æŠ•èµ„å…¬å¸ï¼ŒåŠ›æ‰£ å¸Œæœ›åœ¨ IPO ä¹‹å‰å¼€å±•ä¸€äº›é¡¹ç›®ä»¥å¢åŠ å…¶èµ„æœ¬ã€‚ ç”±äºèµ„æºæœ‰é™ï¼Œå®ƒåªèƒ½åœ¨ IPO ä¹‹å‰å®Œæˆæœ€å¤š **k** ä¸ªä¸åŒçš„é¡¹ç›®ã€‚å¸®åŠ© åŠ›æ‰£ è®¾è®¡å®Œæˆæœ€å¤š **k** ä¸ªä¸åŒé¡¹ç›®åå¾—åˆ°æœ€å¤§æ€»èµ„æœ¬çš„æ–¹å¼ã€‚

ç»™å®šè‹¥å¹²ä¸ªé¡¹ç›®ã€‚å¯¹äºæ¯ä¸ªé¡¹ç›® **i**ï¼Œå®ƒéƒ½æœ‰ä¸€ä¸ªçº¯åˆ©æ¶¦ **Pi**ï¼Œå¹¶ä¸”éœ€è¦æœ€å°çš„èµ„æœ¬ **Ci** æ¥å¯åŠ¨ç›¸åº”çš„é¡¹ç›®ã€‚æœ€åˆï¼Œä½ æœ‰ **W** èµ„æœ¬ã€‚å½“ä½ å®Œæˆä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œä½ å°†è·å¾—çº¯åˆ©æ¶¦ï¼Œä¸”åˆ©æ¶¦å°†è¢«æ·»åŠ åˆ°ä½ çš„æ€»èµ„æœ¬ä¸­ã€‚

æ€»è€Œè¨€ä¹‹ï¼Œä»ç»™å®šé¡¹ç›®ä¸­é€‰æ‹©æœ€å¤š **k** ä¸ªä¸åŒé¡¹ç›®çš„åˆ—è¡¨ï¼Œä»¥æœ€å¤§åŒ–æœ€ç»ˆèµ„æœ¬ï¼Œå¹¶è¾“å‡ºæœ€ç»ˆå¯è·å¾—çš„æœ€å¤šèµ„æœ¬ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: k=2, W=0, Profits=[1,2,3], Capital=[0,1,1].

è¾“å‡º: 4

è§£é‡Š:
ç”±äºä½ çš„åˆå§‹èµ„æœ¬ä¸º 0ï¼Œä½ å°½å¯ä»¥ä» 0 å·é¡¹ç›®å¼€å§‹ã€‚
åœ¨å®Œæˆåï¼Œä½ å°†è·å¾— 1 çš„åˆ©æ¶¦ï¼Œä½ çš„æ€»èµ„æœ¬å°†å˜ä¸º 1ã€‚
æ­¤æ—¶ä½ å¯ä»¥é€‰æ‹©å¼€å§‹ 1 å·æˆ– 2 å·é¡¹ç›®ã€‚
ç”±äºä½ æœ€å¤šå¯ä»¥é€‰æ‹©ä¸¤ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥ä½ éœ€è¦å®Œæˆ 2 å·é¡¹ç›®ä»¥è·å¾—æœ€å¤§çš„èµ„æœ¬ã€‚
å› æ­¤ï¼Œè¾“å‡ºæœ€åæœ€å¤§åŒ–çš„èµ„æœ¬ï¼Œä¸º 0 + 1 + 3 = 4ã€‚
```
**æ³¨æ„:**

1. å‡è®¾æ‰€æœ‰è¾“å…¥æ•°å­—éƒ½æ˜¯éè´Ÿæ•´æ•°ã€‚
2. è¡¨ç¤ºåˆ©æ¶¦å’Œèµ„æœ¬çš„æ•°ç»„çš„é•¿åº¦ä¸è¶…è¿‡ 50000ã€‚
3. ç­”æ¡ˆä¿è¯åœ¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´å†…ã€‚


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/ipo/>

#### **æ€è·¯:**

ã€€ã€€è´ªå¿ƒç®—æ³•ï¼Œç”±äºè¦å®ç°æœ€å¤§çš„åˆ©æ¶¦ã€‚æ¯æ¬¡éƒ½åœ¨**å½“å‰æˆæœ¬è¶³å¤Ÿçš„**é¡¹ç›®ä¸­é€‰æ‹©**åˆ©æ¶¦æœ€å¤§**çš„ã€‚  

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**éå†æ‰€æœ‰å½“å‰æˆæœ¬è¶³å¤Ÿçš„ï¼Œç„¶åé€‰æ‹©åˆ©æ¶¦æœ€å¤§çš„ã€‚è¶…æ—¶ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**åœ¨æ–¹æ³•ä¸€ä¸­æˆ‘ä»¬å‘ç°ï¼Œä¹‹å‰æˆæœ¬è¶³å¤Ÿçš„ï¼Œåœ¨è·å¾—æ–°çš„æ”¶ç›Šåæˆæœ¬ä¸€å®šä¹Ÿè¶³å¤Ÿäº†ï¼Œå› æ­¤ä¸éœ€è¦é‡æ–°éå†ã€‚ç»´æŠ¤ä¸€ä¸ªé™åºæ•°ç»„`asc`ï¼Œä»¥**æ”¶ç›Šé™åºçš„é¡ºåº**å­˜æ”¾æ‰€æœ‰æˆæœ¬è¶³å¤Ÿçš„é¡¹ç›®ã€‚æ¯æ¬¡éƒ½åšç¬¬ä¸€ä¸ªé¡¹ç›®å³å¯ã€‚  

ã€€ã€€**æ–¹æ³•ä¸‰ï¼š**æ–¹æ³•äºŒçš„å‡åºæ•°ç»„çš„ç»“æ„ç”¨å †æ¥å®ç°æ›´ä¸ºé«˜æ•ˆã€‚ç»´æŠ¤ä¸¤ä¸ªå †ï¼Œ`å †1`æ˜¯å°é¡¶å †ï¼Œå­˜æ”¾æ‰€æœ‰çš„æˆæœ¬ï¼›`å †2`æ˜¯å¤§é¡¶å †ï¼Œå­˜æ”¾æ‰€æœ‰çš„åˆ©æ¶¦ã€‚æ¯æ¬¡ç”¨`å †1`ä¸­æŠŠæˆæœ¬è¶³å¤Ÿçš„é¡¹ç›®éƒ½å–å‡ºæ¥ï¼Œåˆ©æ¶¦å€¼æ”¾åˆ°`å †2`ä¸­ã€‚ç„¶ååš`å †2`çš„ç¬¬ä¸€ä¸ªé¡¹ç›®å³å¯ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(æœ´ç´ è´ªå¿ƒ, è¶…æ—¶)

```python
class Solution:
    def findMaximizedCapital(self, k: int, W: int, Profits: List[int], Capital: List[int]) -> int:
        n = len(Profits)
        if not n:
            return W

        asc = [[Capital[i], Profits[i]] for i in range(n)]
        asc.sort()

        ans = W  # åˆå§‹é‡‘é’±
        for _ in range(k):
            maximal = (0, 0)  # index, num
            for i, (cost, profit) in enumerate(asc):
                if cost <= ans:
                    if profit > maximal[1]:
                        maximal = (i, profit)

                if i == len(asc) - 1 or cost > ans:  # é’±ä¸å¤Ÿäº†
                    if maximal[1]:
                        ans += maximal[1]
                        asc.pop(maximal[0])
                        break
                    else:
                        return ans

        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(å‡åºæ•°ç»„, 476ms)

```python
import bisect
class Solution:
    def findMaximizedCapital(self, k: int, W: int, Profits: List[int], Capital: List[int]) -> int:
        n = len(Profits)
        if not n:
            return W

        combine = [[Capital[i], Profits[i]] for i in range(n)]
        combine.sort()

        asc = []
        ans = W  # åˆå§‹é‡‘é’±
        for _ in range(k):
            i = 0
            while i < len(combine):
                cost, profit = combine[i]
                if cost <= ans:
                    bisect.insort(asc, profit)
                    combine.pop(i)
                    continue

                elif i == len(combine) - 1 or cost > ans:  # é’±ä¸å¤Ÿäº†
                    if not asc:
                        return ans
                    ans += asc.pop()  # å–æœ€å¤§çš„
                    break
                i += 1
            else:
                if not asc:
                    return ans
                ans += asc.pop()  # å–æœ€å¤§çš„

        return ans

```

ã€€ã€€**æ–¹æ³•ä¸‰ï¼š**(æœ€å¤§æœ€å°å †, 276ms)

```python
class Solution:
    def findMaximizedCapital(self, k: int, W: int, Profits: List[int], Capital: List[int]) -> int:
        n = len(Profits)
        if not n:
            return W

        combine = list(zip(Capital, Profits))

        heapify(combine)

        ans = W
        heap = []
        for _ in range(k):
            while combine and combine[0][0] <= ans:  # å¤ŸæŠ•èµ„çš„
                heappush(heap, - heappop(combine)[1])

            if not heap:
                break

            ans += -heappop(heap)

        return ans
```

## A503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¾“å‡ºæ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º -1ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,1]
è¾“å‡º: [2,-1,2]
è§£é‡Š: ç¬¬ä¸€ä¸ª 1 çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ 2ï¼›
æ•°å­— 2 æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› 
ç¬¬äºŒä¸ª 1 çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ 2ã€‚
```

**æ³¨æ„:** è¾“å…¥æ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 10000ã€‚ã€€

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/next-greater-element-ii/>

#### **æ€è·¯:**

ã€€ã€€ç»´æŠ¤ä¸€ä¸ªå•è°ƒæ ˆã€‚(æ ˆä¸­å­˜æ”¾çš„æ˜¯æ•°ç»„å…ƒç´ çš„ä¸‹æ ‡)  

ã€€ã€€æ ˆä¸ºç©ºæˆ–è€…å½“å‰å…ƒç´ å°äºç­‰äºæ ˆé¡¶å…ƒç´ æ—¶å…¥æ ˆï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ ï¼Œåˆ™è¿ç»­å‡ºæ ˆã€‚  

ã€€ã€€ä¾‹å¦‚ï¼Œå¯¹äº`[7 4 3 2 5 6 1 8 4]`ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š

```
åˆå§‹æ—¶æ ˆä¸ºç©ºï¼Œstack = []
7å…¥æ ˆï¼Œstack = [7]
4å…¥æ ˆï¼Œstack = [7, 4]
3å…¥æ ˆï¼Œstack = [7, 4, 3]
2å…¥æ ˆï¼Œstack = [7, 4, 3, 2]
5å¤§äºæ ˆé¡¶å…ƒç´ ï¼Œè¿ç»­å‡ºæ ˆï¼Œstack = [7, 5]ï¼Œå‡ºæ ˆçš„ä¸‰ä¸ªå…ƒç´ 4, 3, 2çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å³ä¸º5
6å¤§äºæ ˆé¡¶å…ƒç´ ï¼Œè¿ç»­å‡ºæ ˆï¼Œstack = [7, 6]ï¼Œå‡ºæ ˆçš„å…ƒç´ 5ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å³ä¸º6
1å…¥æ ˆï¼Œstack = [7, 6, 1]
8å¤§äºæ ˆé¡¶å…ƒç´ ï¼Œè¿ç»­å‡ºæ ˆï¼Œstack = [8]ï¼Œå‡ºæ ˆçš„å…ƒç´ 7, 6, 1ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å³ä¸º8
4å…¥æ ˆï¼Œstack = [8, 4]

ç”±äºæ˜¯å¾ªç¯æ•°ç»„ï¼Œè¿™æ ·çš„æ“ä½œè¦å†è¿›è¡Œä¸€è½®:
7å¤§äºæ ˆé¡¶å…ƒç´ ï¼Œè¿ç»­å‡ºæ ˆï¼Œstack = [8, 7]ï¼Œå‡ºæ ˆçš„å…ƒç´ 4ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å³ä¸º7
```

ã€€ã€€å°†æ‰€æœ‰å…ƒç´ ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°è®°å½•ä¸‹æ¥è¿”å›å³ä¸ºç»“æœã€‚

#### **ä»£ç :**

```python
class Solution:
    def nextGreaterElements(self, nums: List[int]) -> List[int]:
        n = len(nums)
        ans = [-1] * n 

        stack = []
        for _ in range(2):  # å› ä¸ºæ˜¯å¾ªç¯æ•°ç»„ æ‰€ä»¥è¦2è½®
            for i, num in enumerate(nums):
                while stack and num > nums[stack[-1]]:
                    p = stack.pop()
                    if ans[p] == -1:
                        ans[p] = num

                if not stack or num <= nums[stack[-1]]:
                    stack.append(i)

        return ans
```


## A508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ï¼Œè¯·ä½ æ‰¾å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œã€‚ä¸€ä¸ªç»“ç‚¹çš„ã€Œå­æ ‘å…ƒç´ å’Œã€å®šä¹‰ä¸ºä»¥è¯¥ç»“ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å…ƒç´ ä¹‹å’Œï¼ˆåŒ…æ‹¬ç»“ç‚¹æœ¬èº«ï¼‰ã€‚

ä½ éœ€è¦è¿”å›å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ç›¸åŒï¼Œè¿”å›æ‰€æœ‰å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œï¼ˆä¸é™é¡ºåºï¼‰ã€‚
> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥:

  5
 /  \
2   -3
```

è¿”å› [2, -3, 4]ï¼Œæ‰€æœ‰çš„å€¼å‡åªå‡ºç°ä¸€æ¬¡ï¼Œä»¥ä»»æ„é¡ºåºè¿”å›æ‰€æœ‰å€¼ã€‚

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥:

  5
 /  \
2   -5
```

è¿”å› [2]ï¼Œåªæœ‰ 2 å‡ºç°ä¸¤æ¬¡ï¼Œ-5 åªå‡ºç° 1 æ¬¡ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/most-frequent-subtree-sum/>

#### **æ€è·¯:**


ã€€ã€€è®°å½•æ‰€æœ‰å­æ ‘å…ƒç´ å’Œï¼Œç»Ÿè®¡å®ƒä»¬çš„å‡ºç°æ¬¡æ•°ï¼Œå°†æ¬¡æ•°æœ€å¤šçš„æ‰“å°å‡ºæ¥ã€‚

#### **ä»£ç :**

```python
class Solution:
    def findFrequentTreeSum(self, root: TreeNode) -> List[int]:
        if not root:
            return []

        subtrees = []
        def dfs(node):
            if not node:
                return 0

            s = node.val
            if node.left:
                s += dfs(node.left)

            if node.right:
                s += dfs(node.right)
            
            subtrees.append(s)
            return s

        dfs(root)
        c = Counter(subtrees)
        maximum = max(c.values())

        ans = []
        for num, count in c.items():
            if count == maximum:
                ans.append(num)

        return ans

```

## A513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåœ¨æ ‘çš„æœ€åä¸€è¡Œæ‰¾åˆ°æœ€å·¦è¾¹çš„å€¼ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:

    2
   / \
  1   3

è¾“å‡º:
1 
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:

        1
       / \
      2   3
     /   / \
    4   5   6
       /
      7

è¾“å‡º:
7
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/find-bottom-left-tree-value/>

#### **æ€è·¯:**

ã€€ã€€[å±‚åºéå†æ¨¡æ¿](/å®ç”¨æ¨¡æ¿?id=å¹¿æœï¼šbfsğŸŒ²å±‚åºéå†)ã€‚ 

#### **ä»£ç :**

```python
class Solution:
    def findBottomLeftValue(self, root: TreeNode) -> int:
        if not root:
            return 

        queue = [root]
        ans = 0
        while queue:
            temp = []
            # queueå­˜æ”¾çš„æ˜¯å½“å‰å±‚çš„æ‰€æœ‰ç»“ç‚¹
            for q in queue:
                if q.left:
                    temp.append(q.left)
                if q.right:
                    temp.append(q.right)
            if not temp:
                ans = queue[0].val

            queue = temp
        return ans
```

## A514. è‡ªç”±ä¹‹è·¯

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

è§†é¢‘æ¸¸æˆâ€œè¾å°„4â€ä¸­ï¼Œä»»åŠ¡â€œé€šå‘è‡ªç”±â€è¦æ±‚ç©å®¶åˆ°è¾¾åä¸ºâ€œFreedom Trail Ringâ€çš„é‡‘å±è¡¨ç›˜ï¼Œå¹¶ä½¿ç”¨è¡¨ç›˜æ‹¼å†™ç‰¹å®šå…³é”®è¯æ‰èƒ½å¼€é—¨ã€‚

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² **ring**ï¼Œè¡¨ç¤ºåˆ»åœ¨å¤–ç¯ä¸Šçš„ç¼–ç ï¼›ç»™å®šå¦ä¸€ä¸ªå­—ç¬¦ä¸² **key**ï¼Œè¡¨ç¤ºéœ€è¦æ‹¼å†™çš„å…³é”®è¯ã€‚æ‚¨éœ€è¦ç®—å‡ºèƒ½å¤Ÿæ‹¼å†™å…³é”®è¯ä¸­æ‰€æœ‰å­—ç¬¦çš„**æœ€å°‘**æ­¥æ•°ã€‚

æœ€åˆï¼Œ**ring** çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸12:00æ–¹å‘å¯¹é½ã€‚æ‚¨éœ€è¦é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬ ring ä»¥ä½¿ **key** çš„ä¸€ä¸ªå­—ç¬¦åœ¨ 12:00 æ–¹å‘å¯¹é½ï¼Œç„¶åæŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®ï¼Œä»¥æ­¤é€ä¸ªæ‹¼å†™å®Œ **key** ä¸­çš„æ‰€æœ‰å­—ç¬¦ã€‚

æ—‹è½¬ **ring** æ‹¼å‡º key å­—ç¬¦ **key[i]** çš„é˜¶æ®µä¸­ï¼š

1. æ‚¨å¯ä»¥å°† **ring** é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬**ä¸€ä¸ªä½ç½®**ï¼Œè®¡ä¸º1æ­¥ã€‚æ—‹è½¬çš„æœ€ç»ˆç›®çš„æ˜¯å°†å­—ç¬¦ä¸² **ring** çš„ä¸€ä¸ªå­—ç¬¦ä¸ 12:00 æ–¹å‘å¯¹é½ï¼Œå¹¶ä¸”è¿™ä¸ªå­—ç¬¦å¿…é¡»ç­‰äºå­—ç¬¦ **key[i] ã€‚**
2. å¦‚æœå­—ç¬¦ **key[i]** å·²ç»å¯¹é½åˆ°12:00æ–¹å‘ï¼Œæ‚¨éœ€è¦æŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®è¿›è¡Œæ‹¼å†™ï¼Œè¿™ä¹Ÿå°†ç®—ä½œ **1 æ­¥**ã€‚æŒ‰å®Œä¹‹åï¼Œæ‚¨å¯ä»¥å¼€å§‹æ‹¼å†™ **key** çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆä¸‹ä¸€é˜¶æ®µï¼‰, ç›´è‡³å®Œæˆæ‰€æœ‰æ‹¼å†™ã€‚

> **ç¤ºä¾‹ï¼š**  

ã€€ã€€<img src="_img/514.jpg" style="zoom:40%"/>

```
è¾“å…¥: ring = "godding", key = "gd"
è¾“å‡º: 4
è§£é‡Š:
 å¯¹äº key çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ 'g'ï¼Œå·²ç»åœ¨æ­£ç¡®çš„ä½ç½®, æˆ‘ä»¬åªéœ€è¦1æ­¥æ¥æ‹¼å†™è¿™ä¸ªå­—ç¬¦ã€‚ 
 å¯¹äº key çš„ç¬¬äºŒä¸ªå­—ç¬¦ 'd'ï¼Œæˆ‘ä»¬éœ€è¦é€†æ—¶é’ˆæ—‹è½¬ ring "godding" 2æ­¥ä½¿å®ƒå˜æˆ "ddinggo"ã€‚
 å½“ç„¶, æˆ‘ä»¬è¿˜éœ€è¦1æ­¥è¿›è¡Œæ‹¼å†™ã€‚
 å› æ­¤æœ€ç»ˆçš„è¾“å‡ºæ˜¯ 4ã€‚
```

**æç¤ºï¼š**

1. **ring** å’Œ **key** çš„å­—ç¬¦ä¸²é•¿åº¦å–å€¼èŒƒå›´å‡ä¸º 1 è‡³ 100ï¼›
2. ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­éƒ½åªæœ‰å°å†™å­—ç¬¦ï¼Œå¹¶ä¸”å‡å¯èƒ½å­˜åœ¨é‡å¤å­—ç¬¦ï¼›
3. å­—ç¬¦ä¸² **key** ä¸€å®šå¯ä»¥ç”±å­—ç¬¦ä¸² **ring** æ—‹è½¬æ‹¼å‡ºã€‚


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/freedom-trail/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**æš´åŠ›(è¶…æ—¶)ï¼Œç»™å®š`key`ä¸­çš„ä¸€ä¸ªå­—æ¯`char`æ—¶ï¼Œè¦ä¹ˆé€‰å–å‘å³è½¬çš„ç¬¬ä¸€ä¸ª`char`ï¼Œè¦ä¹ˆé€‰å–å‘å·¦è½¬çš„ç¬¬ä¸€ä¸ª`char`ã€‚å°†ç§»åŠ¨çš„æ¬¡æ•°å†åŠ ä¸Š`key`çš„é•¿åº¦(éœ€è¦æŒ‰æŒ‰é’®çš„æ¬¡æ•°)å°±æ˜¯ç»“æœã€‚æœ€åæ—¶é—´å¤æ‚åº¦ä¸º`O(m*2^n)`ï¼Œå…¶ä¸­`n`è¡¨ç¤º`key`çš„é•¿åº¦ã€‚  
ã€€ã€€**æ–¹æ³•äºŒï¼š**åŠ¨æ€è§„åˆ’ï¼ŒæŒ‡æ•°çº§çš„å¤æ‚åº¦æ˜¾ç„¶æ˜¯å¤ªé«˜äº†ã€‚å¦‚æœæˆ‘ä»¬å·²ç»æ‹¼å‡º`key[j]`ä¹‹å‰æ‰€æœ‰å­—æ¯æ‰€éœ€çš„æœ€å°æ­¥éª¤`dp[i]`ï¼ˆè¿™é‡Œ`i`è¡¨ç¤º`ring`ä¸­çš„ä½ç½®ï¼‰ï¼Œé‚£ä¹ˆæ‹¼å‡º`key[j]`çš„æœ€å°æ­¥éª¤`dp[i_]`ä¸º min(`dp[i]` + ä»`i`ç§»åŠ¨åˆ°`i_`çš„æœ€çŸ­è·ç¦»)ã€‚  

ã€€ã€€ä¾‹å¦‚ï¼Œ`ring = "cadcdeab"`ï¼Œ`key = "ade"`ã€‚

ã€€ã€€å¯¹äº`key`çš„ç¬¬ä¸€ä¸ªå­—æ¯`a`ï¼Œå¯ä»¥è®¡ç®—å‡º`dp[1] = 1`ï¼Œ`dp[6] = 2`ï¼›  

ã€€ã€€å¯¹äº`key`çš„ç¬¬äºŒä¸ªå­—æ¯`d`ï¼Œå¯ä»¥è®¡ç®—å‡º`dp'[2] = min(dp[1] + 1, dp[6] + 4) = 2`ï¼Œ`dp'[4] = min(dp[1] + 3, dp[6] + 2) = 4`ï¼›    

ã€€ã€€å¯¹äº`key`çš„ç¬¬ä¸‰ä¸ªå­—æ¯`e`ï¼Œå¯ä»¥è®¡ç®—å‡º`dp''[5] = min(dp'[2] + 3, dp'[4] + 1) = 5`ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**æš´åŠ›(è¶…æ—¶)

```python
class Solution:
    def myfindRotateSteps(self, ring: str, key: str, cur) -> int:
        if not key:
            return 0
        if ring[cur] == key[0]:
            return self.myfindRotateSteps(ring, key[1:], cur)

        char = key[0]
        right = ring.find(char, cur)
        right_move = right - cur
        if right < 0:
            right = ring.find(char)
            right_move = len(ring) - cur + right

        left = ring.rfind(char, 0, cur)
        left_move = cur - left
        if left < 0:
            left = ring.rfind(char)
            left_move = len(ring) - left + cur

        if left == right:  # å¾€å·¦è½¬å’Œå¾€å³è½¬åˆ°è¾¾ä¸€æ ·çš„ç»“æœ
            return min(left_move, right_move) + self.myfindRotateSteps(ring, key[1:], left)
        else:
            l = left_move + self.myfindRotateSteps(ring, key[1:], left)
            r = right_move + self.myfindRotateSteps(ring, key[1:], right)
            return min(l, r)

    def findRotateSteps(self, ring: str, key: str) -> int:
        return self.myfindRotateSteps(ring, key, 0) + len(key)

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**åŠ¨æ€è§„åˆ’(144ms)

```python
from collections import defaultdict 
class Solution:
    def findRotateSteps(self, ring: str, key: str) -> int:
        mem = collections.defaultdict(list)
        for i, ch in enumerate(ring):
            mem[ch].append(i)
        lr = len(ring)
        lk = len(key)
        dp = [(0, 0)]

        for j, char in enumerate(key):
            temp = []
            for pos in mem[char]:
                minimal = float('inf')
                for last_pos, steps in dp:
                    move = abs(pos - last_pos)
                    minimal = min(minimal, steps + move, steps + lr - move)

                temp.append((pos, minimal))

            dp = temp

        return min([d[1] for d in dp]) + lk
      
```

## A515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

æ‚¨éœ€è¦åœ¨äºŒå‰æ ‘çš„æ¯ä¸€è¡Œä¸­æ‰¾åˆ°æœ€å¤§çš„å€¼ã€‚

> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥: 

          1
         / \
        3   2
       / \   \  
      5   3   9 

è¾“å‡º: [1, 3, 9]
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/find-largest-value-in-each-tree-row/>

#### **æ€è·¯:**

ã€€ã€€[å±‚åºéå†æ¨¡æ¿](/å®ç”¨æ¨¡æ¿?id=å¹¿æœï¼šbfsğŸŒ²å±‚åºéå†)ã€‚ 

#### **ä»£ç :**

```python
class Solution:
    def largestValues(self, root: TreeNode) -> List[int]:
        if not root:
            return 

        queue = [root]
        ans = []
        while queue:
            temp = []
            ans.append(max([node.val for node in queue]))
            # queueå­˜æ”¾çš„æ˜¯å½“å‰å±‚çš„æ‰€æœ‰ç»“ç‚¹
            for q in queue:
                if q.left:
                    temp.append(q.left)
                if q.right:
                    temp.append(q.right)

            queue = temp
        return ans
```


## A518. é›¶é’±å…‘æ¢ II

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸å’Œä¸€ä¸ªæ€»é‡‘é¢ã€‚å†™å‡ºå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ªã€‚ 


> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: amount = 5, coins = [1, 2, 5]
è¾“å‡º: 4
è§£é‡Š: æœ‰å››ç§æ–¹å¼å¯ä»¥å‡‘æˆæ€»é‡‘é¢:
5=5
5=2+2+1
5=2+1+1+1
5=1+1+1+1+1
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: amount = 3, coins = [2]
è¾“å‡º: 0
è§£é‡Š: åªç”¨é¢é¢2çš„ç¡¬å¸ä¸èƒ½å‡‘æˆæ€»é‡‘é¢3ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: amount = 10, coins = [10] 
è¾“å‡º: 1
```
**æ³¨æ„**

ä½ å¯ä»¥å‡è®¾ï¼š

- 0 <= amount (æ€»é‡‘é¢) <= 5000
- 1 <= coin (ç¡¬å¸é¢é¢) <= 5000
- ç¡¬å¸ç§ç±»ä¸è¶…è¿‡ 500 ç§
- ç»“æœç¬¦åˆ 32 ä½ç¬¦å·æ•´æ•°

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/coin-change-2/>

#### **æ€è·¯:**

ã€€ã€€æ–¹æ³•ä¸€ï¼šä½¿ç”¨lru_cacheï¼Œ`dp(n, m)`è¡¨ç¤ºæœ€å¤§ä½¿ç”¨é¢å€¼ä¸º`m`çš„ç¡¬å¸ç»„æˆé‡‘é¢ä¸º`n`çš„æ–¹æ³•æ•°ã€‚  

ã€€ã€€æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ï¼Œæ¯æ¬¡åœ¨ä¸Šä¸€é’Ÿé›¶é’±çŠ¶æ€çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„é¢å€¼ã€‚

#### **ä»£ç :**

ã€€ã€€æ–¹æ³•ä¸€ï¼š(lru_cache)

```python
sys.setrecursionlimit(1000000)

class Solution:
    def change(self, amount: int, coins: List[int]) -> int:
        if not coins:  # æ²¡æœ‰ç¡¬å¸
            if amount == 0:
                return 1
            else:
                return 0

        coins.sort()

        from functools import lru_cache
        @lru_cache(None)
        def dp(n, mmax):
            if n == 0:
                return 1
            
            ans = 0
            for coin in coins:
                if coin <= mmax and n-coin >= 0:
                    ans += dp(n-coin, coin)

            return ans

        return dp(amount, coins[-1])
      
```

ã€€ã€€æ–¹æ³•äºŒï¼š

```python
class Solution:
    def change(self, amount: int, coins: List[int]) -> int:
        dp = [0] * (amount + 1)
        dp[0] = 1

        for coin in coins:
            for j in range(coin, amount + 1):
                dp[j] += dp[j-coin]

        return dp[-1]
      
```

## A520. æ£€æµ‹å¤§å†™å­—æ¯

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå•è¯ï¼Œä½ éœ€è¦åˆ¤æ–­å•è¯çš„å¤§å†™ä½¿ç”¨æ˜¯å¦æ­£ç¡®ã€‚

æˆ‘ä»¬å®šä¹‰ï¼Œåœ¨ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œå•è¯çš„å¤§å†™ç”¨æ³•æ˜¯æ­£ç¡®çš„ï¼š

1. å…¨éƒ¨å­—æ¯éƒ½æ˜¯å¤§å†™ï¼Œæ¯”å¦‚"USA"ã€‚
2. å•è¯ä¸­æ‰€æœ‰å­—æ¯éƒ½ä¸æ˜¯å¤§å†™ï¼Œæ¯”å¦‚"leetcode"ã€‚
3. å¦‚æœå•è¯ä¸åªå«æœ‰ä¸€ä¸ªå­—æ¯ï¼Œåªæœ‰é¦–å­—æ¯å¤§å†™ï¼Œ æ¯”å¦‚ "Google"ã€‚

å¦åˆ™ï¼Œæˆ‘ä»¬å®šä¹‰è¿™ä¸ªå•è¯æ²¡æœ‰æ­£ç¡®ä½¿ç”¨å¤§å†™å­—æ¯ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: "USA"
è¾“å‡º: True
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: "FlaG"
è¾“å‡º: False
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/detect-capital/>

#### æ€è·¯  

ã€€ã€€æ„Ÿè§‰Pythonä¸å¤ªé€‚åˆåšå­—ç¬¦ä¸²çš„`ç®€å•`é¢˜ï¼Œå› ä¸ºéƒ½ä¸ç”¨è‡ªå·±å†™ğŸ¤¦â€â™‚ï¸ã€‚  

#### ä»£ç   

```python
class Solution:
    def detectCapitalUse(self, word: str) -> bool:
        return word.isupper() or word[1:].islower() or len(word) <= 1
      
```

## A521. æœ€é•¿ç‰¹æ®Šåºåˆ— â… 

éš¾åº¦ `ç®€å•`  

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œä½ éœ€è¦ä»è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­æ‰¾å‡ºæœ€é•¿çš„ç‰¹æ®Šåºåˆ—ã€‚æœ€é•¿ç‰¹æ®Šåºåˆ—å®šä¹‰å¦‚ä¸‹ï¼šè¯¥åºåˆ—ä¸ºæŸå­—ç¬¦ä¸²ç‹¬æœ‰çš„æœ€é•¿å­åºåˆ—ï¼ˆå³ä¸èƒ½æ˜¯å…¶ä»–å­—ç¬¦ä¸²çš„å­åºåˆ—ï¼‰ã€‚

**å­åºåˆ—**å¯ä»¥é€šè¿‡åˆ å»å­—ç¬¦ä¸²ä¸­çš„æŸäº›å­—ç¬¦å®ç°ï¼Œä½†ä¸èƒ½æ”¹å˜å‰©ä½™å­—ç¬¦çš„ç›¸å¯¹é¡ºåºã€‚ç©ºåºåˆ—ä¸ºæ‰€æœ‰å­—ç¬¦ä¸²çš„å­åºåˆ—ï¼Œä»»ä½•å­—ç¬¦ä¸²ä¸ºå…¶è‡ªèº«çš„å­åºåˆ—ã€‚

è¾“å…¥ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œè¾“å‡ºæœ€é•¿ç‰¹æ®Šåºåˆ—çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚

> **ç¤ºä¾‹ :**

```
è¾“å…¥: "aba", "cdc"
è¾“å‡º: 3
è§£æ: æœ€é•¿ç‰¹æ®Šåºåˆ—å¯ä¸º "aba" (æˆ– "cdc")
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-uncommon-subsequence-i/>

#### æ€è·¯  

ã€€ã€€è¿™é¢˜æ˜¯ä¸€é“è„‘ç­‹æ€¥è½¬å¼¯é¢˜ã€‚    

- ä¸¤å­—ç¬¦ä¸²ç›¸åŒæ—¶ï¼Œæ˜¾ç„¶è¿”å›`-1`ã€‚
- ä¸¤å­—ç¬¦ä¸²é•¿åº¦ä¸ç›¸åŒæ—¶ï¼Œé•¿çš„æ˜¾ç„¶ä¸å¯èƒ½ä¸ºçŸ­çš„å­ä¸²ã€‚å› æ­¤è¿”å›`é•¿å­—ç¬¦ä¸²çš„é•¿åº¦`ã€‚
- ä¸¤å­—ç¬¦ä¸²é•¿åº¦ç›¸åŒä½†å­—ç¬¦ä¸åŒæ—¶ï¼ŒåŒæ ·`a`ä¸å¯èƒ½ä¸º`b`çš„å­ä¸²ï¼Œå› æ­¤è¿”å›`aæˆ–bçš„é•¿åº¦`ã€‚  

#### ä»£ç   

```python
class Solution:
    def findLUSlength(self, a: str, b: str) -> int:
        if a == b: return -1
        return max(len(a), len(b))
      
```



## A524. é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªå­—ç¬¦ä¸²å­—å…¸ï¼Œæ‰¾åˆ°å­—å…¸é‡Œé¢æœ€é•¿çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡åˆ é™¤ç»™å®šå­—ç¬¦ä¸²çš„æŸäº›å­—ç¬¦æ¥å¾—åˆ°ã€‚å¦‚æœç­”æ¡ˆä¸æ­¢ä¸€ä¸ªï¼Œè¿”å›é•¿åº¦æœ€é•¿ä¸”å­—å…¸é¡ºåºæœ€å°çš„å­—ç¬¦ä¸²ã€‚å¦‚æœç­”æ¡ˆä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:
s = "abpcplea", d = ["ale","apple","monkey","plea"]

è¾“å‡º: 
"apple"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:
s = "abpcplea", d = ["a","b","c"]

è¾“å‡º: 
"a"
```

**è¯´æ˜:**

1. æ‰€æœ‰è¾“å…¥çš„å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ã€‚
2. å­—å…¸çš„å¤§å°ä¸ä¼šè¶…è¿‡ 1000ã€‚
3. æ‰€æœ‰è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ä¼šè¶…è¿‡ 1000ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-word-in-dictionary-through-deleting/>

#### **æ€è·¯:**

ã€€ã€€â‘  å…ˆå°†dä¸­çš„å•è¯æŒ‰ç…§é•¿åº¦ç”±é•¿åˆ°çŸ­æ’åºï¼Œå†æŒ‰ç…§å­—æ¯é¡ºåºï¼Œä»å°åˆ°å¤§(ç”¨`sort`çš„`key`åŠŸèƒ½)ã€‚  
ã€€ã€€â‘¡ ç„¶åä¾æ¬¡æ¯”è¾ƒdä¸­å­—ç¬¦ä¸²ä¸å­—å…¸sï¼Œå¦‚æœå‡ºç°åŒ¹é…å°±ç›´æ¥è¿”å›ã€‚

#### **ä»£ç :**

```python
class Solution:
    def findLongestWord(self, s: str, d: List[str]) -> str:
        # å…ˆå°†dä¸­çš„å•è¯æŒ‰ç…§é•¿åº¦ç”±é•¿åˆ°çŸ­æ’åºï¼Œå†æŒ‰ç…§å­—æ¯é¡ºåºï¼Œä»å°åˆ°å¤§
        d.sort(key=lambda kv: (-len(kv), kv))

        # ç„¶åä¾æ¬¡æ¯”è¾ƒdä¸­å­—ç¬¦ä¸²ä¸å­—å…¸sï¼Œå¦‚æœå‡ºç°åŒ¹é…å°±ç›´æ¥è¿”å›
        for word in d:
            start = 0
            for char in word:
                start = s.find(char, start) + 1
                if not start:
                    break
            else:
                return word

        return ''

```

## A529. æ‰«é›·æ¸¸æˆ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

è®©æˆ‘ä»¬ä¸€èµ·æ¥ç©æ‰«é›·æ¸¸æˆï¼

ç»™å®šä¸€ä¸ªä»£è¡¨æ¸¸æˆæ¿çš„äºŒç»´å­—ç¬¦çŸ©é˜µã€‚ **'M'** ä»£è¡¨ä¸€ä¸ª**æœªæŒ–å‡ºçš„**åœ°é›·ï¼Œ**'E'** ä»£è¡¨ä¸€ä¸ª**æœªæŒ–å‡ºçš„**ç©ºæ–¹å—ï¼Œ**'B'** ä»£è¡¨æ²¡æœ‰ç›¸é‚»ï¼ˆä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³ï¼Œå’Œæ‰€æœ‰4ä¸ªå¯¹è§’çº¿ï¼‰åœ°é›·çš„**å·²æŒ–å‡ºçš„**ç©ºç™½æ–¹å—ï¼Œ**æ•°å­—**ï¼ˆ'1' åˆ° '8'ï¼‰è¡¨ç¤ºæœ‰å¤šå°‘åœ°é›·ä¸è¿™å—**å·²æŒ–å‡ºçš„**æ–¹å—ç›¸é‚»ï¼Œ**'X'** åˆ™è¡¨ç¤ºä¸€ä¸ª**å·²æŒ–å‡ºçš„**åœ°é›·ã€‚

ç°åœ¨ç»™å‡ºåœ¨æ‰€æœ‰**æœªæŒ–å‡ºçš„**æ–¹å—ä¸­ï¼ˆ'M'æˆ–è€…'E'ï¼‰çš„ä¸‹ä¸€ä¸ªç‚¹å‡»ä½ç½®ï¼ˆè¡Œå’Œåˆ—ç´¢å¼•ï¼‰ï¼Œæ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼Œè¿”å›ç›¸åº”ä½ç½®è¢«ç‚¹å‡»åå¯¹åº”çš„é¢æ¿ï¼š

1. å¦‚æœä¸€ä¸ªåœ°é›·ï¼ˆ'M'ï¼‰è¢«æŒ–å‡ºï¼Œæ¸¸æˆå°±ç»“æŸäº†- æŠŠå®ƒæ”¹ä¸º **'X'**ã€‚
2. å¦‚æœä¸€ä¸ª**æ²¡æœ‰ç›¸é‚»åœ°é›·**çš„ç©ºæ–¹å—ï¼ˆ'E'ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºï¼ˆ'B'ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰å’Œå…¶ç›¸é‚»çš„æ–¹å—éƒ½åº”è¯¥è¢«é€’å½’åœ°æ­éœ²ã€‚
3. å¦‚æœä¸€ä¸ª**è‡³å°‘ä¸ä¸€ä¸ªåœ°é›·ç›¸é‚»**çš„ç©ºæ–¹å—ï¼ˆ'E'ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºæ•°å­—ï¼ˆ'1'åˆ°'8'ï¼‰ï¼Œè¡¨ç¤ºç›¸é‚»åœ°é›·çš„æ•°é‡ã€‚
4. å¦‚æœåœ¨æ­¤æ¬¡ç‚¹å‡»ä¸­ï¼Œè‹¥æ— æ›´å¤šæ–¹å—å¯è¢«æ­éœ²ï¼Œåˆ™è¿”å›é¢æ¿ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: 

[['E', 'E', 'E', 'E', 'E'],
 ['E', 'E', 'M', 'E', 'E'],
 ['E', 'E', 'E', 'E', 'E'],
 ['E', 'E', 'E', 'E', 'E']]

Click : [3,0]

è¾“å‡º: 

[['B', '1', 'E', '1', 'B'],
 ['B', '1', 'M', '1', 'B'],
 ['B', '1', '1', '1', 'B'],
 ['B', 'B', 'B', 'B', 'B']]

è§£é‡Š:
```

<img src="_img/529_1.png" style="zoom:40%"/>  

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: 

[['B', '1', 'E', '1', 'B'],
 ['B', '1', 'M', '1', 'B'],
 ['B', '1', '1', '1', 'B'],
 ['B', 'B', 'B', 'B', 'B']]

Click : [1,2]

è¾“å‡º: 

[['B', '1', 'E', '1', 'B'],
 ['B', '1', 'X', '1', 'B'],
 ['B', '1', '1', '1', 'B'],
 ['B', 'B', 'B', 'B', 'B']]

è§£é‡Š:
```

<img src="_img/529_2.png" style="zoom:40%"/>

**æ³¨æ„ï¼š**

1. è¾“å…¥çŸ©é˜µçš„å®½å’Œé«˜çš„èŒƒå›´ä¸º [1,50]ã€‚
2. ç‚¹å‡»çš„ä½ç½®åªèƒ½æ˜¯æœªè¢«æŒ–å‡ºçš„æ–¹å— ('M' æˆ–è€… 'E')ï¼Œè¿™ä¹Ÿæ„å‘³ç€é¢æ¿è‡³å°‘åŒ…å«ä¸€ä¸ªå¯ç‚¹å‡»çš„æ–¹å—ã€‚
3. è¾“å…¥é¢æ¿ä¸ä¼šæ˜¯æ¸¸æˆç»“æŸçš„çŠ¶æ€ï¼ˆå³æœ‰åœ°é›·å·²è¢«æŒ–å‡ºï¼‰ã€‚
4. ç®€å•èµ·è§ï¼ŒæœªæåŠçš„è§„åˆ™åœ¨è¿™ä¸ªé—®é¢˜ä¸­å¯è¢«å¿½ç•¥ã€‚ä¾‹å¦‚ï¼Œå½“æ¸¸æˆç»“æŸæ—¶ä½ ä¸éœ€è¦æŒ–å‡ºæ‰€æœ‰åœ°é›·ï¼Œè€ƒè™‘æ‰€æœ‰ä½ å¯èƒ½èµ¢å¾—æ¸¸æˆæˆ–æ ‡è®°æ–¹å—çš„æƒ…å†µã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minesweeper/>

#### **æ€è·¯:**

ã€€ã€€æœ¬é¢˜çš„éš¾ç‚¹åœ¨äºç†è§£é¢˜æ„ã€‚æ ¹æ®ç‚¹å‡»çš„ä½ç½®ä¸åŒå¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š    

- ç‚¹å‡»çš„ä½ç½®æ˜¯åœ°é›·ï¼Œå°†è¯¥ä½ç½®ä¿®æ”¹ä¸º`"X"`ï¼Œç›´æ¥è¿”å›ã€‚  
- ç‚¹å‡»ä½ç½®çš„`ä¹å®«æ ¼å†…æœ‰åœ°é›·`ï¼Œå°†è¯¥ä½ç½®ä¿®æ”¹ä¸ºä¹å®«æ ¼å†…åœ°é›·çš„æ•°é‡ï¼Œç„¶åç›´æ¥è¿”å›ã€‚
- ç‚¹å‡»ä½ç½®çš„`ä¹å®«æ ¼å†…æ²¡æœ‰åœ°é›·`ï¼Œè¿›è¡Œdfsæˆ–bfså‘å‘¨å›´æ‰©å±•ï¼Œç›´åˆ°æ‰€æœ‰è¾¹ç•Œçš„ä¹å®«æ ¼å†…éƒ½æœ‰åœ°é›·ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def updateBoard(self, board: List[List[str]], click: List[int]) -> List[List[str]]:
        x, y = click
        if board[x][y] == 'M':  # è¸©åœ°é›·äº†
            board[x][y] = 'X'
            return board

        m = len(board)
        n = len(board[0])
        counts = [[0 for _ in range(n)] for _ in range(m)]
        visited = [[False for _ in range(n)] for _ in range(m)]
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1), (-1, -1), (-1, 1), (1, -1), (1, 1)]  # 8ä¸ªæ–¹å‘

        def get_around(i, j):  # è·å–å‘¨å›´ä¹å®«æ ¼
            count = 0
            for x in range(max(0, i-1), min(m, i+2)):
                for y in range(max(0, j-1), min(n, j+2)):
                    if (x != i or y != j) and board[x][y] == 'M':
                        count += 1
            return count

        for i in range(m):
            for j in range(n):
                counts[i][j] = get_around(i, j)  # æ¯ä¸ªä½ç½®çš„æ•°å­—

        if counts[x][y]:  # å¦‚æœç‚¹çš„ä½ç½®æ˜¯æœ‰æ•°å­—çš„
            board[x][y] = str(counts[x][y])
            return board

        queue = [(x, y)]  # bfs
        while queue:
            for i, j in queue:
                visited[i][j] = True
                if board[i][j] != 'M':  # åœ°é›·ä¸èƒ½ä¿®æ”¹
                    board[i][j] = str(counts[i][j]) if counts[i][j] else 'B'

            temp = []
            for i, j in queue:
                if counts[i][j]:  # ä¸æ˜¯0çš„ä½ç½®ä¸ç»§ç»­
                    continue
                for di, dj in arounds:
                    ni, nj = i + di, j + dj  # ä¸‹ä¸€ä¸ªä½ç½®
                    if ni < 0 or nj < 0 or ni >= m or nj >= n:  # è¾¹ç•Œ
                        continue
                    if not visited[ni][nj] and (ni, nj) not in temp:
                        temp.append((ni, nj))

            queue = temp
        return board
      
```

## A532. æ•°ç»„ä¸­çš„K-diffæ•°å¯¹

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° **k**, ä½ éœ€è¦åœ¨æ•°ç»„é‡Œæ‰¾åˆ°**ä¸åŒçš„** k-diff æ•°å¯¹ã€‚è¿™é‡Œå°† **k-diff** æ•°å¯¹å®šä¹‰ä¸ºä¸€ä¸ªæ•´æ•°å¯¹ (i, j), å…¶ä¸­ **i** å’Œ **j** éƒ½æ˜¯æ•°ç»„ä¸­çš„æ•°å­—ï¼Œä¸”ä¸¤æ•°ä¹‹å·®çš„ç»å¯¹å€¼æ˜¯ **k**ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [3, 1, 4, 1, 5], k = 2
è¾“å‡º: 2
è§£é‡Š: æ•°ç»„ä¸­æœ‰ä¸¤ä¸ª 2-diff æ•°å¯¹, (1, 3) å’Œ (3, 5)ã€‚
å°½ç®¡æ•°ç»„ä¸­æœ‰ä¸¤ä¸ª1ï¼Œä½†æˆ‘ä»¬åªåº”è¿”å›ä¸åŒçš„æ•°å¯¹çš„æ•°é‡ã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥:[1, 2, 3, 4, 5], k = 1
è¾“å‡º: 4
è§£é‡Š: æ•°ç»„ä¸­æœ‰å››ä¸ª 1-diff æ•°å¯¹, (1, 2), (2, 3), (3, 4) å’Œ (4, 5)ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: [1, 3, 1, 5, 4], k = 0
è¾“å‡º: 1
è§£é‡Š: æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ª 0-diff æ•°å¯¹ï¼Œ(1, 1)ã€‚
```

**æ³¨æ„:**

1. æ•°å¯¹ (i, j) å’Œæ•°å¯¹ (j, i) è¢«ç®—ä½œåŒä¸€æ•°å¯¹ã€‚
2. æ•°ç»„çš„é•¿åº¦ä¸è¶…è¿‡10,000ã€‚
3. æ‰€æœ‰è¾“å…¥çš„æ•´æ•°çš„èŒƒå›´åœ¨ [-1e7, 1e7]ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/k-diff-pairs-in-an-array/>

#### **æ€è·¯:**

ã€€ã€€â‘  `k < 0`æ—¶ï¼Œç›´æ¥è¿”å›`0`ï¼›  

ã€€ã€€â‘¡  `k = 0`æ—¶ï¼Œè¿”å›`å‡ºç°æ¬¡æ•°å¤§äº1`çš„æ•°å­—ä¸ªæ•°ï¼›  

ã€€ã€€â‘¢ `k > 0`æ—¶ï¼Œå› ä¸ºè¦æ‰¾ä¸åŒçš„`k-diff`æ•°å¯¹ï¼Œå‡ºç°å¤šæ¬¡çš„æ•°å­—å¹¶æ²¡æœ‰ç”¨ã€‚è®¾æ‰€æœ‰å‡ºç°æ•°å­—çš„é›†åˆä¸º`c`ï¼Œå¦‚æœ`num`å’Œ`num + k`åŒæ—¶å†`c`ä¸­å‡ºç°ï¼Œåˆ™ç»“æœæ•°`+1`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def findPairs(self, nums: List[int], k: int) -> int:
        c = set(nums)
        ans = 0
        if k < 0:
            return 0
        if k == 0:  # ç‰¹åˆ¤k = 0æ—¶ï¼Œ è¿”å›å‡ºç°æ¬¡æ•°å¤šäº1æ¬¡çš„æ•°å­—ä¸ªæ•°  
            for num in c:
                if nums.count(num) > 1:
                    ans += 1
            return ans

        for num in c:  # å¦‚æœnumå’Œnum+kéƒ½åœ¨é›†åˆä¸­ï¼Œç»“æœæ•°+1
            if num + k in c:
                ans += 1

        return ans

```

## A542. 01 çŸ©é˜µ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„çŸ©é˜µï¼Œæ‰¾å‡ºæ¯ä¸ªå…ƒç´ åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»ã€‚

ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º 1 ã€‚

> **ç¤ºä¾‹ 1:**  

è¾“å…¥:

```
0 0 0
0 1 0
0 0 0
```

è¾“å‡º:

```
0 0 0
0 1 0
0 0 0
```

> **ç¤ºä¾‹ 2:** 

è¾“å…¥:

```
0 0 0
0 1 0
1 1 1
```

è¾“å‡º:

```
0 0 0
0 1 0
1 2 1
```

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/01-matrix/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**bfsã€‚å°†æ‰€æœ‰çš„`"0"`çœ‹åšä¸€ä¸ªæ•´ä½“ï¼Œå‘å…¶ä»–æ•°å­—çš„ä½ç½®è…èš€(å°†å®ƒä»¬å˜æˆ0)ï¼Œå½“æ ¼å­ä¸Šæ‰€æœ‰æ•°å­—éƒ½ä¸º`"0"`æ—¶ç»“æŸå¾ªç¯ã€‚è®°å½•å¾ªç¯çš„æ·±åº¦å°±æ˜¯ç»“æœã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**åŠ¨æ€è§„åˆ’ï¼Œå› ä¸ºæœ€è¿‘çš„`"0"`è¦ä¹ˆåœ¨å·¦ä¸Šæ–¹ï¼Œè¦ä¹ˆåœ¨å³ä¸‹æ–¹ã€‚å› æ­¤åªè¦åˆ†**åˆ«ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’**å’Œ**ä»å³ä¸‹è§’åˆ°å·¦ä¸Šè§’**åŠ¨æ€è§„åˆ’ä¸€æ¬¡ï¼Œå°±å¾—åˆ°äº†æœ€ç»ˆçš„ç»“æœã€‚  

ã€€ã€€å…¶ä¸­ä»å·¦ä¸Šåˆ°å³ä¸‹çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º`dp[i][j] = min(dp[i][j], dp[i-1][j] + 1, dp[i][j-1] + 1)`ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(bfs)

```python
class Solution:
    def updateMatrix(self, matrix: List[List[int]]) -> List[List[int]]:
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]  # ä¸Šä¸‹å·¦å³
        grid = matrix
        m = len(matrix)
        if not m: return []
        n = len(matrix[0])

        ans = [[0 for _ in range(n)] for _ in range(m)]
        temp = []

        def rot(x, y):
            if x < 0 or y < 0 or x >= len(grid) or y >= len(grid[0]):
                return False
            if grid[x][y] != 0:  # æˆåŠŸè…çƒ‚æ–°é²œçš„æ©˜å­ï¼Œè¿”å›True
                grid[x][y] = 0  
                temp.append((x, y))
                return True
            return False

        depth = 0
        queue = []
        for i in range(m):
            for j in range(n):
                if grid[i][j] == 0:  # è…çƒ‚çš„æ©˜å­
                    queue.append((i, j))

        while queue: 
            temp = []
            for i, j in queue:
                ans[i][j] = depth
                for di, dj in arounds:
                    rot(i + di, j + dj)

            depth += 1

            queue = temp

        return ans
```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(dp)

```python
class Solution:
    def updateMatrix(self, matrix: List[List[int]]) -> List[List[int]]:
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]  # ä¸Šä¸‹å·¦å³
        grid = matrix
        m = len(matrix)
        if not m: return []
        n = len(matrix[0])

        dp = [[float('inf') for _ in range(n)] for _ in range(m)]
        
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == 0:
                    dp[i][j] = 0

        for i in range(m):  # å·¦ä¸Šåˆ°å³ä¸‹
            for j in range(n):
                if i > 0:
                    dp[i][j] = min(dp[i][j], dp[i-1][j] + 1)
                if j > 0:
                    dp[i][j] = min(dp[i][j], dp[i][j-1] + 1)

        for i in range(m-1,-1,-1):  # å³ä¸‹åˆ°å·¦ä¸Š
            for j in range(n-1,-1,-1):
                if i < m-1:
                    dp[i][j] = min(dp[i][j], dp[i+1][j] + 1)
                if j < n-1:
                    dp[i][j] = min(dp[i][j], dp[i][j+1] + 1)
                    
        return dp
      
```

## A567. å­—ç¬¦ä¸²çš„æ’åˆ—

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² **s1** å’Œ **s2**ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ **s2** æ˜¯å¦åŒ…å« **s1** çš„æ’åˆ—ã€‚

æ¢å¥è¯è¯´ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ’åˆ—ä¹‹ä¸€æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„å­ä¸²ã€‚

> **ç¤ºä¾‹1:**

```
è¾“å…¥: s1 = "ab" s2 = "eidbaooo"
è¾“å‡º: True
è§£é‡Š: s2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ ("ba").
```
> **ç¤ºä¾‹2:**

```
è¾“å…¥: s1= "ab" s2 = "eidboaoo"
è¾“å‡º: False
```
**æ³¨æ„ï¼š**

1. è¾“å…¥çš„å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯
2. ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦éƒ½åœ¨ [1, 10,000] ä¹‹é—´

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/permutation-in-string/>

#### **æ€è·¯:**

ã€€ã€€æ»‘åŠ¨çª—å£å†…è®¡æ•°ã€‚  

ã€€ã€€â‘  å› ä¸ºè¦åˆ¤æ–­`s1`çš„æ’åˆ—ï¼Œæ‰€ä»¥çª—å£çš„å¤§å°æ˜¯**å›ºå®šçš„**(`len(s1)`)ã€‚  

ã€€ã€€â‘¡ è¾“å…¥çš„å­—ç¬¦åªåŒ…å«å°å†™å­—æ¯ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªæ•°ç»„å¯¹æ‰€æœ‰çš„å°å†™å­—æ¯è®¡æ•°ã€‚  

ã€€ã€€â‘¢ å‡ºç°æ¬¡æ•°ä¸ºè´Ÿè¡¨ç¤ºçª—å£å†…è¯¥å­—ç¬¦ç¼ºå°‘å‡ ä¸ªï¼Œä¸ºæ­£çš„å­—ç¬¦æ˜¯ä¸éœ€è¦çš„(è¿™æ ·æ›´æ–¹ä¾¿æ’é™¤æ‰ä¸éœ€è¦çš„å­—ç¬¦)ã€‚  

ã€€ã€€â‘£ å¦‚æœå½“å‰çª—å£å†…æ‰€æœ‰å­—æ¯å‡ºç°æ¬¡æ•°éƒ½ä¸º`"0"`(è¡¨ç¤ºæ²¡æœ‰ç¼ºå°‘çš„å­—æ¯)ï¼Œåˆ™è¿”å›`True`ã€‚  ã€€ã€€

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def checkInclusion(self, s1: str, s2: str) -> bool:
        mem = defaultdict(int)
        for char in s1:
            mem[char] -= 1  # æŠŠs1ä¸­çš„å­—æ¯æ‰£æ‰
        
        l1 = len(s1)
        lack_count = l1  # å½“å‰çª—å£å†…ç¼ºå°‘å‡ ä¸ªå­—æ¯

        left = 0
        # å›ºå®šçª—å£é•¿åº¦
        for right, char in enumerate(s2):
            if mem[char] < 0:
                lack_count -= 1  # åŸæ¥ç¼ºå°‘çš„å­—æ¯å‡ºç°äº† å› æ­¤ç¼ºå°‘çš„å­—æ¯æ•°-1
            mem[char] += 1

            # ä¿è¯çª—å£çš„å¤§å°ä¸º l1
            if right - left >= l1:
                mem[s2[left]] -= 1
                if mem[s2[left]] < 0:  # ç¼ºæ•°å­—
                    lack_count += 1
                left += 1

            if lack_count == 0:
                return True

        return False

```

## A621. ä»»åŠ¡è°ƒåº¦å™¨

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç”¨å­—ç¬¦æ•°ç»„è¡¨ç¤ºçš„ CPU éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚å…¶ä¸­åŒ…å«ä½¿ç”¨å¤§å†™çš„ A - Z å­—æ¯è¡¨ç¤ºçš„26 ç§ä¸åŒç§ç±»çš„ä»»åŠ¡ã€‚ä»»åŠ¡å¯ä»¥ä»¥ä»»æ„é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡éƒ½å¯ä»¥åœ¨ 1 ä¸ªå•ä½æ—¶é—´å†…æ‰§è¡Œå®Œã€‚CPU åœ¨ä»»ä½•ä¸€ä¸ªå•ä½æ—¶é—´å†…éƒ½å¯ä»¥æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæˆ–è€…åœ¨å¾…å‘½çŠ¶æ€ã€‚

ç„¶è€Œï¼Œä¸¤ä¸ª**ç›¸åŒç§ç±»**çš„ä»»åŠ¡ä¹‹é—´å¿…é¡»æœ‰é•¿åº¦ä¸º **n** çš„å†·å´æ—¶é—´ï¼Œå› æ­¤è‡³å°‘æœ‰è¿ç»­ n ä¸ªå•ä½æ—¶é—´å†… CPU åœ¨æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œæˆ–è€…åœ¨å¾…å‘½çŠ¶æ€ã€‚

ä½ éœ€è¦è®¡ç®—å®Œæˆæ‰€æœ‰ä»»åŠ¡æ‰€éœ€è¦çš„**æœ€çŸ­æ—¶é—´**ã€‚

> **ç¤ºä¾‹ ï¼š**

```
è¾“å…¥ï¼štasks = ["A","A","A","B","B","B"], n = 2
è¾“å‡ºï¼š8
è§£é‡Šï¼šA -> B -> (å¾…å‘½) -> A -> B -> (å¾…å‘½) -> A -> B.
```

**æç¤ºï¼š**

1. ä»»åŠ¡çš„æ€»ä¸ªæ•°ä¸º `[1, 10000]`ã€‚
2. `n` çš„å–å€¼èŒƒå›´ä¸º `[0, 100]`ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/task-scheduler/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**æ¨¡æ‹Ÿæ‰€æœ‰ä»»åŠ¡çš„æ‰§è¡Œï¼Œæ¯æ¬¡éƒ½æ‰§è¡Œå½“å‰èƒ½æ‰§è¡Œçš„æ•°é‡æœ€å¤šçš„ä»»åŠ¡ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š** åªè€ƒè™‘æœ€å¤šçš„ä»»åŠ¡æƒ…å†µï¼Œå‡è®¾æœ€å¤šçš„ä»»åŠ¡å‡ºç°äº†`x`æ¬¡ï¼Œåˆ™è¿™ä¸ªä»»åŠ¡å¿…é¡»æœ‰`(x-1) * (n+1)`çš„é—´éš”æ—¶é—´ï¼›å¦‚æœæœ€å¤šçš„ä»»åŠ¡åŒæ—¶æœ‰`a`é¡¹ï¼Œé‚£ä¹ˆæ€»çš„æ—¶é—´ä¸º`(x-1) * (n+1) + a`ã€‚  

ã€€ã€€é™¤äº†æœ€å¤šçš„ä»»åŠ¡ä»¥å¤–ï¼Œå…¶ä»–çš„ä»»åŠ¡ä¸ç”¨æ‹…å¿ƒå†·å´çš„é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½æ•°é‡è¿‡å¤šè€Œéœ€è¦é¢å¤–çš„æ—¶é—´ï¼Œå› æ­¤æœ€ç»ˆéœ€è¦çš„æ—¶é—´ä¸º`max((x-1) * (n+1) + a, len(tasks))`ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**æ¨¡æ‹Ÿæ‰€æœ‰ä»»åŠ¡çš„æ‰§è¡Œ(1676ms)

```python
from collections import Counter
import bisect

class Solution:
    def leastInterval(self, tasks: List[str], n: int) -> int:
        # æ¯æ¬¡éƒ½æ‰§è¡Œæœ€å¤šçš„ä»»åŠ¡
        c = Counter(tasks)
        asc = []
        ans = 0
        lasts = {}  # æœ€åä¸€æ¬¡æ‰§è¡Œçš„æ—¶é—´
        for k in c:
            bisect.insort(asc, (c[k], k))
            lasts[k] = -999

        while asc:
            ans += 1
            for i in range(len(asc)-1,-1,-1):  # ä»åå¾€å‰
                times, char = asc[i]
                if ans - lasts[char] > n:
                    asc.pop(i)
                    times -= 1
                    if times:
                        bisect.insort(asc, (times, char))
                    lasts[char] = ans
                    break
        
        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**åªè€ƒè™‘æ¬¡æ•°æœ€å¤šçš„ä»»åŠ¡(48ms)

```python
from collections import Counter
import bisect

class Solution:
    def leastInterval(self, tasks: List[str], n: int) -> int:
        c = Counter(tasks)
        ans = 0
        x = max(c.values())
        ans = (x - 1) * (n + 1)

        ans += list(c.values()).count(x)
        
        return max(ans, len(tasks))
        
```

## A630. è¯¾ç¨‹è¡¨ III

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

è¿™é‡Œæœ‰ `n` é—¨ä¸åŒçš„åœ¨çº¿è¯¾ç¨‹ï¼Œä»–ä»¬æŒ‰ä» `1` åˆ° `n` ç¼–å·ã€‚æ¯ä¸€é—¨è¯¾ç¨‹æœ‰ä¸€å®šçš„æŒç»­ä¸Šè¯¾æ—¶é—´ï¼ˆè¯¾ç¨‹æ—¶é—´ï¼‰`t` ä»¥åŠå…³é—­æ—¶é—´ç¬¬ d å¤©ã€‚ä¸€é—¨è¯¾è¦æŒç»­å­¦ä¹  `t` å¤©ç›´åˆ°ç¬¬ d å¤©æ—¶è¦å®Œæˆï¼Œä½ å°†ä¼šä»ç¬¬ 1 å¤©å¼€å§‹ã€‚

ç»™å‡º `n` ä¸ªåœ¨çº¿è¯¾ç¨‹ç”¨ `(t, d)` å¯¹è¡¨ç¤ºã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰¾å‡ºæœ€å¤šå¯ä»¥ä¿®å‡ é—¨è¯¾ã€‚

> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥: [[100, 200], [200, 1300], [1000, 1250], [2000, 3200]]
è¾“å‡º: 3
è§£é‡Š: 
è¿™é‡Œä¸€å…±æœ‰ 4 é—¨è¯¾ç¨‹, ä½†æ˜¯ä½ æœ€å¤šå¯ä»¥ä¿® 3 é—¨:
é¦–å…ˆ, ä¿®ç¬¬ä¸€é—¨è¯¾æ—¶, å®ƒè¦è€—è´¹ 100 å¤©ï¼Œä½ ä¼šåœ¨ç¬¬ 100 å¤©å®Œæˆ, åœ¨ç¬¬ 101 å¤©å‡†å¤‡ä¸‹é—¨è¯¾ã€‚
ç¬¬äºŒ, ä¿®ç¬¬ä¸‰é—¨è¯¾æ—¶, å®ƒä¼šè€—è´¹ 1000 å¤©ï¼Œæ‰€ä»¥ä½ å°†åœ¨ç¬¬ 1100 å¤©çš„æ—¶å€™å®Œæˆå®ƒ, ä»¥åŠåœ¨ç¬¬ 1101 å¤©å¼€å§‹å‡†å¤‡ä¸‹é—¨è¯¾ç¨‹ã€‚
ç¬¬ä¸‰, ä¿®ç¬¬äºŒé—¨è¯¾æ—¶, å®ƒä¼šè€—æ—¶ 200 å¤©ï¼Œæ‰€ä»¥ä½ å°†ä¼šåœ¨ç¬¬ 1300 å¤©æ—¶å®Œæˆå®ƒã€‚
ç¬¬å››é—¨è¯¾ç°åœ¨ä¸èƒ½ä¿®ï¼Œå› ä¸ºä½ å°†ä¼šåœ¨ç¬¬ 3300 å¤©å®Œæˆå®ƒï¼Œè¿™å·²ç»è¶…å‡ºäº†å…³é—­æ—¥æœŸã€‚
```

**æç¤º:**

1. æ•´æ•° 1 <= d, t, n <= 10,000 ã€‚
2. ä½ ä¸èƒ½åŒæ—¶ä¿®ä¸¤é—¨è¯¾ç¨‹ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/course-schedule-iii/>

#### **æ€è·¯:**

ã€€ã€€è´ªå¿ƒç®—æ³•ã€‚é¦–å…ˆè§£é‡Šä¸€ä¸‹è¿™é¢˜ä¸ºä»€ä¹ˆèƒ½ç”¨è´ªå¿ƒç®—æ³•ï¼š    

ã€€ã€€**æ€§è´¨ä¸€ï¼š**å¦‚æœä¸€é—¨è¯¾ç¨‹`b`çš„ç»“æŸæ—¶é—´æ¯”`a`æ™šï¼Œè€Œå­¦ä¹ æ—¶é—´æ¯”`a`çŸ­ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥ç”¨è¯¾ç¨‹`b`**æ›¿æ¢æ‰**è¯¾ç¨‹`a`è¯¾ç¨‹ã€‚  

ã€€ã€€åŸºäºä»¥ä¸Šå‰æï¼Œæˆ‘ä»¬å…ˆæŠŠæ‰€æœ‰è¯¾ç¨‹æŒ‰ç…§**ç»“æŸæ—¶é—´**æ’åºã€‚ç„¶åä¾æ¬¡å­¦ä¹ æ¯é—¨è¯¾ç¨‹ï¼Œå¦‚æœæŸé—¨è¯¾ç¨‹æ— æ³•åœ¨ç»“æŸå‰å­¦å®Œï¼Œå¯ä»¥å°è¯•æ›¿æ¢æ‰ä¹‹å‰è€—æ—¶æœ€é•¿çš„è¯¾ç¨‹ã€‚å¦‚æœæ›¿æ¢æˆåŠŸï¼Œå¯ä»¥æŠŠå½“å‰æ—¶é—´æå‰åˆ°`time = time + cost - longest_cost `(è¿™æ ·å°±ç•™å‡ºæ›´è¿‡çš„æ—¶é—´å­¦ä¹ æ–°çš„è¯¾ç¨‹äº†)ã€‚  

ã€€ã€€å…·ä½“å®ç°ä¸Šï¼Œå¯ä»¥ç”¨å‡åºæ•°ç»„(`bisect`åº“)ï¼Œä¹Ÿå¯ä»¥ç”¨å¤§é¡¶å †(`heapq`åº“)ã€‚  

#### **ä»£ç :**

ã€€ã€€**å®ç°ä¸€ï¼š**bisect

```python
import bisect

class Solution:
    def scheduleCourse(self, courses: List[List[int]]) -> int:
        courses.sort(key= lambda kv:kv[1])
        chosen = []

        ans = 0
        time = 0
        for i in range(len(courses)):
            cost, end = courses[i]
            if time + cost <= end:
                bisect.insort(chosen, cost)
                time += cost
                ans += 1
            elif chosen:
                longest_cost = chosen[-1] 
                if cost < longest_cost:
                    chosen.pop()
                    bisect.insort(chosen, cost)
                    time = time + cost - longest_cost

        return ans

```

ã€€ã€€**å®ç°äºŒï¼š**heap

```python
class Solution:
    def scheduleCourse(self, courses: List[List[int]]) -> int:
        courses.sort(key= lambda kv:kv[1])
        chosen = []

        ans = 0
        time = 0
        for i in range(len(courses)):
            cost, end = courses[i]
            if time + cost <= end:
                heapq.heappush(chosen, -cost)
                time += cost
                ans += 1
            elif chosen:
                longest_cost = - chosen[0] 
                if cost < longest_cost:
                    heapq.heappop(chosen)
                    heapq.heappush(chosen, -cost)
                    time = time + cost - longest_cost

        return ans

```

## A632. æœ€å°åŒºé—´

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ä½ æœ‰ `k` ä¸ªå‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ã€‚æ‰¾åˆ°ä¸€ä¸ª**æœ€å°**åŒºé—´ï¼Œä½¿å¾— `k` ä¸ªåˆ—è¡¨ä¸­çš„æ¯ä¸ªåˆ—è¡¨è‡³å°‘æœ‰ä¸€ä¸ªæ•°åŒ…å«åœ¨å…¶ä¸­ã€‚

æˆ‘ä»¬å®šä¹‰å¦‚æœ `b-a < d-c` æˆ–è€…åœ¨ `b-a == d-c` æ—¶ `a < c`ï¼Œåˆ™åŒºé—´ [a,b] æ¯” [c,d] å°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥:[[4,10,15,24,26], [0,9,12,20], [5,18,22,30]]
è¾“å‡º: [20,24]
è§£é‡Š: 
åˆ—è¡¨ 1ï¼š[4, 10, 15, 24, 26]ï¼Œ24 åœ¨åŒºé—´ [20,24] ä¸­ã€‚
åˆ—è¡¨ 2ï¼š[0, 9, 12, 20]ï¼Œ20 åœ¨åŒºé—´ [20,24] ä¸­ã€‚
åˆ—è¡¨ 3ï¼š[5, 18, 22, 30]ï¼Œ22 åœ¨åŒºé—´ [20,24] ä¸­ã€‚
```

**æ³¨æ„:**

1. ç»™å®šçš„åˆ—è¡¨å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå‡åºè¡¨ç¤º >= ã€‚
2. 1 <= `k` <= 3500
3. -105 <= `å…ƒç´ çš„å€¼` <= 105
4. **å¯¹äºä½¿ç”¨Javaçš„ç”¨æˆ·ï¼Œè¯·æ³¨æ„ä¼ å…¥ç±»å‹å·²ä¿®æ”¹ä¸ºList<List<Integer>>ã€‚é‡ç½®ä»£ç æ¨¡æ¿åå¯ä»¥çœ‹åˆ°è¿™é¡¹æ”¹åŠ¨ã€‚**


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/smallest-range-covering-elements-from-k-lists/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**åŒæŒ‡é’ˆï¼Œ `left`å’Œ`right`åˆ†åˆ«æŒ‡å‘åŒºé—´çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ã€‚ç»´æŠ¤ä¸€ä¸ªé•¿åº¦**å›ºå®šä¸ºk**çš„å‡åºæ•°ç»„`asc`ï¼Œæ¯ä¸ªåˆ—è¡¨ä¸­éƒ½æ”¾ä¸€ä¸ªå€¼ï¼Œåˆå§‹çŠ¶æ€`asc`å­˜æ”¾çš„æ˜¯**æ¯ä¸ªåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ **ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š  

ã€€ã€€â‘  `asc`ä¸­æœ€å¤§çš„å…ƒç´ å³ä¸ºå½“å‰åŒºé—´çš„å³ç«¯ç‚¹`right`ï¼Œæœ€å°çš„å…ƒç´ å³ä¸ºåŒºé—´çš„å·¦ç«¯ç‚¹`left`ï¼›  

ã€€ã€€â‘¡ æ¯æ¬¡éƒ½å»é™¤`asc`ä¸­**æœ€å°**çš„å…ƒç´ ï¼Œç„¶ååˆ°å®ƒæ‰€åœ¨çš„åˆ—è¡¨ä¸­æ‰¾ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå†å°†å®ƒæ’å…¥åˆ°`asc`ä¸­ï¼Œå¹¶ä¸”æ›´æ–°`left`å’Œ`right`ï¼›  

ã€€ã€€â‘¢ å¦‚æœå½“å‰åŒºé—´å¤§å°æ¯”æœ€å°çš„åŒºé—´è¿˜è¦å°ï¼Œåˆ™æ›´æ–°æœ€å°çš„åŒºé—´ï¼›  

ã€€ã€€â‘£ å½“æŸä¸ªåˆ—è¡¨çš„å…ƒç´ ç”¨å®Œæ—¶ï¼Œç»“æŸå¾ªç¯ã€‚  

ã€€ã€€ä¸‹é¢çš„åŠ¨ç”»è¡¨ç¤º`ç¤ºä¾‹1`çš„æŸ¥æ‰¾è¿‡ç¨‹ï¼š  

<embed src="_img/a632.mp4" width=700 height=408/>


ã€€ã€€**æ–¹æ³•äºŒï¼š**æœ€å°å †ï¼Œå †ä¸­å­˜æ”¾çš„ç»“æ„ä¸º`(åˆ—è¡¨ä¸­å…ƒç´ çš„å€¼, åˆ—è¡¨çš„ä¸‹æ ‡, è¯¥åˆ—è¡¨å½“å‰å…ƒç´ çš„ç´¢å¼•)`ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š  

ã€€ã€€â‘  æœ€å°çš„å…ƒç´ å‡ºå †ï¼Œç„¶ååˆ°å®ƒæ‰€åœ¨çš„åˆ—è¡¨ä¸­æ‰¾`ä¸‹ä¸€ä¸ªå…ƒç´ `ï¼Œå†å°†å®ƒæŒ‰ä¸Šé¢çš„ç»“æ„æ’å…¥åˆ°å †ä¸­ï¼Œå¹¶ä¸”æ›´æ–°`left`å’Œ`right`ï¼›  

ã€€ã€€â‘¡ `left`çš„å€¼å°±æ˜¯æ¯æ¬¡å‡ºå †çš„æœ€å°å…ƒç´ å€¼ï¼Œ`right`çš„å€¼åˆå§‹æ˜¯æ‰€æœ‰åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¸­çš„æœ€å¤§å€¼ï¼Œä¹‹åå¦‚æœå°äºå‡ºå †å…ƒç´ æ‰€åœ¨åˆ—è¡¨çš„`ä¸‹ä¸€ä¸ªå…ƒç´ `ï¼Œåˆ™æ›´æ–°`right`ï¼›  

ã€€ã€€â‘¢ã€â‘£å’Œæ–¹æ³•ä¸€çš„â‘¢ã€â‘£ç›¸åŒã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**ï¼ˆåŒæŒ‡é’ˆ, 320msï¼‰

```python
import bisect   

class Solution:
    def smallestRange(self, nums: List[List[int]]) -> List[int]:
        k = len(nums)
        firsts = [num[0] for num in nums]  # ç¬¬ä¸€ä¸ªå…ƒç´ 
        left, right = min(firsts), max(firsts)
        min_left, min_right = left, right

        asc = sorted(list(zip(firsts, range(k))))  # å’Œä¸‹æ ‡å¯¹åº”

        indics = [0 for _ in range(k)]  # æ¯ä¸ªæ•°ç»„çš„ä¸‹æ ‡
        while True:
            peek, i = asc.pop(0)  # åˆ é™¤æœ€å°çš„
            indics[i] += 1  # kä¸ªæ•°ç»„ä¸­çš„ç¬¬iä¸ªï¼Œå½“å‰ä¸‹æ ‡åŠ 1
            if indics[i] >= len(nums[i]):
                break
            idx = indics[i]
            bisect.insort(asc, (nums[i][idx], i))  # (æ•°å€¼, æ•°ç»„çš„ä¸‹æ ‡)
            
            right = asc[-1][0]
            left = asc[0][0]
            if right - left < min_right - min_left:  # è¶Šå°çš„è¶Šå¥½ æ‰€ä»¥è¦ä¸¥æ ¼å°äº
                min_right, min_left = right, left

        return [min_left, min_right]

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**ï¼ˆæœ€å°å †, 276msï¼‰

```python
import bisect   

class Solution:
    def smallestRange(self, nums: List[List[int]]) -> List[int]:
        import heapq

        heap = [(row[0], i, 0) for i, row in enumerate(nums)]
        heapq.heapify(heap)
        min_left, min_right = float('-inf'), float('inf')

        right = max(heap)[0]

        while heap:
            left, i, j = heapq.heappop(heap)  # iè¡¨ç¤ºåˆ—è¡¨çš„ä¸‹æ ‡, jè¡¨ç¤ºåˆ—è¡¨ä¸­å½“å‰å…ƒç´ çš„ç´¢å¼•
            if right - left < min_right - min_left:
                min_right, min_left = right, left

            if j + 1 >= len(nums[i]):  # å…ƒç´ ç”¨å®Œäº†
                return [min_left, min_right]

            nxt = nums[i][j+1]
            right = max(right, nxt)
            heapq.heappush(heap, (nxt, i, j + 1))

```

## A675. ä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ä½ è¢«è¯·æ¥ç»™ä¸€ä¸ªè¦ä¸¾åŠé«˜å°”å¤«æ¯”èµ›çš„æ ‘æ—ç æ ‘. æ ‘æ—ç”±ä¸€ä¸ªéè´Ÿçš„äºŒç»´æ•°ç»„è¡¨ç¤ºï¼Œ åœ¨è¿™ä¸ªæ•°ç»„ä¸­ï¼š

1. `0` è¡¨ç¤ºéšœç¢ï¼Œæ— æ³•è§¦ç¢°åˆ°.
2. `1` è¡¨ç¤ºå¯ä»¥è¡Œèµ°çš„åœ°é¢.
3. `æ¯” 1 å¤§çš„æ•°` è¡¨ç¤ºä¸€é¢—å…è®¸èµ°è¿‡çš„æ ‘çš„é«˜åº¦.

æ¯ä¸€æ­¥ï¼Œä½ éƒ½å¯ä»¥å‘ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ä¹‹ä¸€ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œå¦‚æœä½ ç«™çš„åœ°æ–¹æœ‰ä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆä½ å¯ä»¥å†³å®šæ˜¯å¦è¦ç å€’å®ƒã€‚

ä½ è¢«è¦æ±‚æŒ‰ç…§æ ‘çš„é«˜åº¦ä»ä½å‘é«˜ç æ‰æ‰€æœ‰çš„æ ‘ï¼Œæ¯ç è¿‡ä¸€é¢—æ ‘ï¼Œæ ‘çš„é«˜åº¦å˜ä¸º 1 ã€‚

ä½ å°†ä»ï¼ˆ0ï¼Œ0ï¼‰ç‚¹å¼€å§‹å·¥ä½œï¼Œä½ åº”è¯¥è¿”å›ä½ ç å®Œæ‰€æœ‰æ ‘éœ€è¦èµ°çš„æœ€å°æ­¥æ•°ã€‚ å¦‚æœä½ æ— æ³•ç å®Œæ‰€æœ‰çš„æ ‘ï¼Œè¿”å› -1 ã€‚

å¯ä»¥ä¿è¯çš„æ˜¯ï¼Œæ²¡æœ‰ä¸¤æ£µæ ‘çš„é«˜åº¦æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”ä½ è‡³å°‘éœ€è¦ç å€’ä¸€æ£µæ ‘ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: 
[
 [1,2,3],
 [0,0,4],
 [7,6,5]
]
è¾“å‡º: 6
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: 
[
 [1,2,3],
 [0,0,0],
 [7,6,5]
]
è¾“å‡º: -1
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: 
[
 [2,3,4],
 [0,0,5],
 [8,7,6]
]
è¾“å‡º: 6
è§£é‡Š: (0,0) ä½ç½®çš„æ ‘ï¼Œä½ å¯ä»¥ç›´æ¥ç å»ï¼Œä¸ç”¨ç®—æ­¥æ•°
```

**æç¤ºï¼š**

- `1 <= forest.length <= 50`
- `1 <= forest[i].length <= 50`
- `0 <= forest[i][j] <= 10^9`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/cut-off-trees-for-golf-event/>

#### **æ€è·¯:**

ã€€ã€€`"0"`çš„ä½ç½®æ˜¯éšœç¢ç‰©ï¼Œå…¶ä»–çš„ä½ç½®(**åŒ…æ‹¬æœ‰æ ‘çš„ä½ç½®**)éƒ½æ˜¯å¯ä»¥èµ°çš„ã€‚  

ã€€ã€€å…ˆä»å‡ºå‘ç‚¹`(0, 0)`å¼€å§‹ï¼Œæ‰¾ä¸æœ€çŸ®çš„ä¸€æ£µæ ‘ä¹‹é—´çš„æœ€çŸ­è·¯å¾„(ç”¨bfs)ï¼Œç„¶åç å€’è¿™æ£µæ ‘ï¼Œå†æ‰¾åˆ°å‰©ä¸‹æ ‘ä¸­æœ€çŸ®çš„ä¸€æ£µçš„æœ€çŸ­è·¯å¾„ã€‚æœ€åæ‰€æœ‰çš„è·¯å¾„å’Œå°±æ˜¯ç»“æœã€‚  

ã€€ã€€å¦‚æœæœ‰æ ‘è¢«éšœç¢ç‰©æŒ¡ä½ï¼Œè¿”å›`-1`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def cutOffTree(self, forest: List[List[int]]) -> int:
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]  # ä¸Šä¸‹å·¦å³
        m = len(forest)
        if not m: return 0
        n = len(forest[0])

        dp = [[float('inf') for _ in range(n)] for _ in range(m)]
        dp[0][0] = 0
        sorted_trees = []
        for i in range(m):
             for j in range(n):
                if forest[i][j] > 1:
                     sorted_trees.append((forest[i][j], i, j))

        sorted_trees.sort()

        def from_to(start, end_x, end_y):  # bfsæœ€çŸ­è·¯å¾„æ¨¡æ¿
            visited = {start}
            queue = [start]

            count = 0
            while queue:
                for i, j in queue:
                    if i == end_x and j == end_y:
                        return count
                      
                count += 1

                temp = []
                for i, j in queue:
                    for di, dj in arounds:
                        x, y = i + di, j + dj
                        if x < 0 or y < 0 or x >= m or y >= n or forest[x][y] == 0:  # è¾¹ç•Œæˆ–éšœç¢
                            continue
                        if (x,y) not in visited: 
                            visited.add((x,y))
                            temp.append((x, y))

                queue = temp

            return -1

        ans = 0
        cur = (0, 0)
        for _, x, y in sorted_trees:
            next_tree = from_to(cur, x, y)
            if next_tree == -1:
                return -1
            ans += next_tree
            cur = (x, y)

        return ans

```

## A690. å‘˜å·¥çš„é‡è¦æ€§

éš¾åº¦`ç®€å•`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä¿å­˜å‘˜å·¥ä¿¡æ¯çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«äº†å‘˜å·¥**å”¯ä¸€çš„id**ï¼Œ**é‡è¦åº¦** å’Œ **ç›´ç³»ä¸‹å±çš„id**ã€‚

æ¯”å¦‚ï¼Œå‘˜å·¥1æ˜¯å‘˜å·¥2çš„é¢†å¯¼ï¼Œå‘˜å·¥2æ˜¯å‘˜å·¥3çš„é¢†å¯¼ã€‚ä»–ä»¬ç›¸åº”çš„é‡è¦åº¦ä¸º15, 10, 5ã€‚é‚£ä¹ˆå‘˜å·¥1çš„æ•°æ®ç»“æ„æ˜¯[1, 15, [2]]ï¼Œå‘˜å·¥2çš„æ•°æ®ç»“æ„æ˜¯[2, 10, [3]]ï¼Œå‘˜å·¥3çš„æ•°æ®ç»“æ„æ˜¯[3, 5, []]ã€‚æ³¨æ„è™½ç„¶å‘˜å·¥3ä¹Ÿæ˜¯å‘˜å·¥1çš„ä¸€ä¸ªä¸‹å±ï¼Œä½†æ˜¯ç”±äº**å¹¶ä¸æ˜¯ç›´ç³»**ä¸‹å±ï¼Œå› æ­¤æ²¡æœ‰ä½“ç°åœ¨å‘˜å·¥1çš„æ•°æ®ç»“æ„ä¸­ã€‚

ç°åœ¨è¾“å…¥ä¸€ä¸ªå…¬å¸çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼Œä»¥åŠå•ä¸ªå‘˜å·¥idï¼Œè¿”å›è¿™ä¸ªå‘˜å·¥å’Œä»–æ‰€æœ‰ä¸‹å±çš„é‡è¦åº¦ä¹‹å’Œã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: [[1, 5, [2, 3]], [2, 3, []], [3, 3, []]], 1
è¾“å‡º: 11
è§£é‡Š:
å‘˜å·¥1è‡ªèº«çš„é‡è¦åº¦æ˜¯5ï¼Œä»–æœ‰ä¸¤ä¸ªç›´ç³»ä¸‹å±2å’Œ3ï¼Œè€Œä¸”2å’Œ3çš„é‡è¦åº¦å‡ä¸º3ã€‚å› æ­¤å‘˜å·¥1çš„æ€»é‡è¦åº¦æ˜¯ 5 + 3 + 3 = 11ã€‚
```

**æ³¨æ„:**

1. ä¸€ä¸ªå‘˜å·¥æœ€å¤šæœ‰ä¸€ä¸ª**ç›´ç³»**é¢†å¯¼ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ª**ç›´ç³»**ä¸‹å±
2. å‘˜å·¥æ•°é‡ä¸è¶…è¿‡2000ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/employee-importance/>

#### **æ€è·¯:**

ã€€ã€€é€’å½’ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def getImportance(self, employees: List['Employee'], id: int) -> int:
        subs = defaultdict(list)
        importance = defaultdict(int)
        for e in employees:
            subs[e.id] = e.subordinates
            importance[e.id] = e.importance
            
        def dfs(node):
            me = importance[node]
            for sub in subs[node]:
                me += dfs(sub)
            return me

        return dfs(id)
      
```

## A713. ä¹˜ç§¯å°äºKçš„å­æ•°ç»„

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums`ã€‚

æ‰¾å‡ºè¯¥æ•°ç»„å†…ä¹˜ç§¯å°äº `k` çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [10,5,2,6], k = 100
è¾“å‡º: 8
è§£é‡Š: 8ä¸ªä¹˜ç§¯å°äº100çš„å­æ•°ç»„åˆ†åˆ«ä¸º: [10], [5], [2], [6], [10,5], [5,2], [2,6], [5,2,6]ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ [10,5,2] å¹¶ä¸æ˜¯ä¹˜ç§¯å°äº100çš„å­æ•°ç»„ã€‚
```

**è¯´æ˜:**

- `0 < nums.length <= 50000`
- `0 < nums[i] < 1000`
- `0 <= k < 10^6`


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/subarray-product-less-than-k/>

#### **æ€è·¯:**


ã€€ã€€åŒæŒ‡é’ˆï¼Œç»Ÿè®¡ä»¥æ¯ä¸ªæ•°å­—ç»“å°¾çš„ä¹˜ç§¯å°äº`k`çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ç„¶åç´¯åŠ èµ·æ¥å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def numSubarrayProductLessThanK(self, nums: List[int], k: int) -> int:
        if k <= 1:
            return 0

        left = 0
        wnd = 1  # çª—å£å†…å…ƒç´ çš„ä¹˜ç§¯
        ans = 0
        for right, num in enumerate(nums):
            wnd *= num
            while wnd >= k:
                wnd = wnd // nums[left]
                left += 1
            ans += right - left + 1  # ä»¥numç»“å°¾çš„æ»¡è¶³æ¡ä»¶çš„è¿ç»­å­æ•°ç»„ä¸ªæ•°

        return ans

```


## A743. ç½‘ç»œå»¶è¿Ÿæ—¶é—´

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

æœ‰ `N` ä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œæ ‡è®°ä¸º `1` åˆ° `N`ã€‚

ç»™å®šä¸€ä¸ªåˆ—è¡¨ `times`ï¼Œè¡¨ç¤ºä¿¡å·ç»è¿‡**æœ‰å‘**è¾¹çš„ä¼ é€’æ—¶é—´ã€‚ `times[i] = (u, v, w)`ï¼Œå…¶ä¸­ `u` æ˜¯æºèŠ‚ç‚¹ï¼Œ`v` æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œ `w` æ˜¯ä¸€ä¸ªä¿¡å·ä»æºèŠ‚ç‚¹ä¼ é€’åˆ°ç›®æ ‡èŠ‚ç‚¹çš„æ—¶é—´ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬ä»æŸä¸ªèŠ‚ç‚¹ `K` å‘å‡ºä¸€ä¸ªä¿¡å·ã€‚éœ€è¦å¤šä¹…æ‰èƒ½ä½¿æ‰€æœ‰èŠ‚ç‚¹éƒ½æ”¶åˆ°ä¿¡å·ï¼Ÿå¦‚æœä¸èƒ½ä½¿æ‰€æœ‰èŠ‚ç‚¹æ”¶åˆ°ä¿¡å·ï¼Œè¿”å› `-1`ã€‚ 

> **ç¤ºä¾‹ï¼š**

<img src="_img/743.png" style="zoom:100%"/>

```
è¾“å…¥ï¼štimes = [[2,1,1],[2,3,1],[3,4,1]], N = 4, K = 2
è¾“å‡ºï¼š2 
```

**æ³¨æ„:**

1. `N` çš„èŒƒå›´åœ¨ `[1, 100]` ä¹‹é—´ã€‚
2. `K` çš„èŒƒå›´åœ¨ `[1, N]` ä¹‹é—´ã€‚
3. `times` çš„é•¿åº¦åœ¨ `[1, 6000]` ä¹‹é—´ã€‚
4. æ‰€æœ‰çš„è¾¹ `times[i] = (u, v, w)` éƒ½æœ‰ `1 <= u, v <= N` ä¸” `0 <= w <= 100`ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/network-delay-time/>

#### **æ€è·¯:**

ã€€ã€€ç”±äºè¾¹çš„æƒæ˜¯ä¸åŒçš„**æ­£æ•°**ï¼Œè¯¥é¢˜æ˜¯ä¸å«è´Ÿç¯çš„**å•æºæœ€çŸ­è·¯å¾„**é—®é¢˜ã€‚  

ã€€ã€€Dijkstraç®—æ³•æ˜¯ç”¨æ¥æ±‚å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œå³ç»™å®šå›¾Gå’Œèµ·ç‚¹sï¼Œé€šè¿‡ç®—æ³•å¾—åˆ°såˆ°è¾¾å…¶ä»–æ¯ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚

ã€€ã€€åŸºæœ¬æ€æƒ³ï¼šå¯¹å›¾`G(V,E)`è®¾ç½®é›†åˆ`S`ï¼Œå­˜æ”¾å·²è¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œç„¶åæ¯æ¬¡ä»é›†åˆ`V-S`ä¸­é€‰æ‹©ä¸èµ·ç‚¹sçš„æœ€çŸ­è·ç¦»æœ€å°çš„ä¸€ä¸ªé¡¶ç‚¹ï¼ˆè®°ä¸ºuï¼‰ï¼Œè®¿é—®å¹¶åŠ å…¥é›†åˆ`S`ã€‚ä¹‹åï¼Œä»¤uä¸ºä¸­ä»‹ç‚¹ï¼Œä¼˜åŒ–èµ·ç‚¹sä¸æ‰€æœ‰ä»uèƒ½å¤Ÿåˆ°è¾¾çš„é¡¶ç‚¹vä¹‹é—´çš„æœ€çŸ­è·ç¦»ã€‚è¿™æ ·çš„æ“ä½œæ‰§è¡Œnæ¬¡ï¼ˆnä¸ºé¡¶ç‚¹ä¸ªæ•°ï¼‰ï¼Œç›´åˆ°é›†åˆ`S`å·²ç»åŒ…å«æ‰€æœ‰é¡¶ç‚¹ã€‚ã€€

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def networkDelayTime(self, times: List[List[int]], N: int, K: int) -> int:
        edge = defaultdict(list)  # edge[1] = (t, 2)
        for u, v, w in times:
            edge[u].append((w, v))

        minimal = [float('inf') for _ in range(N + 1)]
        minimal[K] = 0
        S = {K} # èµ·ç‚¹
        VS = edge[K]
        for t, node in edge[K]:
            minimal[node] = t

        while VS:
            t, u = min(VS)
            VS.remove((t, u))
            S.add(u)
            for path in edge[u]:
                if path[1] not in S:
                    VS.append(path)  # é˜²æ­¢å‡ºç°ç¯
            for t, node in edge[u]:
                minimal[node] = min(minimal[node], minimal[u] + t)  # ç»è¿‡uä¸ºä¸­ä»‹

        # print(minimal)
        ans = max(minimal[1:])
        return ans if ans != float('inf') else -1

```


## A752. æ‰“å¼€è½¬ç›˜é”

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ä½ æœ‰ä¸€ä¸ªå¸¦æœ‰å››ä¸ªåœ†å½¢æ‹¨è½®çš„è½¬ç›˜é”ã€‚æ¯ä¸ªæ‹¨è½®éƒ½æœ‰10ä¸ªæ•°å­—ï¼š `'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'` ã€‚æ¯ä¸ªæ‹¨è½®å¯ä»¥è‡ªç”±æ—‹è½¬ï¼šä¾‹å¦‚æŠŠ `'9'` å˜ä¸º  `'0'`ï¼Œ`'0'` å˜ä¸º `'9'` ã€‚æ¯æ¬¡æ—‹è½¬éƒ½åªèƒ½æ—‹è½¬ä¸€ä¸ªæ‹¨è½®çš„ä¸€ä½æ•°å­—ã€‚

é”çš„åˆå§‹æ•°å­—ä¸º `'0000'` ï¼Œä¸€ä¸ªä»£è¡¨å››ä¸ªæ‹¨è½®çš„æ•°å­—çš„å­—ç¬¦ä¸²ã€‚

åˆ—è¡¨ `deadends` åŒ…å«äº†ä¸€ç»„æ­»äº¡æ•°å­—ï¼Œä¸€æ—¦æ‹¨è½®çš„æ•°å­—å’Œåˆ—è¡¨é‡Œçš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œè¿™ä¸ªé”å°†ä¼šè¢«æ°¸ä¹…é”å®šï¼Œæ— æ³•å†è¢«æ—‹è½¬ã€‚

å­—ç¬¦ä¸² `target` ä»£è¡¨å¯ä»¥è§£é”çš„æ•°å­—ï¼Œä½ éœ€è¦ç»™å‡ºæœ€å°çš„æ—‹è½¬æ¬¡æ•°ï¼Œå¦‚æœæ— è®ºå¦‚ä½•ä¸èƒ½è§£é”ï¼Œè¿”å› -1ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥ï¼šdeadends = ["0201","0101","0102","1212","2002"], target = "0202"
è¾“å‡ºï¼š6
è§£é‡Šï¼š
å¯èƒ½çš„ç§»åŠ¨åºåˆ—ä¸º "0000" -> "1000" -> "1100" -> "1200" -> "1201" -> "1202" -> "0202"ã€‚
æ³¨æ„ "0000" -> "0001" -> "0002" -> "0102" -> "0202" è¿™æ ·çš„åºåˆ—æ˜¯ä¸èƒ½è§£é”çš„ï¼Œ
å› ä¸ºå½“æ‹¨åŠ¨åˆ° "0102" æ—¶è¿™ä¸ªé”å°±ä¼šè¢«é”å®šã€‚
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: deadends = ["8888"], target = "0009"
è¾“å‡ºï¼š1
è§£é‡Šï¼š
æŠŠæœ€åä¸€ä½åå‘æ—‹è½¬ä¸€æ¬¡å³å¯ "0000" -> "0009"ã€‚
```

> **ç¤ºä¾‹ 3:**

```
è¾“å…¥: deadends = ["8887","8889","8878","8898","8788","8988","7888","9888"], target = "8888"
è¾“å‡ºï¼š-1
è§£é‡Šï¼š
æ— æ³•æ—‹è½¬åˆ°ç›®æ ‡æ•°å­—ä¸”ä¸è¢«é”å®šã€‚
```

> **ç¤ºä¾‹ 4:**

```
è¾“å…¥: deadends = ["0000"], target = "8888"
è¾“å‡ºï¼š-1
```

**æç¤ºï¼š**

1. æ­»äº¡åˆ—è¡¨ `deadends` çš„é•¿åº¦èŒƒå›´ä¸º `[1, 500]`ã€‚
2. ç›®æ ‡æ•°å­— `target` ä¸ä¼šåœ¨ `deadends` ä¹‹ä¸­ã€‚
3. æ¯ä¸ª `deadends` å’Œ `target` ä¸­çš„å­—ç¬¦ä¸²çš„æ•°å­—ä¼šåœ¨ 10,000 ä¸ªå¯èƒ½çš„æƒ…å†µ `'0000'` åˆ° `'9999'` ä¸­äº§ç”Ÿã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/open-the-lock/>

#### **æ€è·¯:**

ã€€ã€€æœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œå››ä½æ•°å­—(æ­£åè½¬)ç›¸å½“äº`8ä¸ªæ–¹å‘`ï¼Œ`deadends`ç›¸å½“äºéšœç¢ç‰©ã€‚å¥—ç”¨bfsæ¨¡æ¿ã€‚  

ã€€ã€€éœ€è¦æ³¨æ„çš„æ˜¯ç›¸é‚»æ•°å­—çš„å¤„ç†ï¼Œç”±äº`Python3`å–æ¨¡çš„ç»“æœä¸€å®šæ˜¯æ­£æ•°ï¼Œä¹Ÿå°±æ˜¯`-1 % 10 = 9`ï¼Œæ‰€ä»¥å¯ä»¥ç”¨å–æ¨¡æ¥ç®€åŒ–ä»£ç ã€‚å››ä½æ•°å­—ä¸­çš„ä»»æ„ä¸€ä½`Â±1`ç„¶å`%10`å°±å¯ä»¥å¾—åˆ°ä¸‹ä¸€ç§å¯èƒ½æ€§ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def openLock(self, deadends: List[str], target: str) -> int:
        if '0000' in deadends: return -1
        target = int(target)
        can_go = [True for _ in range(10000)]
        visted = [False for _ in range(10000)]
        for d in deadends:
            can_go[int(d)] = False

        arounds = [1, -1]

        queue = [0]
        visted[0] = True
        ans = 0
        while queue:
            for q in queue:
                if q == target:
                    return ans

            ans += 1
            temp = []
            for q in queue:
                for i in range(8):
                    # è·å–ä¸‹ä¸€ä¸ªå¯èƒ½çš„ä½ç½®
                    digits = [q // 1000, q % 1000 // 100, (q % 100) // 10, q % 10]
                    digits[i//2] = (digits[i//2] + arounds[i%2]) % 10  # æŸä½æ•°å­—åŠ å‡1
                    a, b, c, d = digits
                    nxt = a * 1000 + b * 100 + c * 10 + d
                    if can_go[nxt] and not visted[nxt]:
                        visted[nxt] = True
                        temp.append(nxt)

            queue = temp

        return -1
      
```

## A763. åˆ’åˆ†å­—æ¯åŒºé—´

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å­—ç¬¦ä¸² `S` ç”±å°å†™å­—æ¯ç»„æˆã€‚æˆ‘ä»¬è¦æŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ’åˆ†ä¸ºå°½å¯èƒ½å¤šçš„ç‰‡æ®µï¼ŒåŒä¸€ä¸ªå­—æ¯åªä¼šå‡ºç°åœ¨å…¶ä¸­çš„ä¸€ä¸ªç‰‡æ®µã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ¯ä¸ªå­—ç¬¦ä¸²ç‰‡æ®µçš„é•¿åº¦çš„åˆ—è¡¨ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: S = "ababcbacadefegdehijhklij"
è¾“å‡º: [9,7,8]
è§£é‡Š:
åˆ’åˆ†ç»“æœä¸º "ababcbaca", "defegde", "hijhklij"ã€‚
æ¯ä¸ªå­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­ã€‚
åƒ "ababcbacadefegde", "hijhklij" çš„åˆ’åˆ†æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºåˆ’åˆ†çš„ç‰‡æ®µæ•°è¾ƒå°‘ã€‚
```

**æ³¨æ„:**

1. `S`çš„é•¿åº¦åœ¨`[1, 500]`ä¹‹é—´ã€‚
2. `S`åªåŒ…å«å°å†™å­—æ¯`'a'`åˆ°`'z'`ã€‚


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/partition-labels/>

#### **æ€è·¯:**


ã€€ã€€åªéœ€è¦ç»Ÿè®¡æ¯ä¸ªå­—æ¯ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼ˆfindå‡½æ•°ï¼‰ï¼Œå’Œæœ€åä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡çš„ï¼ˆrfindå‡½æ•°ï¼‰ï¼Œå°±å¯ä»¥å¾—åˆ°æ¯ä¸ªå­—æ¯çš„åŒºé—´èŒƒå›´ã€‚  

ã€€ã€€æ¯”å¦‚ç¤ºä¾‹1 çš„å¯¹åº”ç»Ÿè®¡æ•°ç»„ä¸ºï¼š [[0, 8], [1, 5], [4, 7], [9, 14], [10, 15], [11, 11], [13, 13], [16, 19], [17, 22], [18, 23], [20, 20], [21, 21]]ã€‚

ã€€ã€€ç„¶åé¢˜ç›®å°±ä¼šè½¬åŒ–ä¸º[A56. åˆå¹¶åŒºé—´](/array?id=a56-åˆå¹¶åŒºé—´)ã€‚  

#### **ä»£ç :**

```python
import string
from collections import defaultdict 

class Solution:

  	# A56. åˆå¹¶åŒºé—´
    def merge(self, intervals):
        if len(intervals) == 0:
            return []
        s = sorted(intervals)
        ans = [s[0]]
        for i in s[1:]:
            if i[0] <= ans[-1][1]:
                ans[-1] = [ans[-1][0], max(i[1], ans[-1][1])] 
            else:
                ans.append(i)

        return ans

    def partitionLabels(self, S: str) -> List[int]:
        mem = defaultdict(tuple)
        for char in string.ascii_lowercase:  # æŸ¥æ‰¾æ‰€æœ‰çš„å°å†™å­—æ¯
            if S.find(char) >= 0:
                mem[char] = (S.find(char), S.rfind(char))

        intervals = list(mem.values())
        merge = self.merge(intervals)
        return [j - i + 1 for i, j in merge]

```

## A767. é‡æ„å­—ç¬¦ä¸²

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²`S`ï¼Œæ£€æŸ¥æ˜¯å¦èƒ½é‡æ–°æ’å¸ƒå…¶ä¸­çš„å­—æ¯ï¼Œä½¿å¾—ä¸¤ç›¸é‚»çš„å­—ç¬¦ä¸åŒã€‚

è‹¥å¯è¡Œï¼Œè¾“å‡ºä»»æ„å¯è¡Œçš„ç»“æœã€‚è‹¥ä¸å¯è¡Œï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

> **ç¤ºä¾‹ 1:**

```
è¾“å…¥: S = "aab"
è¾“å‡º: "aba"
```

> **ç¤ºä¾‹ 2:**

```
è¾“å…¥: S = "aaab"
è¾“å‡º: ""
```

**æ³¨æ„:**

- `S` åªåŒ…å«å°å†™å­—æ¯å¹¶ä¸”é•¿åº¦åœ¨`[1, 500]`åŒºé—´å†…ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/reorganize-string/>

#### **æ€è·¯:**

ã€€ã€€åˆ¤æ–­è§£å­˜åœ¨å¾ˆå®¹æ˜“ï¼Œ`å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦`ä¸èƒ½è¶…è¿‡æ€»å­—ç¬¦æ•°ä¸€åŠ[å‘ä¸Šå–æ•´]ï¼Œå³`max(shown) <= (n+1)//2`ã€‚(æ¯”å¦‚æœ‰10ä¸ª`"a"`å’Œ9ä¸ªå…¶ä»–å­—æ¯ï¼ŒæŠŠå…¶ä»–å­—æ¯é—´éš”åœ°æ’å…¥`"a"`ä¸­å³å¯)  
ã€€ã€€é€‰æ‹©å­—ç¬¦ä½¿ç”¨**å¤§é¡¶å †**ï¼Œæ¯æ¬¡éƒ½é€‰æ‹©å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦ï¼Œå¦‚æœè¿™ä¸ªå­—ç¬¦åˆšè¢«é€‰è¿‡ï¼Œå°±é‡æ–°å†é€‰ä¸€ä¸ªï¼Œå¹¶æŠŠä½¿ç”¨çš„å­—ç¬¦å‡ºç°æ¬¡æ•°`-1`ï¼Œå†é‡æ–°æ’å…¥åˆ°å¤§æ ¹å †ä¸­ã€‚  

#### **ä»£ç :**

```python
import collections
import heapq

class Solution:
    def reorganizeString(self, S: str) -> str:
        ls = len(S)
        if not ls:
            return ''
        maximum = (ls + 1) // 2  # æœ€å¤šçš„å­—æ¯ä¸ªæ•°ä¸èƒ½è¶…è¿‡è¿™ä¸ª
        c = collections.Counter(S)
        if max(c.values()) > maximum:  # æœ€å¤šçš„å­—æ¯å‡ºç°æ¬¡æ•°å¤§äºäº†ä¸€åŠ[ä¸Šå–æ•´]
            return ''

        heap = []
        for key in c:  # æ„å»ºåˆå§‹çš„å †
            heapq.heappush(heap, (-c[key], key))
        
        ans = ''
        for _ in range(ls):  # æ€»å…±è¦é€‰lsä¸ªå­—ç¬¦
            counts, letter = heapq.heappop(heap)
            if len(ans) and letter == ans[-1]:  # ç”¨è¿‡äº†, æ¢ä¸€ä¸ªå­—æ¯
                counts2, letter2 = heapq.heappop(heap)
                ans += letter2
                heapq.heappush(heap, (counts, letter))
                heapq.heappush(heap, (counts2 + 1, letter2))
            else:
                ans += letter
                heapq.heappush(heap, (counts+1, letter))

        return ans

```

## A853. è½¦é˜Ÿ

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

`N`  è¾†è½¦æ²¿ç€ä¸€æ¡è½¦é“é©¶å‘ä½äº `target` è‹±é‡Œä¹‹å¤–çš„å…±åŒç›®çš„åœ°ã€‚

æ¯è¾†è½¦ `i` ä»¥æ’å®šçš„é€Ÿåº¦ `speed[i]` ï¼ˆè‹±é‡Œ/å°æ—¶ï¼‰ï¼Œä»åˆå§‹ä½ç½® `position[i]` ï¼ˆè‹±é‡Œï¼‰ æ²¿è½¦é“é©¶å‘ç›®çš„åœ°ã€‚

ä¸€è¾†è½¦æ°¸è¿œä¸ä¼šè¶…è¿‡å‰é¢çš„å¦ä¸€è¾†è½¦ï¼Œä½†å®ƒå¯ä»¥è¿½ä¸Šå»ï¼Œå¹¶ä¸å‰è½¦ä»¥ç›¸åŒçš„é€Ÿåº¦ç´§æ¥ç€è¡Œé©¶ã€‚

æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¼šå¿½ç•¥è¿™ä¸¤è¾†è½¦ä¹‹é—´çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬è¢«å‡å®šå¤„äºç›¸åŒçš„ä½ç½®ã€‚

*è½¦é˜Ÿ* æ˜¯ä¸€äº›ç”±è¡Œé©¶åœ¨ç›¸åŒä½ç½®ã€å…·æœ‰ç›¸åŒé€Ÿåº¦çš„è½¦ç»„æˆçš„éç©ºé›†åˆã€‚æ³¨æ„ï¼Œä¸€è¾†è½¦ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè½¦é˜Ÿã€‚

å³ä¾¿ä¸€è¾†è½¦åœ¨ç›®çš„åœ°æ‰èµ¶ä¸Šäº†ä¸€ä¸ªè½¦é˜Ÿï¼Œå®ƒä»¬ä»ç„¶ä¼šè¢«è§†ä½œæ˜¯åŒä¸€ä¸ªè½¦é˜Ÿã€‚
ä¼šæœ‰å¤šå°‘è½¦é˜Ÿåˆ°è¾¾ç›®çš„åœ°?
> **ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼štarget = 12, position = [10,8,0,5,3], speed = [2,4,1,1,3]
è¾“å‡ºï¼š3
è§£é‡Šï¼š
ä» 10 å’Œ 8 å¼€å§‹çš„è½¦ä¼šç»„æˆä¸€ä¸ªè½¦é˜Ÿï¼Œå®ƒä»¬åœ¨ 12 å¤„ç›¸é‡ã€‚
ä» 0 å¤„å¼€å§‹çš„è½¦æ— æ³•è¿½ä¸Šå…¶å®ƒè½¦ï¼Œæ‰€ä»¥å®ƒè‡ªå·±å°±æ˜¯ä¸€ä¸ªè½¦é˜Ÿã€‚
ä» 5 å’Œ 3 å¼€å§‹çš„è½¦ä¼šç»„æˆä¸€ä¸ªè½¦é˜Ÿï¼Œå®ƒä»¬åœ¨ 6 å¤„ç›¸é‡ã€‚
è¯·æ³¨æ„ï¼Œåœ¨åˆ°è¾¾ç›®çš„åœ°ä¹‹å‰æ²¡æœ‰å…¶å®ƒè½¦ä¼šé‡åˆ°è¿™äº›è½¦é˜Ÿï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 3ã€‚
```
**æç¤ºï¼š**

1. `0 <= N <= 10 ^ 4`
2. `0 < target <= 10 ^ 6`
3. `0 < speed[i] <= 10 ^ 6`
4. `0 <= position[i] < target`
5. æ‰€æœ‰è½¦çš„åˆå§‹ä½ç½®å„ä¸ç›¸åŒã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/car-fleet/>

#### **æ€è·¯:**

ã€€ã€€å› ä¸ºè¿½ä¸Šä»¥åä¼šåˆå¹¶ï¼Œå› æ­¤**æ¯è¾†è½¦åªå¯èƒ½è¿½ä¸Šä»–å‰é¢ä½ç½®çš„è½¦**ã€‚  

ã€€ã€€å…ˆåˆ¤æ–­å€’æ•°ç¬¬äºŒè¾†è½¦èƒ½ä¸èƒ½è¿½ä¸Šæœ€åä¸€è¾†è½¦ï¼Œå†åˆ¤æ–­å€’æ•°ç¬¬ä¸‰è¾†è½¦èƒ½ä¸èƒ½è¿½ä¸Šå€’æ•°ç¬¬äºŒè¾†è½¦ã€‚  

ã€€ã€€ä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœæœ‰ä¸èƒ½è¿½ä¸Šçš„è½¦é˜Ÿæ•°å°±`+1`ã€‚  

ã€€ã€€ä½ç½®æ’åœ¨æœ€åçš„è½¦æ— æ³•è¿½ä¸Šå…¶ä»–çš„è½¦ï¼Œä¸€å®šæ˜¯ä¸€ä¸ªè½¦é˜Ÿã€‚  

#### **ä»£ç :**

```python
class Solution:
    def carFleet(self, target: int, position: List[int], speed: List[int]) -> int:
        n = len(position)
        if n:
            ans = 1  # æœ€åä½ç½®çš„è½¦
        else:
            return 0
        dict = {position[i]:speed[i] for i in range(n)}

        position = sorted(position, reverse = True)
        
        pre = position[0]
        for nxt in position[1:]:
            time_pre = (target - pre) / dict[pre]
            time_next = (target - nxt) / dict[nxt]
            if time_next <= time_pre:
                continue  # èƒ½è¿½ä¸Š
            else:
                pre = nxt
                ans += 1

        return ans

```

## A978. æœ€é•¿æ¹æµå­æ•°ç»„

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å½“ `A` çš„å­æ•°ç»„ `A[i], A[i+1], ..., A[j]` æ»¡è¶³ä¸‹åˆ—æ¡ä»¶æ—¶ï¼Œæˆ‘ä»¬ç§°å…¶ä¸º*æ¹æµå­æ•°ç»„*ï¼š

- è‹¥ `i <= k < j`ï¼Œå½“ `k` ä¸ºå¥‡æ•°æ—¶ï¼Œ `A[k] > A[k+1]`ï¼Œä¸”å½“ `k` ä¸ºå¶æ•°æ—¶ï¼Œ`A[k] < A[k+1]`ï¼›
- **æˆ–** è‹¥ `i <= k < j`ï¼Œå½“ `k` ä¸ºå¶æ•°æ—¶ï¼Œ`A[k] > A[k+1]` ï¼Œä¸”å½“ `k` ä¸ºå¥‡æ•°æ—¶ï¼Œ `A[k] < A[k+1]`ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ¯”è¾ƒç¬¦å·åœ¨å­æ•°ç»„ä¸­çš„æ¯ä¸ªç›¸é‚»å…ƒç´ å¯¹ä¹‹é—´ç¿»è½¬ï¼Œåˆ™è¯¥å­æ•°ç»„æ˜¯æ¹æµå­æ•°ç»„ã€‚

è¿”å› `A` çš„æœ€å¤§æ¹æµå­æ•°ç»„çš„**é•¿åº¦**ã€‚
> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š[9,4,2,10,7,8,8,1,9]
è¾“å‡ºï¼š5
è§£é‡Šï¼š(A[1] > A[2] < A[3] > A[4] < A[5])
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š[4,8,12,16]
è¾“å‡ºï¼š2
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼š[100]
è¾“å‡ºï¼š1
```
**æç¤ºï¼š**

1. `1 <= A.length <= 40000`
2. `0 <= A[i] <= 10^9`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/longest-turbulent-subarray/>

#### **æ€è·¯:**

ã€€ã€€ç±»ä¼¼äº[A376. æ‘†åŠ¨åºåˆ—](/dp?id=a376-æ‘†åŠ¨åºåˆ—)ï¼Œä¸è¿‡è¿™é¢˜è¦æ±‚å­æ•°ç»„è¿ç»­ã€‚  

ã€€ã€€å¦‚æœä¸€ä¸ªæ•°å¤§äºå‰é¢çš„æ•°ï¼Œç§°ä¸ºå½“å‰æ˜¯**ä¸Šå‡**çš„ï¼Œå¦åˆ™ç§°ä¸ºå½“å‰æ˜¯**ä¸‹é™**çš„ã€‚`asc[i]`è¡¨ç¤º`A[i] > A[i-1]`æ—¶ï¼Œä»¥`A[i]`ç»“å°¾çš„æœ€é•¿æ¹æµå­æ•°ç»„ï¼Œ`dsc[i]`è¡¨ç¤º`A[i] < A[i-1]`æ—¶ï¼Œä»¥`A[i]`ç»“å°¾çš„æœ€é•¿æ¹æµå­æ•°ç»„ã€‚  

ã€€ã€€å¦‚æœå½“å‰æ˜¯**ä¸Šå‡**çš„ï¼Œæœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹`asc[i] = dsc[i-1] + 1`ï¼›åŒæ ·ï¼Œå¦‚æœå½“å‰æ˜¯**ä¸‹é™**çš„ï¼Œæœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹`dsc[i] = asc[i-1] + 1`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def maxTurbulenceSize(self, A: List[int]) -> int:
        nums = A
        n = len(nums)
        if n <= 1: return n

        asc = [1 for i in range(n)]  # ä¸Šå‡
        dsc = [1 for i in range(n)]  # ä¸‹é™  

        ans = 1
        for i in range(1, n):
            if nums[i] > nums[i-1]:  # æŸä¸ªæ•°å¤§äºå‰é¢çš„æ•°
                asc[i] = dsc[i-1] + 1  
                ans = max(ans, asc[i])
            elif nums[i] < nums[i-1]:
                dsc[i] = asc[i-1] + 1
                ans = max(ans, dsc[i])
            else:
                asc[i] = dsc[i] = 1

        return ans

```

## A992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `A`ï¼Œå¦‚æœ `A` çš„æŸä¸ªå­æ•°ç»„ä¸­ä¸åŒæ•´æ•°çš„ä¸ªæ•°æ°å¥½ä¸º `K`ï¼Œåˆ™ç§° `A` çš„è¿™ä¸ªè¿ç»­ã€ä¸ä¸€å®šç‹¬ç«‹çš„å­æ•°ç»„ä¸º*å¥½å­æ•°ç»„*ã€‚

ï¼ˆä¾‹å¦‚ï¼Œ`[1,2,3,1,2]` ä¸­æœ‰ `3` ä¸ªä¸åŒçš„æ•´æ•°ï¼š`1`ï¼Œ`2`ï¼Œä»¥åŠ `3`ã€‚ï¼‰

è¿”å› `A` ä¸­*å¥½å­æ•°ç»„*çš„æ•°ç›®ã€‚
> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šA = [1,2,1,2,3], K = 2
è¾“å‡ºï¼š7
è§£é‡Šï¼šæ°å¥½ç”± 2 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2], [2,1], [1,2], [2,3], [1,2,1], [2,1,2], [1,2,1,2].
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šA = [1,2,1,3,4], K = 3
è¾“å‡ºï¼š3
è§£é‡Šï¼šæ°å¥½ç”± 3 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2,1,3], [2,1,3], [1,3,4].
```
**æç¤ºï¼š**

1. `1 <= A.length <= 20000`
2. `1 <= A[i] <= A.length`
3. `1 <= K <= A.length`


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/subarrays-with-k-different-integers/>

#### **æ€è·¯:**

ã€€ã€€æ»‘åŠ¨çª—å£+ä¸­é—´è¯•æ¢ï¼Œå…³é”®åœ¨äº**çŠ¶æ€è¿˜åŸ**ã€‚  

ã€€ã€€â‘  å…ˆå›ºå®š`left`ï¼Œ`right`æŒ‡é’ˆå‘å³è¯•æ¢ï¼›  

ã€€ã€€â‘¡ æ»¡è¶³çª—å£æ—¶ï¼Œè®°å½•ç»“æœï¼ŒåŒæ—¶ç”¨`temp`æŒ‡é’ˆä»`left`å‘å³è¯•æ¢ï¼Œçœ‹å·¦è¾¹å‡å°‘ä¸€äº›å­—æ¯åæ˜¯å¦ä»ç„¶èƒ½æ»¡è¶³æ¡ä»¶ï¼›  

ã€€ã€€â‘¢ å¤§äºçª—å£æ—¶ï¼Œ`left`æŒ‡é’ˆå³ç§»ï¼Œç„¶åé‡å¤â‘ ã€‚  

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def subarraysWithKDistinct(self, A, K: int) -> int:
        mem = defaultdict(int)  # è®°å½•çª—å£å†…æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°
        ans = 0
        left = 0

        for right, num in enumerate(A):
            mem[A[right]] += 1

            while len(mem) > K:
                mem[A[left]] -= 1
                if mem[A[left]] == 0:
                    mem.pop(A[left])
                left += 1

            if len(mem) == K:
                temp = left
                while len(mem) == K:
                    ans += 1
                    mem[A[temp]] -= 1
                    if mem[A[temp]] == 0:
                        mem.pop(A[temp])

                    temp += 1

                while temp > left:
                    mem[A[temp - 1]] += 1
                    temp -= 1

                assert len(mem) == K  # è¿˜åŸä¹‹å‰çš„çŠ¶æ€

        return ans


```

## A995. K è¿ç»­ä½çš„æœ€å°ç¿»è½¬æ¬¡æ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

åœ¨ä»…åŒ…å« `0` å’Œ `1` çš„æ•°ç»„ `A` ä¸­ï¼Œä¸€æ¬¡ *K ä½ç¿»è½¬*åŒ…æ‹¬é€‰æ‹©ä¸€ä¸ªé•¿åº¦ä¸º `K` çš„ï¼ˆè¿ç»­ï¼‰å­æ•°ç»„ï¼ŒåŒæ—¶å°†å­æ•°ç»„ä¸­çš„æ¯ä¸ª `0` æ›´æ”¹ä¸º `1`ï¼Œè€Œæ¯ä¸ª `1` æ›´æ”¹ä¸º `0`ã€‚

è¿”å›æ‰€éœ€çš„ `K` ä½ç¿»è½¬çš„æ¬¡æ•°ï¼Œä»¥ä¾¿æ•°ç»„æ²¡æœ‰å€¼ä¸º `0` çš„å…ƒç´ ã€‚å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› `-1`ã€‚
> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šA = [0,1,0], K = 1
è¾“å‡ºï¼š2
è§£é‡Šï¼šå…ˆç¿»è½¬ A[0]ï¼Œç„¶åç¿»è½¬ A[2]ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šA = [1,1,0], K = 2
è¾“å‡ºï¼š-1
è§£é‡Šï¼šæ— è®ºæˆ‘ä»¬æ€æ ·ç¿»è½¬å¤§å°ä¸º 2 çš„å­æ•°ç»„ï¼Œæˆ‘ä»¬éƒ½ä¸èƒ½ä½¿æ•°ç»„å˜ä¸º [1,1,1]ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šA = [0,0,0,1,0,1,1,0], K = 3
è¾“å‡ºï¼š3
è§£é‡Šï¼š
ç¿»è½¬ A[0],A[1],A[2]: Aå˜æˆ [1,1,1,1,0,1,1,0]
ç¿»è½¬ A[4],A[5],A[6]: Aå˜æˆ [1,1,1,1,1,0,0,0]
ç¿»è½¬ A[5],A[6],A[7]: Aå˜æˆ [1,1,1,1,1,1,1,1]
```
**æç¤ºï¼š**

1. `1 <= A.length <= 30000`
2. `1 <= K <= A.length`


#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**è´ªå¿ƒç®—æ³•+ç¿»è½¬(è¶…æ—¶)ï¼Œå¦‚æœæ•°ç»„ä¸­`nums[i]`çš„ä½ç½®å‡ºç°äº†`0`ï¼Œå°±å¯¹`nums[i: i+k]`éƒ½è¿›è¡Œç¿»è½¬ï¼Œå¦‚æœ`i+k`å¤§äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™æ— è®ºå¦‚ä½•æ“ä½œï¼Œéƒ½ä¸å¯èƒ½å˜æˆå…¨`1`ã€‚æ—¶é—´å¤æ‚åº¦`O(nk)`ï¼Œå…¶ä¸­nè¡¨ç¤ºæ•°ç»„é•¿åº¦ã€‚  

ã€€ã€€**æ–¹æ³•äºŒï¼š**è®°å½•ç¿»è½¬è¾¹ç•Œ(1160ms)ï¼Œæ–¹æ³•ä¸€å¯èƒ½ä¼šé€ æˆå¤§é‡é‡å¤çš„ç¿»è½¬ï¼Œå› æ­¤ä¸å¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œç¿»è½¬ï¼Œè€Œæ˜¯ç”¨ä¸€ä¸ªæ ‡å¿—`flip`è®°å½•å½“å‰æœ‰æ²¡æœ‰ç¿»è½¬ï¼Œæ¯æ¬¡ç¿»è½¬æ—¶éƒ½å¦`flip = 1 - flip`ã€‚å¦å¤–ï¼Œå½“å‰å…ƒç´ è¶…å‡ºä¹‹å‰ç¿»è½¬çš„è¾¹ç•Œæ—¶ä¹Ÿè¦å†ç¿»è½¬ä¸€æ¬¡ï¼Œæ‰€ä»¥è¦ç”¨ä¸€ä¸ª`boundary`æ•°ç»„è®°å½•ä¹‹å‰æ‰€æœ‰çš„ç¿»è½¬è¾¹ç•Œã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**(è´ªå¿ƒ+ç¿»è½¬æ•°ç»„ä½, è¶…æ—¶)

```python
class Solution:
    def minKBitFlips(self, A: List[int], K: int) -> int:
        n = len(A)
        ans = 0
        for i, num in enumerate(A):
            if num == 1:
                continue
            if i + K > n:
                return - 1
            ans += 1
            for j in range(i, i + K):
                A[j] = 1 - A[j]
            
        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**(è®°å½•ç¿»è½¬è¾¹ç•Œ, 1160ms)

```python
class Solution:
    def minKBitFlips(self, A: List[int], K: int) -> int:
        n = len(A)
        ans = 0
        boundary = []  # è®°å½•æ‰€æœ‰ç¿»è½¬è¾¹ç•Œçš„æ•°ç»„

        flip = 1
        for i, num in enumerate(A):
            if boundary and boundary[0] == i:  # åˆ°äº†æŸä¸€æ¬¡çš„ç¿»è½¬è¾¹ç•Œ 
                flip = 1 - flip
                boundary.pop(0)

            if num == flip:  # è¿™ä¸ªæ•°å­—ä¸éœ€è¦ç¿»è½¬äº†
                continue

            if i + K > n:
                return - 1
            ans += 1

            flip = 1 - flip
            boundary.append(i+K)  # è®°å½•ç¿»è½¬è¾¹ç•Œï¼Œå³ i + K
            
        return ans
      
```

## A1248. ç»Ÿè®¡ã€Œä¼˜ç¾å­æ•°ç»„ã€

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ã€‚

å¦‚æœæŸä¸ª **è¿ç»­** å­æ•°ç»„ä¸­æ°å¥½æœ‰ `k` ä¸ªå¥‡æ•°æ•°å­—ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸ªå­æ•°ç»„æ˜¯ã€Œ**ä¼˜ç¾å­æ•°ç»„**ã€ã€‚

è¯·è¿”å›è¿™ä¸ªæ•°ç»„ä¸­ã€Œä¼˜ç¾å­æ•°ç»„ã€çš„æ•°ç›®ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,2,1,1], k = 3
è¾“å‡ºï¼š2
è§£é‡Šï¼šåŒ…å« 3 ä¸ªå¥‡æ•°çš„å­æ•°ç»„æ˜¯ [1,1,2,1] å’Œ [1,2,1,1] ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [2,4,6], k = 1
è¾“å‡ºï¼š0
è§£é‡Šï¼šæ•°åˆ—ä¸­ä¸åŒ…å«ä»»ä½•å¥‡æ•°ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä¼˜ç¾å­æ•°ç»„ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [2,2,2,1,2,2,1,2,2,2], k = 2
è¾“å‡ºï¼š16
```

**æç¤ºï¼š**

- `1 <= nums.length <= 50000`
- `1 <= nums[i] <= 10^5`
- `1 <= k <= nums.length`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/count-number-of-nice-subarrays/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**åŒæŒ‡é’ˆã€‚ç»´æŠ¤ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œè®°å½•å…¶ä¸­çš„å¥‡æ•°ä¸ªæ•°ï¼Œå¦‚æœå¥‡æ•°ä¸ªæ•°å¤§äº`k`ï¼Œåˆ™å·¦æŒ‡é’ˆå‘å³ç§»ã€‚  
ã€€ã€€**æ–¹æ³•äºŒï¼š**è¿™é“é¢˜çš„æœ¬è´¨æ˜¯ç»Ÿè®¡æ‰€æœ‰`ç›¸éš”ä¸º(k-1)`çš„å¥‡æ•°çš„å·¦å³å¶æ•°çš„ä¹˜ç§¯çš„å’Œã€‚ç”¨ä¸€ä¸ªå­—å…¸`mem`è®°å½•ç¬¬`i`ä¸ªå¥‡æ•°çš„å·¦è¾¹çš„**å¶æ•°ä¸ªæ•°+1**ã€‚åˆ©ç”¨ç¬¬`i`ä¸ªå¥‡æ•°å³è¾¹çš„å¶æ•°=ç¬¬`i+1`ä¸ªå¥‡æ•°å·¦è¾¹çš„å¶æ•°è¿™ä¸ªæ€§è´¨ï¼Œåªè¦è®¡ç®—æ‰€æœ‰`mem[temp] * mem[temp-k]`çš„å’Œå³å¯ã€‚  

ã€€ã€€ä¸ºäº†ä¾¿äºç†è§£ï¼Œä»¥`nums = [2,2,2,1,2,2,1,2,2,2]`ä¸ºä¾‹ï¼Œ`nums`ä¸­å…±æœ‰2ä¸ªå¥‡æ•°ã€‚

```python
mem[0] = 4
mem[1] = 3
mem[2] = 4  # ç»“å°¾çš„å¶æ•°ä¹Ÿè¦è®¡ç®—è¿›å»
ç”±äºk=2ï¼Œ å› æ­¤ans = mem[2] * mem[2-k] = 16
```

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**

```python
class Solution:
    def numberOfSubarrays(self, nums: List[int], k: int) -> int:
        left = 0
        cnt = 0
        ans = 0
        fist_right = 0
        nums.append(-1)
        for right, num in enumerate(nums):
            if num % 2 == 1:
                cnt += 1

            if cnt > k or right == len(nums):
                # ä»right-1å¼€å§‹å¾€å·¦æ•°å¶æ•°
                j = right - 1
                while j >= 0 and nums[j] % 2 == 0:
                    j -= 1
                
                i = left
                while left < right and nums[left] % 2 == 0:
                    left += 1  # é‡å¤å»æ‰å¶æ•°
                left += 1  # å†å»æ‰ä¸€ä¸ªå¥‡æ•° ä½¿å¾—çª—å£å†…çš„å¥‡æ•°ä¸ªæ•°ä»ç„¶ä¸ºk
                cnt -= 1
                
                ans += (right - j) * (left - i)

        return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**

```python
from collections import defaultdict

class Solution:
    def numberOfSubarrays(self, nums: List[int], k: int) -> int:
        nums.append(-1)
        mem = defaultdict(int)  # mem[i]=j è¡¨ç¤ºç¬¬iä¸ªå¥‡æ•°å‰é¢æœ‰j+1ä¸ªå¶æ•°
        temp = 0
        cnt = 0
        ans = 0
        for num in nums:
            if num % 2 == 0:
                cnt += 1
            else:
                mem[temp] = cnt + 1
                if temp >= k:
                    ans += mem[temp] * mem[temp-k]

                temp += 1
                cnt = 0
                
        return ans
```


## A1263. æ¨ç®±å­

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ã€Œæ¨ç®±å­ã€æ˜¯ä¸€æ¬¾é£é¡å…¨çƒçš„ç›Šæ™ºå°æ¸¸æˆï¼Œç©å®¶éœ€è¦å°†ç®±å­æ¨åˆ°ä»“åº“ä¸­çš„ç›®æ ‡ä½ç½®ã€‚

æ¸¸æˆåœ°å›¾ç”¨å¤§å°ä¸º `n * m` çš„ç½‘æ ¼ `grid` è¡¨ç¤ºï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯å¢™ã€åœ°æ¿æˆ–è€…æ˜¯ç®±å­ã€‚

ç°åœ¨ä½ å°†ä½œä¸ºç©å®¶å‚ä¸æ¸¸æˆï¼ŒæŒ‰è§„åˆ™å°†ç®±å­ `'B'` ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½® `'T'` ï¼š

- ç©å®¶ç”¨å­—ç¬¦ `'S'` è¡¨ç¤ºï¼Œåªè¦ä»–åœ¨åœ°æ¿ä¸Šï¼Œå°±å¯ä»¥åœ¨ç½‘æ ¼ä¸­å‘ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚
- åœ°æ¿ç”¨å­—ç¬¦ `'.'` è¡¨ç¤ºï¼Œæ„å‘³ç€å¯ä»¥è‡ªç”±è¡Œèµ°ã€‚
- å¢™ç”¨å­—ç¬¦ `'#'` è¡¨ç¤ºï¼Œæ„å‘³ç€éšœç¢ç‰©ï¼Œä¸èƒ½é€šè¡Œã€‚ 
- ç®±å­ä»…æœ‰ä¸€ä¸ªï¼Œç”¨å­—ç¬¦ `'B'` è¡¨ç¤ºã€‚ç›¸åº”åœ°ï¼Œç½‘æ ¼ä¸Šæœ‰ä¸€ä¸ªç›®æ ‡ä½ç½® `'T'`ã€‚
- ç©å®¶éœ€è¦ç«™åœ¨ç®±å­æ—è¾¹ï¼Œç„¶åæ²¿ç€ç®±å­çš„æ–¹å‘è¿›è¡Œç§»åŠ¨ï¼Œæ­¤æ—¶ç®±å­ä¼šè¢«ç§»åŠ¨åˆ°ç›¸é‚»çš„åœ°æ¿å•å…ƒæ ¼ã€‚è®°ä½œä¸€æ¬¡ã€Œæ¨åŠ¨ã€ã€‚
- ç©å®¶æ— æ³•è¶Šè¿‡ç®±å­ã€‚

è¿”å›å°†ç®±å­æ¨åˆ°ç›®æ ‡ä½ç½®çš„æœ€å° **æ¨åŠ¨** æ¬¡æ•°ï¼Œå¦‚æœæ— æ³•åšåˆ°ï¼Œè¯·è¿”å› `-1`ã€‚

> **ç¤ºä¾‹ 1ï¼š**

<img src="_img/1263.png" style="zoom:50%"/>

```
è¾“å…¥ï¼šgrid = [["#","#","#","#","#","#"],
             ["#","T","#","#","#","#"],
             ["#",".",".","B",".","#"],
             ["#",".","#","#",".","#"],
             ["#",".",".",".","S","#"],
             ["#","#","#","#","#","#"]]
è¾“å‡ºï¼š3
è§£é‡Šï¼šæˆ‘ä»¬åªéœ€è¦è¿”å›æ¨ç®±å­çš„æ¬¡æ•°ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šgrid = [["#","#","#","#","#","#"],
             ["#","T","#","#","#","#"],
             ["#",".",".","B",".","#"],
             ["#","#","#","#",".","#"],
             ["#",".",".",".","S","#"],
             ["#","#","#","#","#","#"]]
è¾“å‡ºï¼š-1
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šgrid = [["#","#","#","#","#","#"],
             ["#","T",".",".","#","#"],
             ["#",".","#","B",".","#"],
             ["#",".",".",".",".","#"],
             ["#",".",".",".","S","#"],
             ["#","#","#","#","#","#"]]
è¾“å‡ºï¼š5
è§£é‡Šï¼šå‘ä¸‹ã€å‘å·¦ã€å‘å·¦ã€å‘ä¸Šå†å‘ä¸Šã€‚
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šgrid = [["#","#","#","#","#","#","#"],
             ["#","S","#",".","B","T","#"],
             ["#","#","#","#","#","#","#"]]
è¾“å‡ºï¼š-1
```

**æç¤ºï¼š**

- `1 <= grid.length <= 20`
- `1 <= grid[i].length <= 20`
- `grid` ä»…åŒ…å«å­—ç¬¦ `'.'`, `'#'`,  `'S'` , `'T'`, ä»¥åŠ `'B'`ã€‚
- `grid` ä¸­ `'S'`, `'B'` å’Œ `'T'` å„åªèƒ½å‡ºç°ä¸€ä¸ªã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-moves-to-move-a-box-to-their-target-location/>

#### **æ€è·¯:**

ã€€ã€€BFSã€‚ä¸è¿‡æœ‰ä¸¤ç§ç‰¹æ®Šæƒ…å†µéœ€è¦è€ƒè™‘ï¼š  

ã€€ã€€â‘  äººæ— æ³•åˆ°ç®±å­çš„å¦ä¸€è¾¹æ¨ç®±å­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

```
["#","#","#","#","#","#"]
["#","#","#","#","#","#"]
["#","#",".","B",".","T"]
["#","#","#","#","S","#"]
["#","#","#","#","#","#"]

```

ã€€ã€€â‘¡ ç®±å­çš„ä½ç½®å¯èƒ½å‡ºç°é‡å¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…ˆå‘å·¦æ¨ï¼Œå†å‘å³æ¨ï¼š

```
["#","#","#","#","#","#"]
["#",".",".",".","#","#"]
["#",".",".","B",".","T"]
["#",".",".","#","S","#"]
["#","#","#","#","#","#"]

```

ã€€ã€€å› æ­¤ä»¥`(ç®±å­çš„ä½ç½®, äººçš„ä½ç½®)`ä¿å­˜`visited`æ•°ç»„ï¼Œç®±å­æ¯æ¬¡å¯ä»¥å‘ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼Œä¸è¿‡éœ€è¦å…ˆåˆ¤æ–­äººèƒ½ä¸èƒ½ç§»åŠ¨åˆ°ç®±å­ç›¸åçš„ä½ç½®ï¼Œåˆ¤æ–­çš„æ–¹å¼ä»ç„¶æ˜¯BFSã€‚å› æ­¤è¿™é“é¢˜å®é™…ä¸Šæ˜¯åŒé‡BFSã€‚  

#### **ä»£ç :**

```python
class Solution:
    def minPushBox(self, grid: List[List[str]]) -> int:
        arounds = [(-1, 0), (1, 0), (0, -1), (0, 1)]  # ä¸Šä¸‹å·¦å³
        m = len(grid)
        if not m: return 0
        n = len(grid[0])

        box_visited = [[[[False for _ in range(n)] for _ in range(m)] for _ in range(n)] for _ in range(m)]
        
        def can_goto(src, dst):
            visited = [[False for _ in range(n)] for _ in range(m)]
            
            queue = [src]  # (0, 0)
            visited[src[0]][src[1]] = True  
        
            count = 0
            while queue:
                for i, j in queue:
                    if i == dst[0] and j == dst[1]:
                        return True  # ç»“æŸçš„æ¡ä»¶

                temp = []
                for i, j in queue:
                    for di, dj in arounds:
                        x, y = i + di, j + dj
                        if x < 0 or y < 0 or x >= m or y >= n or grid[x][y]=='#' or grid[x][y] == 'B':  # è¾¹ç•Œ
                            continue
                        if not visited[x][y]:
                            visited[x][y] = True
                            temp.append((x, y))

                queue = temp
            return False
        
        for i in range(m):
            for j in range(n):
                if grid[i][j] == 'S':
                    start = (i, j)
                elif grid[i][j] == 'B':
                    box = (i, j)
                elif grid[i][j] == 'T':
                    target = (i, j)
                    
        queue = [(box[0], box[1], start[0], start[1])]
        grid[box[0]][box[1]] = '.'
        
        count = 0
        while queue:
            for i, j, _, _ in queue:
                if i == target[0] and j == target[1]:
                    return count # ç»“æŸçš„æ¡ä»¶

            count += 1

            temp = []
            for i, j, per1, per2 in queue:
                grid[i][j] = '#'
                for di, dj in arounds:
                    x, y = i + di, j + dj  # ç®±å­çš„ä¸‹ä¸€ä¸ªä½ç½®
                    if x < 0 or y < 0 or x >= m or y >= n or grid[x][y]=='#':  # è¾¹ç•Œ
                        continue
                    x_, y_ = i - di, j - dj  # äººéœ€è¦ç«™åœ¨çš„ä½ç½®
                    if x_ < 0 or y_ < 0 or x_ >= m or y_ >= n or grid[x][y]=='#':  # è¾¹ç•Œ
                        continue
                    if not can_goto((per1, per2), (x_, y_)):  # èµ°ä¸åˆ°é‚£ä¸ªä½ç½®
                        continue

                    if not box_visited[x][y][i][j]:  # (ç®±å­çš„ä½ç½®ï¼Œäººæ¨å®Œç®±å­åçš„ä½ç½®)
                        box_visited[x][y][i][j] = True 
                        temp.append((x, y, i, j))

                grid[i][j] = '.'
            queue = temp
                
        return -1
```

## A1269. åœåœ¨åŸåœ°çš„æ–¹æ¡ˆæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

æœ‰ä¸€ä¸ªé•¿åº¦ä¸º `arrLen` çš„æ•°ç»„ï¼Œå¼€å§‹æœ‰ä¸€ä¸ªæŒ‡é’ˆåœ¨ç´¢å¼• `0` å¤„ã€‚

æ¯ä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å¯ä»¥å°†æŒ‡é’ˆå‘å·¦æˆ–å‘å³ç§»åŠ¨ 1 æ­¥ï¼Œæˆ–è€…åœåœ¨åŸåœ°ï¼ˆæŒ‡é’ˆä¸èƒ½è¢«ç§»åŠ¨åˆ°æ•°ç»„èŒƒå›´å¤–ï¼‰ã€‚

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `steps` å’Œ `arrLen` ï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å›ï¼šåœ¨æ°å¥½æ‰§è¡Œ `steps` æ¬¡æ“ä½œä»¥åï¼ŒæŒ‡é’ˆä»ç„¶æŒ‡å‘ç´¢å¼• `0` å¤„çš„æ–¹æ¡ˆæ•°ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·è¿”å›æ–¹æ¡ˆæ•° **æ¨¡** `10^9 + 7` åçš„ç»“æœã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šsteps = 3, arrLen = 2
è¾“å‡ºï¼š4
è§£é‡Šï¼š3 æ­¥åï¼Œæ€»å…±æœ‰ 4 ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥åœåœ¨ç´¢å¼• 0 å¤„ã€‚
å‘å³ï¼Œå‘å·¦ï¼Œä¸åŠ¨
ä¸åŠ¨ï¼Œå‘å³ï¼Œå‘å·¦
å‘å³ï¼Œä¸åŠ¨ï¼Œå‘å·¦
ä¸åŠ¨ï¼Œä¸åŠ¨ï¼Œä¸åŠ¨
```

> **ç¤ºä¾‹  2ï¼š**

```
è¾“å…¥ï¼šsteps = 2, arrLen = 4
è¾“å‡ºï¼š2
è§£é‡Šï¼š2 æ­¥åï¼Œæ€»å…±æœ‰ 2 ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥åœåœ¨ç´¢å¼• 0 å¤„ã€‚
å‘å³ï¼Œå‘å·¦
ä¸åŠ¨ï¼Œä¸åŠ¨
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šsteps = 4, arrLen = 2
è¾“å‡ºï¼š8
```

**æç¤ºï¼š**

- `1 <= steps <= 500`
- `1 <= arrLen <= 10^6`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/number-of-ways-to-stay-in-the-same-place-after-some-steps/>

#### **æ€è·¯:**  

ã€€ã€€ç”±äº`step`çš„èŒƒå›´å°äºç­‰äº`500`ï¼Œè·³`500`æ¬¡æœ€å¤šåªèƒ½è·³åˆ°`500`çš„ä½ç½®ï¼Œå› æ­¤æ•°ç»„å¤§äº`500`çš„éƒ¨åˆ†éƒ½æ˜¯**æ— æ•ˆ**çš„ã€‚  

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚`dp[step][i]`è¡¨ç¤ºè·³`step`æ­¥è½åœ¨ä½ç½®`i`çš„æƒ…å†µæ•°ã€‚  

ã€€ã€€çŠ¶æ€è½¬ç§»æ–¹ç¨‹`dp[step][i] = dp[step][i-1] + dp[step][i] + dp[step][i+1]`ã€‚æ³¨æ„`i`çš„èŒƒå›´æ˜¯`[0, arrLen-1]`ï¼Œå› ä¸ºä¸èƒ½è·³åˆ°æ•°ç»„å¤–ã€‚    

#### **ä»£ç :**

```python
class Solution:
    def numWays(self, steps: int, arrLen: int) -> int:
        dp = [[0] * 502 for _ in range(steps+1)]  # dp[step][i]
        dp[0][0] = 1
        for step in range(1, steps+1):
            for i in range(501):  # 0-500
                dp[step][i] = dp[step-1][i]  # ä¸åŠ¨
                if i > 0:
                    dp[step][i] += dp[step-1][i-1]  # å‘å³
                if i < arrLen-1:
                    dp[step][i] += dp[step-1][i+1]  # å‘å·¦
                    
        # print(dp[steps][:arrLen])
        return dp[steps][0] % 1000000007

```

## A1278. åˆ†å‰²å›æ–‡ä¸² III

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² `s`ï¼Œå’Œä¸€ä¸ªæ•´æ•° `k`ã€‚

è¯·ä½ æŒ‰ä¸‹é¢çš„è¦æ±‚åˆ†å‰²å­—ç¬¦ä¸²ï¼š

- é¦–å…ˆï¼Œä½ å¯ä»¥å°† `s` ä¸­çš„éƒ¨åˆ†å­—ç¬¦ä¿®æ”¹ä¸ºå…¶ä»–çš„å°å†™è‹±æ–‡å­—æ¯ã€‚
- æ¥ç€ï¼Œä½ éœ€è¦æŠŠ `s` åˆ†å‰²æˆ `k` ä¸ªéç©ºä¸”ä¸ç›¸äº¤çš„å­ä¸²ï¼Œå¹¶ä¸”æ¯ä¸ªå­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚

è¯·è¿”å›ä»¥è¿™ç§æ–¹å¼åˆ†å‰²å­—ç¬¦ä¸²æ‰€éœ€ä¿®æ”¹çš„æœ€å°‘å­—ç¬¦æ•°ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "abc", k = 2
è¾“å‡ºï¼š1
è§£é‡Šï¼šä½ å¯ä»¥æŠŠå­—ç¬¦ä¸²åˆ†å‰²æˆ "ab" å’Œ "c"ï¼Œå¹¶ä¿®æ”¹ "ab" ä¸­çš„ 1 ä¸ªå­—ç¬¦ï¼Œå°†å®ƒå˜æˆå›æ–‡ä¸²ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "aabbc", k = 3
è¾“å‡ºï¼š0
è§£é‡Šï¼šä½ å¯ä»¥æŠŠå­—ç¬¦ä¸²åˆ†å‰²æˆ "aa"ã€"bb" å’Œ "c"ï¼Œå®ƒä»¬éƒ½æ˜¯å›æ–‡ä¸²ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "leetcode", k = 8
è¾“å‡ºï¼š0
```

**æç¤ºï¼š**

- `1 <= k <= s.length <= 100`
- `s` ä¸­åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/palindrome-partitioning-iii/>

#### **æ€è·¯:**

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚ `dp[i][k]`è¡¨ç¤º`s[:i]`åˆ†å‰²æˆ`k`ä¸ªå­ä¸²éœ€è¦ä¿®æ”¹çš„æœ€å°‘å­—ç¬¦æ•°ã€‚  

ã€€ã€€å¯¹äº`k=1`çš„æƒ…å†µï¼Œæˆ‘ä»¬ç›´æ¥å°†å­—ç¬¦ä¸²`s[:i]`çš„å‰ä¸€åŠå’Œåä¸€åŠçš„ååºä½œå¯¹æ¯”ï¼Œä¸åŒå­—æ¯çš„ä¸ªæ•°å°±æ˜¯æœ€å°‘éœ€è¦ä¿®æ”¹çš„å­—ç¬¦æ•°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  

<img src="_img/a1278.png" style="zoom:50%"/>

ã€€ã€€å¯¹äº`k>1`çš„æƒ…å†µï¼Œæˆ‘ä»¬å‡è®¾åœ¨`j`çš„ä½ç½®è¿›è¡Œæœ€åä¸€æ¬¡åˆ†å‰²ï¼Œé‚£ä¹ˆ`s[:j]`éœ€è¦åˆ†å‰²ä¸º`k-1`ä¸ªå­ä¸²ï¼Œ`s[j:i]`éœ€è¦åˆ†å‰²æˆ`1`ä¸ªå­ä¸²ã€‚`s[:j]`åˆ†æˆ`k-1`ä¸ªå­ä¸²éœ€è¦ä¿®æ”¹çš„å­—ç¬¦æ•°ä¸º`dp[j][k-1]`ï¼Œ`s[j:i]`åˆ†æˆ`1`ä¸ªå­ä¸²éœ€è¦ä¿®æ”¹çš„å­—ç¬¦æ•°ä»ç„¶ä½¿ç”¨ä¸Šå›¾çš„æ–¹æ³•è®¡ç®—ã€‚  

ã€€ã€€çŠ¶æ€è½¬ç§»æ–¹ç¨‹`dp[i][k] = min(dp[i][k], dp[j][k-1] + get_change(j, i))`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def palindromePartition(self, s: str, k: int) -> int:
        # dp[i][k] è¡¨ç¤ºs[:i]åˆ†å‰²æˆkä¸ªå­ä¸²éœ€è¦ä¿®æ”¹çš„æœ€å°‘å­—ç¬¦æ•°
        n = len(s)
        dp = [[float('inf') for _ in range(k+1)] for _ in range(n+1)]
        
        from functools import lru_cache
        @lru_cache(None)
        def get_change(j, i):  # è·å–s[j:i]å˜æˆå›æ–‡ä¸²éœ€è¦ä¿®æ”¹çš„æœ€å°‘å­—ç¬¦æ•°
            pos = s[j:i]
            rever = pos[::-1]
            dp_i = 0
            for k in range((i-j)//2):
                if pos[k] != rever[k]:
                    dp_i += 1
            return dp_i
        
        for i in range(n+1):
            dp[i][1] = get_change(0, i)
            
        for kk in range(2, k + 1):
            for i in range(n + 1):
                for j in range(i + 1):
                    dp[i][kk] = min(dp[i][kk], dp[j][kk-1] + get_change(j, i))  # s[:j]  s[j:i]
            
        # print(dp)
        return dp[-1][-1]
                

```

## A1283. ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ­£æ•´æ•° `threshold`  ï¼Œä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªæ­£æ•´æ•°ä½œä¸ºé™¤æ•°ï¼Œç„¶åå°†æ•°ç»„é‡Œæ¯ä¸ªæ•°éƒ½é™¤ä»¥å®ƒï¼Œå¹¶å¯¹é™¤æ³•ç»“æœæ±‚å’Œã€‚

è¯·ä½ æ‰¾å‡ºèƒ½å¤Ÿä½¿ä¸Šè¿°ç»“æœå°äºç­‰äºé˜ˆå€¼ `threshold` çš„é™¤æ•°ä¸­ **æœ€å°** çš„é‚£ä¸ªã€‚

æ¯ä¸ªæ•°é™¤ä»¥é™¤æ•°åéƒ½å‘ä¸Šå–æ•´ï¼Œæ¯”æ–¹è¯´ 7/3 = 3 ï¼Œ 10/2 = 5 ã€‚

é¢˜ç›®ä¿è¯ä¸€å®šæœ‰è§£ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,5,9], threshold = 6
è¾“å‡ºï¼š5
è§£é‡Šï¼šå¦‚æœé™¤æ•°ä¸º 1 ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å’Œä¸º 17 ï¼ˆ1+2+5+9ï¼‰ã€‚
å¦‚æœé™¤æ•°ä¸º 4 ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å’Œä¸º 7 (1+1+2+3) ã€‚å¦‚æœé™¤æ•°ä¸º 5 ï¼Œå’Œä¸º 5 (1+1+1+2)ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [2,3,5,7,11], threshold = 11
è¾“å‡ºï¼š3
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [19], threshold = 5
è¾“å‡ºï¼š4
```

**æç¤ºï¼š**

- `1 <= nums.length <= 5 * 10^4`
- `1 <= nums[i] <= 10^6`
- `nums.length <= threshold <= 10^6`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/find-the-smallest-divisor-given-a-threshold/>

#### **æ€è·¯:**

ã€€ã€€ä½¿ç”¨äºŒåˆ†æ³•åœ¨`1`åˆ°`max(nums)`çš„èŒƒå›´å†…æœç´¢è¢«é™¤æ•°ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def smallestDivisor(self, nums: List[int], threshold: int) -> int:
        def get_divider(divider):
            sum = 0
            for num in nums:
                sum = sum + num // divider if num % divider == 0 else sum + num // divider + 1
                
            return sum
        
        # èŒƒå›´ 1~max(nums)
        maximal = max(nums)
        i, j = 1, maximal
        
        while i <= j and i < maximal:
            mid = (i + j) // 2
            
            if get_divider(mid) > threshold:  
                if mid == maximal or get_divider(mid+1) <= threshold:
                    return mid+1
                
                i = mid + 1  # è¦å¾€å¤§äº†æœ
            else:
                j = mid - 1
                
        return mid

```

## A1284. è½¬åŒ–ä¸ºå…¨é›¶çŸ©é˜µçš„æœ€å°‘åè½¬æ¬¡æ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ª `m x n` çš„äºŒè¿›åˆ¶çŸ©é˜µ `mat`ã€‚

æ¯ä¸€æ­¥ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªå•å…ƒæ ¼å¹¶å°†å®ƒåè½¬ï¼ˆåè½¬è¡¨ç¤º 0 å˜ 1 ï¼Œ1 å˜ 0 ï¼‰ã€‚å¦‚æœå­˜åœ¨å’Œå®ƒç›¸é‚»çš„å•å…ƒæ ¼ï¼Œé‚£ä¹ˆè¿™äº›ç›¸é‚»çš„å•å…ƒæ ¼ä¹Ÿä¼šè¢«åè½¬ã€‚ï¼ˆæ³¨ï¼šç›¸é‚»çš„ä¸¤ä¸ªå•å…ƒæ ¼å…±äº«åŒä¸€æ¡è¾¹ã€‚ï¼‰

è¯·ä½ è¿”å›å°†çŸ©é˜µ `mat` è½¬åŒ–ä¸ºå…¨é›¶çŸ©é˜µçš„*æœ€å°‘åè½¬æ¬¡æ•°*ï¼Œå¦‚æœæ— æ³•è½¬åŒ–ä¸ºå…¨é›¶çŸ©é˜µï¼Œè¯·è¿”å› **-1** ã€‚

äºŒè¿›åˆ¶çŸ©é˜µçš„æ¯ä¸€ä¸ªæ ¼å­è¦ä¹ˆæ˜¯ 0 è¦ä¹ˆæ˜¯ 1 ã€‚

å…¨é›¶çŸ©é˜µæ˜¯æ‰€æœ‰æ ¼å­éƒ½ä¸º 0 çš„çŸ©é˜µã€‚

> **ç¤ºä¾‹ 1ï¼š**

<img src="_img/1248.png" style="zoom:100%"/>

```
è¾“å…¥ï¼šmat = [[0,0],[0,1]]
è¾“å‡ºï¼š3
è§£é‡Šï¼šä¸€ä¸ªå¯èƒ½çš„è§£æ˜¯åè½¬ (1, 0)ï¼Œç„¶å (0, 1) ï¼Œæœ€åæ˜¯ (1, 1) ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šmat = [[0]]
è¾“å‡ºï¼š0
è§£é‡Šï¼šç»™å‡ºçš„çŸ©é˜µæ˜¯å…¨é›¶çŸ©é˜µï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦æ”¹å˜å®ƒã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šmat = [[1,1,1],[1,0,1],[0,0,0]]
è¾“å‡ºï¼š6
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šmat = [[1,0,0],[1,0,0]]
è¾“å‡ºï¼š-1
è§£é‡Šï¼šè¯¥çŸ©é˜µæ— æ³•è½¬å˜æˆå…¨é›¶çŸ©é˜µ
```

**æç¤ºï¼š**

- `m == mat.length`
- `n == mat[0].length`
- `1 <= m <= 3`
- `1 <= n <= 3`
- `mat[i][j]` æ˜¯ 0 æˆ– 1 ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-number-of-flips-to-convert-binary-matrix-to-zero-matrix/>

#### **æ€è·¯:**

ã€€ã€€å› æ­¤`m`å’Œ`n`çš„å–å€¼èŒƒå›´éƒ½å¾ˆå°ï¼Œå› æ­¤å¯ä»¥å€ŸåŠ©**çŠ¶å‹DP**çš„æ€æƒ³ï¼Œå°†æ•´ä¸ªçŸ©é˜µçš„å–å€¼**å‹ç¼©æˆä¸€ä¸ªæ•´æ•°**ï¼Œå¦‚ï¼š  

```
[[1 0 1]
 [1 1 1]
 [0 0 1]]
```

ã€€ã€€å¯ä»¥å±•å¼€æˆ`101111001`ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„`337`ã€‚  

ã€€ã€€ç„¶åå°†æ‰€æœ‰å¯èƒ½çš„åè½¬ä¹Ÿç”¨ç›¸åŒçš„æ–¹å¼å‹ç¼©æˆåè¿›åˆ¶æ•°ï¼Œå¦‚ï¼š  

```
[[1 1 0]
 [1 0 0]
 [0 0 0]]
```

ã€€ã€€æ˜¯ä¸€ç§åè½¬æ–¹å¼ï¼Œå…¶ä¸­`1`è¡¨ç¤ºåè½¬ï¼Œ`0`è¡¨ç¤ºä¸å˜ï¼Œå¯ä»¥å±•å¼€æˆ`110100000`ï¼Œåè¿›åˆ¶ä¸º`416`ã€‚  

ã€€ã€€æˆ‘ä»¬ç»™æŸä¸ªçŸ©é˜µåº”ç”¨ä¸€ç§å˜æ¢ï¼Œå°±ç›¸å½“äºå¯¹è¿™ä¸¤ä¸ªæ•´æ•°**åšå¼‚æˆ–æ“ä½œ**ã€‚ï¼ˆå› ä¸ºå¼‚æˆ–0ä¸å˜ï¼Œå¼‚æˆ–1åè½¬ï¼‰ã€‚  

ã€€ã€€ä½¿ç”¨dpçš„æ–¹å¼ï¼Œå› ä¸ºæœ€å¤šåªæœ‰9ä¸ªä½ç½®ï¼Œæœ€å¤šç¿»è½¬9æ¬¡å³å¯ï¼Œç”¨`dp[status]`è®°å½•ç¿»è½¬åˆ°çŠ¶æ€`status`éœ€è¦å¤šå°‘æ¬¡ã€‚å½“`status=0`æ—¶è¿”å›ç»“æœã€‚  

#### **ä»£ç :**

```python
class Solution:
    def minFlips(self, mat: List[List[int]]) -> int:
        m = len(mat)
        n = len(mat[0])
        dp = [float('inf') for _ in range(8**3)]

        def to_line(mat):
            ans = ''
            for line in mat:
                ans += ''.join(map(str, line))

            return int(ans, 2)

        transforms = []
        for i in range(m):
            for j in range(n):
                origin = [[0 for _ in range(n)] for _ in range(m)]
                origin[i][j] = 1
                if i > 0:
                    origin[i-1][j] = 1
                if j > 0:
                    origin[i][j-1] = 1
                if i < m-1:
                    origin[i+1][j] = 1
                if j < n-1:
                    origin[i][j+1] = 1

                transforms.append(to_line(origin))

        idx = to_line(mat)
        dp[idx] = 0
        if idx ==0 :
            return 0

        for step in range(1, 10):  # æœ€å¤š9æ­¥
            dp_ = [float('inf') for _ in range(8 ** 3)]
            for status in range(8**3):
                if dp[status] != float('inf'):
                    for transform in transforms:
                        nxt = status ^ transform
                        if nxt == 0:
                            return step
                        dp_[nxt] = step
            dp = dp_

        return -1

```


## A1349. å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ª `m * n` çš„çŸ©é˜µ `seats` è¡¨ç¤ºæ•™å®¤ä¸­çš„åº§ä½åˆ†å¸ƒã€‚å¦‚æœåº§ä½æ˜¯åçš„ï¼ˆä¸å¯ç”¨ï¼‰ï¼Œå°±ç”¨ `'#'` è¡¨ç¤ºï¼›å¦åˆ™ï¼Œç”¨ `'.'` è¡¨ç¤ºã€‚

å­¦ç”Ÿå¯ä»¥çœ‹åˆ°å·¦ä¾§ã€å³ä¾§ã€å·¦ä¸Šã€å³ä¸Šè¿™å››ä¸ªæ–¹å‘ä¸Šç´§é‚»ä»–çš„å­¦ç”Ÿçš„ç­”å·ï¼Œä½†æ˜¯çœ‹ä¸åˆ°ç›´æ¥ååœ¨ä»–å‰é¢æˆ–è€…åé¢çš„å­¦ç”Ÿçš„ç­”å·ã€‚è¯·ä½ è®¡ç®—å¹¶è¿”å›è¯¥è€ƒåœºå¯ä»¥å®¹çº³çš„ä¸€èµ·å‚åŠ è€ƒè¯•ä¸”æ— æ³•ä½œå¼Šçš„æœ€å¤§å­¦ç”Ÿäººæ•°ã€‚

å­¦ç”Ÿå¿…é¡»ååœ¨çŠ¶å†µè‰¯å¥½çš„åº§ä½ä¸Šã€‚

> **ç¤ºä¾‹ 1ï¼š**

<img src="_img/1349.png" style="zoom:55%"/>

```
è¾“å…¥ï¼šseats = [["#",".","#","#",".","#"],
              [".","#","#","#","#","."],
              ["#",".","#","#",".","#"]]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæ•™å¸ˆå¯ä»¥è®© 4 ä¸ªå­¦ç”Ÿååœ¨å¯ç”¨çš„åº§ä½ä¸Šï¼Œè¿™æ ·ä»–ä»¬å°±æ— æ³•åœ¨è€ƒè¯•ä¸­ä½œå¼Šã€‚ 
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šseats = [[".","#"],
              ["#","#"],
              ["#","."],
              ["#","#"],
              [".","#"]]
è¾“å‡ºï¼š3
è§£é‡Šï¼šè®©æ‰€æœ‰å­¦ç”Ÿååœ¨å¯ç”¨çš„åº§ä½ä¸Šã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šseats = [["#",".",".",".","#"],
              [".","#",".","#","."],
              [".",".","#",".","."],
              [".","#",".","#","."],
              ["#",".",".",".","#"]]
è¾“å‡ºï¼š10
è§£é‡Šï¼šè®©å­¦ç”Ÿååœ¨ç¬¬ 1ã€3 å’Œ 5 åˆ—çš„å¯ç”¨åº§ä½ä¸Šã€‚
```

**æç¤ºï¼š**

- `seats` åªåŒ…å«å­—ç¬¦ `'.' å’Œ``'#'`
- `m == seats.length`
- `n == seats[i].length`
- `1 <= m <= 8`
- `1 <= n <= 8`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximum-students-taking-exam/>

#### **æ€è·¯:**

ã€€ã€€çŠ¶æ€å‹ç¼©dpã€‚  

ã€€ã€€å› ä¸º`m`å’Œ`n`çš„èŒƒå›´éƒ½å¾ˆå°ã€‚å› æ­¤å¯ä»¥ç”¨`2^n`ï¼Œå³æœ€å¤§ä¸º`128`çš„æ•°çš„äºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºåæˆ–è€…ä¸åçš„çŠ¶æ€ã€‚  

ã€€ã€€å…ˆå°†åº§ä½ğŸ’ºçš„`"#"`è½¬ä¸º`1`ï¼Œ`"."`è½¬ä¸º`0`ï¼Œå¦‚æœåº§ä½å’Œå½“å‰çŠ¶æ€`ä¸è¿ç®—`ç»“æœä¸º 0ï¼Œè¡¨ç¤ºå¯ä»¥è¿™ä¹ˆåã€‚ä¾‹å¦‚`"#.##.#"`è½¬æˆäºŒè¿›åˆ¶ä¸º`"101101"`ï¼Œå› æ­¤å¯è¡Œçš„åäººæ–¹å¼åªæœ‰`"010010"`ã€`"000010"`å’Œ`"010000"`ä¸‰ç§ã€‚  

ã€€ã€€åˆ¤æ–­å·¦å³æ˜¯å¦åäººå¯ä»¥ç”¨`state & state << 1`å’Œ`state & state >> 1`æ¥åˆ¤æ–­ï¼Œä¹Ÿå¯ä»¥è½¬æˆäºŒè¿›åˆ¶åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦æœ‰`"11"`ã€‚  

ã€€ã€€åˆ¤æ–­å·¦å‰æ–¹å’Œå³å‰æ–¹æ˜¯å¦åäººå¯ä»¥ç”¨`state & pre << 1`å’Œ`state & pre >> 1`æ¥åˆ¤æ–­ã€‚  

ã€€ã€€ä»å‰å¾€ådpï¼Œ`dp[line][s]`è¡¨ç¤ºç¬¬`line`è¡ŒçŠ¶æ€ä¸º`s`æ—¶**æ€»å…±**åçš„äººæ•°ï¼Œæœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹`dp[line][state] = max(dp[line][state],  dp[line-1][pre] + state.count('1')`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def maxStudents(self, seats: List[List[str]]) -> int:
        m = len(seats)
        if not m:
            return 0
        n = len(seats[0])
        dp = [[0 for _ in range(2**n)] for _ in range(m)]   # 8 * 64

        # å°† # è®¾ä¸º 1ï¼Œ. è®¾ä¸º0ï¼Œå¦‚æœä¸è¿ç®—ç»“æœä¸º 0ï¼Œè¡¨ç¤ºå¯ä»¥åäºº
        seats = [int(''.join(line).replace('#', '1').replace('.', '0'), 2) for line in seats]

        for line in range(m):
            for state in range(2 ** n):
                if '11' in bin(state) or seats[line] & state:  # å·¦å³æœ‰äºº æˆ–è€…ä¸åº§ä½å†²çª
                    continue

                for pre in range(2**n):  # å‰é¢çš„çŠ¶æ€
                    if pre & state >> 1 or pre & state << 1:
                        continue
    
                    if line == 0:
                        dp[0][state] = bin(state).count('1')
                    else:
                        dp[line][state] = max(dp[line][state],  dp[line-1][pre] + bin(state).count('1'))

        return max(dp[-1])
      
```

## A1411. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ä½ æœ‰ä¸€ä¸ª `n x 3` çš„ç½‘æ ¼å›¾ `grid` ï¼Œä½ éœ€è¦ç”¨ **çº¢ï¼Œé»„ï¼Œç»¿** ä¸‰ç§é¢œè‰²ä¹‹ä¸€ç»™æ¯ä¸€ä¸ªæ ¼å­ä¸Šè‰²ï¼Œä¸”ç¡®ä¿ç›¸é‚»æ ¼å­é¢œè‰²ä¸åŒï¼ˆä¹Ÿå°±æ˜¯æœ‰ç›¸åŒæ°´å¹³è¾¹æˆ–è€…å‚ç›´è¾¹çš„æ ¼å­é¢œè‰²ä¸åŒï¼‰ã€‚

ç»™ä½ ç½‘æ ¼å›¾çš„è¡Œæ•° `n` ã€‚

è¯·ä½ è¿”å›ç»™ `grid` æ¶‚è‰²çš„æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½ä¼šéå¸¸å¤§ï¼Œè¯·ä½ è¿”å›ç­”æ¡ˆå¯¹ `10^9 + 7` å–ä½™çš„ç»“æœã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š12
è§£é‡Šï¼šæ€»å…±æœ‰ 12 ç§å¯è¡Œçš„æ–¹æ³•ï¼š
```

<img src="_img/5383.png" style="zoom:40%"/>

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š54
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š246
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šn = 7
è¾“å‡ºï¼š106494
```

> **ç¤ºä¾‹ 5ï¼š**

```
è¾“å…¥ï¼šn = 5000
è¾“å‡ºï¼š30228214
```

**æç¤ºï¼š**

- `n == grid.length`
- `grid[i].length == 3`
- `1 <= n <= 5000`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/number-of-ways-to-paint-n-x-3-grid/>

#### **æ€è·¯:**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**é€’å½’æœç´¢ï¼ŒæŒ‰ä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³çš„é¡ºåºæœç´¢ï¼Œå¡«å……å’Œç›¸é‚»æ ¼å­ä¸åŒçš„é¢œè‰²å¹¶è®¡æ•°ã€‚ï¼ˆè¶…æ—¶ï¼‰  

ã€€ã€€**æ–¹æ³•äºŒï¼š**çŠ¶æ€å‹ç¼©dpï¼Œå°†ä¸€è¡Œçœ‹æˆæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œå…±æœ‰`12`ç§å¯èƒ½çš„çŠ¶æ€ï¼Œä¸‹ä¸€è¡Œçš„çŠ¶æ€å’Œä¸Šä¸€è¡Œçš„çŠ¶æ€ä¸å†²çªå³å¯ã€‚è®°å½•æ¯ç§çŠ¶æ€çš„ç§æ•°ï¼Œç»Ÿè®¡æ€»æ•°å³å¯ã€‚  

#### **ä»£ç :**

ã€€ã€€**æ–¹æ³•ä¸€ï¼š**é€’å½’æœç´¢ï¼ˆè¶…æ—¶ï¼‰

```python
sys.setrecursionlimit(1000000000)
def numOfWays(n: int) -> int:
    mem = [[0 for _ in range(3)] for _ in range(n)]  # n * 3

    ans = 0

    def dfs(i, j):
        nonlocal ans

        if i < 0 or j < 0 or i >= n or j >= 3:
            return

        # ä¸‹ä¸€ä¸ªä½ç½®
        if j < 2:
            x, y = i, j + 1
        else:
            x, y = i + 1, 0

        for color in range(1, 4):
            if i > 0 and mem[i - 1][j] == color:
                continue
            if j > 0 and mem[i][j - 1] == color:
                continue
            if i < n - 1 and mem[i + 1][j] == color:
                continue
            if j < 2 and mem[i][j + 1] == color:
                continue

            mem[i][j] = color
            if i == n - 1 and j == 2:
                ans += 1
                # print(mem)
            dfs(x, y)
            mem[i][j] = 0

    dfs(0, 0)
    return ans

```

ã€€ã€€**æ–¹æ³•äºŒï¼š**çŠ¶æ€å‹ç¼©dp

```python
class Solution:
    def numOfWays(self, n: int) -> int:
        state = ['010', '012', '020', '021', '101', '102', '120', '121','201', '202', '210','212']

        dp = [[0 for _ in range(27)] for _ in range(n)]  # n * 12
        for i in range(12):
            dp[0][int(state[i], 3)] = 1

        for i in range(1, n):
            for s1 in state:
                for s2 in state:
                    for k in range(3):
                        if s1[k] == s2[k]:
                            break
                    else:
                        dp[i][int(s2 ,3)] += dp[i-1][int(s1, 3)]


        return sum(dp[-1]) %1000000007
```

## A1416. æ¢å¤æ•°ç»„

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

æŸä¸ªç¨‹åºæœ¬æ¥åº”è¯¥è¾“å‡ºä¸€ä¸ªæ•´æ•°æ•°ç»„ã€‚ä½†æ˜¯è¿™ä¸ªç¨‹åºå¿˜è®°è¾“å‡ºç©ºæ ¼äº†ä»¥è‡´è¾“å‡ºäº†ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æ‰€çŸ¥é“çš„ä¿¡æ¯åªæœ‰ï¼šæ•°ç»„ä¸­æ‰€æœ‰æ•´æ•°éƒ½åœ¨ `[1, k]` ä¹‹é—´ï¼Œä¸”æ•°ç»„ä¸­çš„æ•°å­—éƒ½æ²¡æœ‰å‰å¯¼ 0 ã€‚

ç»™ä½ å­—ç¬¦ä¸² `s` å’Œæ•´æ•° `k` ã€‚å¯èƒ½ä¼šæœ‰å¤šç§ä¸åŒçš„æ•°ç»„æ¢å¤ç»“æœã€‚

æŒ‰ç…§ä¸Šè¿°ç¨‹åºï¼Œè¯·ä½ è¿”å›æ‰€æœ‰å¯èƒ½è¾“å‡ºå­—ç¬¦ä¸² `s` çš„æ•°ç»„æ–¹æ¡ˆæ•°ã€‚

ç”±äºæ•°ç»„æ–¹æ¡ˆæ•°å¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ è¿”å›å®ƒå¯¹ `10^9 + 7` **å–ä½™** åçš„ç»“æœã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "1000", k = 10000
è¾“å‡ºï¼š1
è§£é‡Šï¼šå”¯ä¸€ä¸€ç§å¯èƒ½çš„æ•°ç»„æ–¹æ¡ˆæ˜¯ [1000]
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "1000", k = 10
è¾“å‡ºï¼š0
è§£é‡Šï¼šä¸å­˜åœ¨ä»»ä½•æ•°ç»„æ–¹æ¡ˆæ»¡è¶³æ‰€æœ‰æ•´æ•°éƒ½ >= 1 ä¸” <= 10 åŒæ—¶è¾“å‡ºç»“æœä¸º s ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "1317", k = 2000
è¾“å‡ºï¼š8
è§£é‡Šï¼šå¯è¡Œçš„æ•°ç»„æ–¹æ¡ˆä¸º [1317]ï¼Œ[131,7]ï¼Œ[13,17]ï¼Œ[1,317]ï¼Œ[13,1,7]ï¼Œ[1,31,7]ï¼Œ[1,3,17]ï¼Œ[1,3,1,7]
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šs = "2020", k = 30
è¾“å‡ºï¼š1
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„æ•°ç»„æ–¹æ¡ˆæ˜¯ [20,20] ã€‚ [2020] ä¸æ˜¯å¯è¡Œçš„æ•°ç»„æ–¹æ¡ˆï¼ŒåŸå› æ˜¯ 2020 > 30 ã€‚ [2,020] ä¹Ÿä¸æ˜¯å¯è¡Œçš„æ•°ç»„æ–¹æ¡ˆï¼Œå› ä¸º 020 å«æœ‰å‰å¯¼ 0 ã€‚
```

> **ç¤ºä¾‹ 5ï¼š**

```
è¾“å…¥ï¼šs = "1234567890", k = 90
è¾“å‡ºï¼š34
```

**æç¤ºï¼š**

- `1 <= s.length <= 10^5`.
- `s` åªåŒ…å«æ•°å­—ä¸”ä¸åŒ…å«å‰å¯¼ 0 ã€‚
- `1 <= k <= 10^9`.

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/restore-the-array/>

#### **æ€è·¯:**

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚`dp[i]`è¡¨ç¤º`s[:i]`çš„åˆ†å‰²ç§æ•°ã€‚ä¸ºäº†æ–¹ä¾¿ä»¤`dp[0] = 1`ã€‚    

ã€€ã€€è½¬ç§»æ–¹ç¨‹`dp[i] = sum(dp[0:i])`ï¼Œæ³¨æ„æŠŠå‰å¯¼`0`å’Œå¤§äº`k`çš„æƒ…å†µæ’é™¤ä¸€ä¸‹ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def numberOfArrays(self, s: str, k: int) -> int:
        lk = len(str(k))
        n = len(s)
        dp = [0] * (n + 1)  # dp[i] åœ¨iä¹‹å‰çš„ä½ç½®åŠ ï¼Œ
        dp[0] = 1  # ä¸splitæ˜¯ä¸€ç§
        for i in range(1, n + 1):
            if i < n and s[i] == '0':
                continue

            for j in range(i - 1, -1, -1):
                if int(s[j:i]) <= k:
                    dp[i] += dp[j] % 1000000007
                else:
                    break

        return dp[-1] % 1000000007

```

## A1420. ç”Ÿæˆæ•°ç»„

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸‰ä¸ªæ•´æ•° `n`ã€`m` å’Œ `k` ã€‚ä¸‹å›¾æè¿°çš„ç®—æ³•ç”¨äºæ‰¾å‡ºæ­£æ•´æ•°æ•°ç»„ä¸­æœ€å¤§çš„å…ƒç´ ã€‚

<img src="_img/5391.png" style="zoom:100%"/>  

è¯·ä½ ç”Ÿæˆä¸€ä¸ªå…·æœ‰ä¸‹è¿°å±æ€§çš„æ•°ç»„ `arr` ï¼š

- `arr` ä¸­æœ‰ `n` ä¸ªæ•´æ•°ã€‚
- `1 <= arr[i] <= m` å…¶ä¸­ `(0 <= i < n)` ã€‚
- å°†ä¸Šé¢æåˆ°çš„ç®—æ³•åº”ç”¨äº `arr` ï¼Œ`search_cost` çš„å€¼ç­‰äº `k` ã€‚

è¿”å›ä¸Šè¿°æ¡ä»¶ä¸‹ç”Ÿæˆæ•°ç»„ `arr` çš„ **æ–¹æ³•æ•°** ï¼Œç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥ **å¿…é¡»** å¯¹ `10^9 + 7` å–ä½™ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 2, m = 3, k = 1
è¾“å‡ºï¼š6
è§£é‡Šï¼šå¯èƒ½çš„æ•°ç»„åˆ†åˆ«ä¸º [1, 1], [2, 1], [2, 2], [3, 1], [3, 2] [3, 3]
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 5, m = 2, k = 3
è¾“å‡ºï¼š0
è§£é‡Šï¼šæ²¡æœ‰æ•°ç»„å¯ä»¥æ»¡è¶³ä¸Šè¿°æ¡ä»¶
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šn = 9, m = 1, k = 1
è¾“å‡ºï¼š1
è§£é‡Šï¼šå¯èƒ½çš„æ•°ç»„åªæœ‰ [1, 1, 1, 1, 1, 1, 1, 1, 1]
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šn = 50, m = 100, k = 25
è¾“å‡ºï¼š34549172
è§£é‡Šï¼šä¸è¦å¿˜äº†å¯¹ 1000000007 å–ä½™
```

> **ç¤ºä¾‹ 5ï¼š**

```
è¾“å…¥ï¼šn = 37, m = 17, k = 7
è¾“å‡ºï¼š418930126
```

**æç¤ºï¼š**

- `1 <= n <= 50`
- `1 <= m <= 100`
- `0 <= k <= n`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/build-array-where-you-can-find-the-maximum-exactly-k-comparisons/>

#### **æ€è·¯:**

ã€€ã€€è¿™é“é¢˜ä¸­`search_cost`çš„æ›´æ–°è§„åˆ™ä¸ºï¼Œå¦‚æœ`arr[i] > arr[i-1]`ï¼Œåˆ™`search_cost+1`ã€‚  

ã€€ã€€æ‰€ä»¥è¿™é¢˜ä¹Ÿå°±æ˜¯æ±‚**æ°å¥½æœ‰ï¼ˆk-1ï¼‰ä¸ªæ•°å¤§äºå®ƒå‰é¢çš„æœ€å¤§å€¼**çš„`arr`çš„ç§ç±»æ•°ã€‚  

ã€€ã€€ä»¤`dp[i][j][kk]`è¡¨ç¤º`arr[:i]`æœ€å¤§å…ƒç´ ä¸º`j`ä¸”`search_cost = kk`èƒ½è¡¨ç¤ºçš„ç§æ•°ã€‚  

ã€€ã€€å‡è®¾å½“å‰æ•°ç»„æœ€å¤§çš„å…ƒç´ ä¸º`j`ï¼Œå¦‚æœå¢åŠ ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä¿æŒ`k`ä¿æŒä¸å˜çš„è¯ï¼Œå¢åŠ çš„æ–°çš„å…ƒç´ ä¸èƒ½è¶…è¿‡`j`ï¼Œä¹Ÿå°±æ˜¯å–å€¼èŒƒå›´`[1, j]`ï¼Œå…±æœ‰`j`ç§å¯èƒ½ã€‚è¿™ä¸€éƒ¨åˆ†è¡¨ç¤ºä¸º`dp[i - 1][j][kk] * j`ã€‚  

ã€€ã€€å¦‚æœå¢åŠ ä¸€ä¸ªå…ƒç´ ï¼Œä¼šä½¿å¾—`kk+1`ï¼Œé‚£ä¹ˆå¢åŠ çš„å…ƒç´ ä¸€å®šæ˜¯æœ€å¤§çš„`j`ï¼Œè¿™ä¸€éƒ¨åˆ†å…±æœ‰sum(`dp[i - 1][1: j][kk-1]`)ç§å¯èƒ½æ€§ã€‚  

ã€€ã€€å› æ­¤é€’æ¨å…¬å¼`dp[i][j][kk] = dp[i - 1][j][kk] * j +sum(dp[i - 1][1: j][kk-1])`ã€‚

#### **ä»£ç :**

```python
class Solution:
    def numOfArrays(self, n: int, m: int, k: int) -> int:
        dp = [[[0 for _ in range(k + 1)] for _ in range(m + 1)] for _ in range(n)]
        for j in range(1, m + 1):
            dp[0][j][1] = 1

        for i in range(1, n):
            for kk in range(1, k + 1):           
                acc = 0
                for j in range(1, m + 1):
                    dp[i][j][kk] = dp[i - 1][j][kk] * j + acc
                    acc += dp[i - 1][j][kk - 1]

        ans = 0
        for line in dp[n - 1]:
            ans += line[k]
        return ans % 1000000007

```

## A1423. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

å‡ å¼ å¡ç‰Œ **æ’æˆä¸€è¡Œ**ï¼Œæ¯å¼ å¡ç‰Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç‚¹æ•°ã€‚ç‚¹æ•°ç”±æ•´æ•°æ•°ç»„ `cardPoints` ç»™å‡ºã€‚

æ¯æ¬¡è¡ŒåŠ¨ï¼Œä½ å¯ä»¥ä»è¡Œçš„å¼€å¤´æˆ–è€…æœ«å°¾æ‹¿ä¸€å¼ å¡ç‰Œï¼Œæœ€ç»ˆä½ å¿…é¡»æ­£å¥½æ‹¿ `k` å¼ å¡ç‰Œã€‚

ä½ çš„ç‚¹æ•°å°±æ˜¯ä½ æ‹¿åˆ°æ‰‹ä¸­çš„æ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `cardPoints` å’Œæ•´æ•° `k`ï¼Œè¯·ä½ è¿”å›å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šcardPoints = [1,2,3,4,5,6,1], k = 3
è¾“å‡ºï¼š12
è§£é‡Šï¼šç¬¬ä¸€æ¬¡è¡ŒåŠ¨ï¼Œä¸ç®¡æ‹¿å“ªå¼ ç‰Œï¼Œä½ çš„ç‚¹æ•°æ€»æ˜¯ 1 ã€‚ä½†æ˜¯ï¼Œå…ˆæ‹¿æœ€å³è¾¹çš„å¡ç‰Œå°†ä¼šæœ€å¤§åŒ–ä½ çš„å¯è·å¾—ç‚¹æ•°ã€‚æœ€ä¼˜ç­–ç•¥æ˜¯æ‹¿å³è¾¹çš„ä¸‰å¼ ç‰Œï¼Œæœ€ç»ˆç‚¹æ•°ä¸º 1 + 6 + 5 = 12 ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šcardPoints = [2,2,2], k = 2
è¾“å‡ºï¼š4
è§£é‡Šï¼šæ— è®ºä½ æ‹¿èµ·å“ªä¸¤å¼ å¡ç‰Œï¼Œå¯è·å¾—çš„ç‚¹æ•°æ€»æ˜¯ 4 ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šcardPoints = [9,7,7,9,7,7,9], k = 7
è¾“å‡ºï¼š55
è§£é‡Šï¼šä½ å¿…é¡»æ‹¿èµ·æ‰€æœ‰å¡ç‰Œï¼Œå¯ä»¥è·å¾—çš„ç‚¹æ•°ä¸ºæ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šcardPoints = [1,1000,1], k = 1
è¾“å‡ºï¼š1
è§£é‡Šï¼šä½ æ— æ³•æ‹¿åˆ°ä¸­é—´é‚£å¼ å¡ç‰Œï¼Œæ‰€ä»¥å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ä¸º 1 ã€‚ 
```

> **ç¤ºä¾‹ 5ï¼š**

```
è¾“å…¥ï¼šcardPoints = [1,79,80,1,1,1,200,1], k = 3
è¾“å‡ºï¼š202
```

**æç¤ºï¼š**

- `1 <= cardPoints.length <= 10^5`
- `1 <= cardPoints[i] <= 10^4`
- `1 <= k <= cardPoints.length`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/>

#### **æ€è·¯:**

ã€€ã€€å› ä¸ºæ‹¿æ‰çš„ç‰Œ**å›ºå®šä¸º**`k`å¼ ï¼Œå› æ­¤å‰©ä¸‹çš„å°±æ˜¯ä¸­é—´çš„`n-k`å¼ ï¼Œç»´æŠ¤ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæ±‚ä¸­é—´`n-k`å¼ çš„æœ€å°å€¼å³å¯ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def maxScore(self, cardPoints: List[int], k: int) -> int:
        n = len(cardPoints) - k
        if n == 0:
            return sum(cardPoints)
        left = 0
        wnd = 0
        ans = inf
        for right, num in enumerate(cardPoints):  # cardPoints[left: right+1]
            wnd += num
                
            if right + 1 - left == n:  # çª—å£å†…çš„æ•°é‡æ­£å¥½ä¸ºn
                ans = min(ans, wnd)
                wnd -= cardPoints[left]  # å‡æ‰ä¸€ä¸ª
                left += 1
            
        return sum(cardPoints) - ans

```



## A1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ è¿”å› **éç©º** å­åºåˆ—å…ƒç´ å’Œçš„æœ€å¤§å€¼ï¼Œå­åºåˆ—éœ€è¦æ»¡è¶³ï¼šå­åºåˆ—ä¸­æ¯ä¸¤ä¸ª **ç›¸é‚»** çš„æ•´æ•° `nums[i]` å’Œ `nums[j]` ï¼Œå®ƒä»¬åœ¨åŸæ•°ç»„ä¸­çš„ä¸‹æ ‡ `i` å’Œ `j` æ»¡è¶³ `i < j` ä¸” `j - i <= k` ã€‚

æ•°ç»„çš„å­åºåˆ—å®šä¹‰ä¸ºï¼šå°†æ•°ç»„ä¸­çš„è‹¥å¹²ä¸ªæ•°å­—åˆ é™¤ï¼ˆå¯ä»¥åˆ é™¤ 0 ä¸ªæ•°å­—ï¼‰ï¼Œå‰©ä¸‹çš„æ•°å­—æŒ‰ç…§åŸæœ¬çš„é¡ºåºæ’å¸ƒã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [10,2,-10,5,20], k = 2
è¾“å‡ºï¼š37
è§£é‡Šï¼šå­åºåˆ—ä¸º [10, 2, 5, 20] ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [-1,-2,-3], k = 1
è¾“å‡ºï¼š-1
è§£é‡Šï¼šå­åºåˆ—å¿…é¡»æ˜¯éç©ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æœ€å¤§çš„æ•°å­—ã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [10,-2,-10,-5,20], k = 2
è¾“å‡ºï¼š23
è§£é‡Šï¼šå­åºåˆ—ä¸º [10, -2, -5, 20] ã€‚
```

**æç¤ºï¼š**

- `1 <= k <= nums.length <= 10^5`
- `-10^4 <= nums[i] <= 10^4`

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/constrained-subset-sum/>

#### **æ€è·¯:**

ã€€ã€€åŠ¨æ€è§„åˆ’ã€‚ä»¤`dp[i]`è¡¨ç¤ºé€‰æ‹©ä¸‹æ ‡ä¸º`i`çš„å…ƒç´ æ—¶èƒ½é€‰æ‹©çš„æœ€å¤§å­åºå’Œï¼Œå› ä¸ºé€‰æ‹©çš„ä¸¤ä¸ªå…ƒç´ ä¸‹æ ‡ä¹‹å·®ä¸èƒ½å¤§äº`k`ï¼Œå› æ­¤æœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹`dp[i] = max(0, max(dp[i-k: i])) + nums[i]`ã€‚  

ã€€ã€€ç”±äºé¢˜ç›®çš„èŒƒå›´è¾ƒå¤§ï¼Œä¸èƒ½æš´åŠ›è®¡ç®—`max(dp[i-k: i])`ï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ª**æœ€å¤§å †**æ¥ä¿å­˜`dp[i-k: i]`çš„æœ€å¤§å€¼ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def constrainedSubsetSum(self, nums: List[int], k: int) -> int:
        n = len(nums)
        dp = [0] * n
        heap = []
        ans = nums[0]
        for i in range(n):
            num = nums[i]
            
            dp_j = float('inf')
            while heap:
                dp_j, j = heapq.heappop(heap)
                if j >= i - k:
                    heapq.heappush(heap, (dp_j, j))  # æ”¾å›å»
                    break
            
            dp[i] = max(0, -dp_j) + num
            print(i, dp[i])
            
            if dp[i] > 0:
                heapq.heappush(heap, (-dp[i], i))
            
            ans = max(ans, dp[i])
       
        return(ans)

```






## A1434. æ¯ä¸ªäººæˆ´ä¸åŒå¸½å­çš„æ–¹æ¡ˆæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

æ€»å…±æœ‰ `n` ä¸ªäººå’Œ `40` ç§ä¸åŒçš„å¸½å­ï¼Œå¸½å­ç¼–å·ä» `1` åˆ° `40` ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°åˆ—è¡¨çš„åˆ—è¡¨ `hats` ï¼Œå…¶ä¸­ `hats[i]` æ˜¯ç¬¬ `i` ä¸ªäººæ‰€æœ‰å–œæ¬¢å¸½å­çš„åˆ—è¡¨ã€‚

è¯·ä½ ç»™æ¯ä¸ªäººå®‰æ’ä¸€é¡¶ä»–å–œæ¬¢çš„å¸½å­ï¼Œç¡®ä¿æ¯ä¸ªäººæˆ´çš„å¸½å­è·Ÿåˆ«äººéƒ½ä¸ä¸€æ ·ï¼Œå¹¶è¿”å›æ–¹æ¡ˆæ•°ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¿”å›å®ƒå¯¹ `10^9 + 7` å–ä½™åçš„ç»“æœã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šhats = [[3,4],[4,5],[5]]
è¾“å‡ºï¼š1
è§£é‡Šï¼šç»™å®šæ¡ä»¶ä¸‹åªæœ‰ä¸€ç§æ–¹æ³•é€‰æ‹©å¸½å­ã€‚
ç¬¬ä¸€ä¸ªäººé€‰æ‹©å¸½å­ 3ï¼Œç¬¬äºŒä¸ªäººé€‰æ‹©å¸½å­ 4ï¼Œæœ€åä¸€ä¸ªäººé€‰æ‹©å¸½å­ 5ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhats = [[3,5,1],[3,5]]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæ€»å…±æœ‰ 4 ç§å®‰æ’å¸½å­çš„æ–¹æ³•ï¼š
(3,5)ï¼Œ(5,3)ï¼Œ(1,3) å’Œ (1,5)
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šhats = [[1,2,3,4],[1,2,3,4],[1,2,3,4],[1,2,3,4]]
è¾“å‡ºï¼š24
è§£é‡Šï¼šæ¯ä¸ªäººéƒ½å¯ä»¥ä»ç¼–å·ä¸º 1 åˆ° 4 çš„å¸½å­ä¸­é€‰ã€‚
(1,2,3,4) 4 ä¸ªå¸½å­çš„æ’åˆ—æ–¹æ¡ˆæ•°ä¸º 24 ã€‚
```

> **ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šhats = [[1,2,3],[2,3,5,6],[1,3,7,9],[1,8,9],[2,5,7]]
è¾“å‡ºï¼š111
```

**æç¤ºï¼š**

- `n == hats.length`
- `1 <= n <= 10`
- `1 <= hats[i].length <= 40`
- `1 <= hats[i][j] <= 40`
- `hats[i]` åŒ…å«ä¸€ä¸ªæ•°å­—äº’ä¸ç›¸åŒçš„æ•´æ•°åˆ—è¡¨ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/number-of-ways-to-wear-different-hats-to-each-other/>

#### **æ€è·¯:**

ã€€ã€€ç”±äºå¸½å­çš„æ•°é‡ç›¸å¯¹è¾ƒå¤§ï¼Œè€Œäººæ•°ç›¸å¯¹è¾ƒå°ã€‚å¯ä»¥åè¿‡æ¥è€ƒè™‘æ¯é¡¶å¸½å­å–œæ¬¢çš„äººã€‚  

ã€€ã€€çŠ¶æ€å‹ç¼©dpã€‚`n`ä¸ªäººæ˜¯å¦é€‰äº†å–œæ¬¢çš„å¸½å­çš„çŠ¶æ€ï¼Œå¯ä»¥ç”¨`n`ä½äºŒè¿›åˆ¶æ¥è¡¨ç¤ºã€‚`dp[status]`è¡¨ç¤ºæŸç§çŠ¶æ€çš„ç§æ•°ã€‚é€‰äº†å¸½å­çš„äººå°±ä¸èƒ½å†æ¬¡é€‰å¸½å­ï¼Œå› æ­¤çŠ¶æ€è½¬ç§»æ–¹ç¨‹`dp'[cur | j] += dp[j]`ï¼Œå…¶ä¸­`j & cur == 0`ã€‚  

ã€€ã€€å› ä¸ºæœ€åæ‰€æœ‰äººçš„éƒ½è¦é€‰å¸½å­ï¼Œæ‰€ä»¥è¿”å›çš„ç»“æœä¸º`dp['1111..111']`(nä¸ª'1')ï¼Œä¹Ÿå°±æ˜¯`dp[2^n-1]`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def numberWays(self, hats: List[List[int]]) -> int:
        n = len(hats)

        # dp[]
        shown = set()  # æ‰€æœ‰çš„å¸½å­
        for line in hats:
            shown.update(set(line))

        # dp[status]

        mem = defaultdict(list)  # æ¯é¡¶å¸½å­å–œæ¬¢çš„äºº
        for i, line in enumerate(hats):
            for hat in line:
                mem[hat].append(i)

        dp = [0] * 2 ** n
        dp[0] = 1
        for i in range(1, len(shown) + 1):
            temp = dp.copy()
            hat = shown.pop()  # ä¸‹ä¸€é¡¶å¸½å­hat
            for j in range(2 ** n):
                if dp[j] == 0:  # jçš„æƒ…å†µä¸å¯èƒ½å‡ºç°
                    continue
                for person in mem[hat]:  # è¿™é¡¶å¸½å­hatå–œæ¬¢çš„æ‰€æœ‰äºº
                    cur = 1 << person  # è¿™ä¸ªäººçš„äºŒè¿›åˆ¶ç¼–ç 
                    if cur & j:  # è¿™ä¸ªäººå·²ç»æœ‰äº†å–œæ¬¢çš„å¸½å­
                        continue
                    temp[cur | j] += dp[j]  # æ›´æ–°æ–°çš„çŠ¶æ€

            dp = temp

        # print(shown)

        return dp[-1] % (1000000000 + 7)

```

## A1444. åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ª `rows x cols` å¤§å°çš„çŸ©å½¢æŠ«è¨å’Œä¸€ä¸ªæ•´æ•° `k` ï¼ŒçŸ©å½¢åŒ…å«ä¸¤ç§å­—ç¬¦ï¼š `'A'` ï¼ˆè¡¨ç¤ºè‹¹æœï¼‰å’Œ `'.'` ï¼ˆè¡¨ç¤ºç©ºç™½æ ¼å­ï¼‰ã€‚ä½ éœ€è¦åˆ‡æŠ«è¨ `k-1` æ¬¡ï¼Œå¾—åˆ° `k` å—æŠ«è¨å¹¶é€ç»™åˆ«äººã€‚

åˆ‡æŠ«è¨çš„æ¯ä¸€åˆ€ï¼Œå…ˆè¦é€‰æ‹©æ˜¯å‘å‚ç›´è¿˜æ˜¯æ°´å¹³æ–¹å‘åˆ‡ï¼Œå†åœ¨çŸ©å½¢çš„è¾¹ç•Œä¸Šé€‰ä¸€ä¸ªåˆ‡çš„ä½ç½®ï¼Œå°†æŠ«è¨ä¸€åˆ†ä¸ºäºŒã€‚å¦‚æœå‚ç›´åœ°åˆ‡æŠ«è¨ï¼Œé‚£ä¹ˆéœ€è¦æŠŠå·¦è¾¹çš„éƒ¨åˆ†é€ç»™ä¸€ä¸ªäººï¼Œå¦‚æœæ°´å¹³åœ°åˆ‡ï¼Œé‚£ä¹ˆéœ€è¦æŠŠä¸Šé¢çš„éƒ¨åˆ†é€ç»™ä¸€ä¸ªäººã€‚åœ¨åˆ‡å®Œæœ€åä¸€åˆ€åï¼Œéœ€è¦æŠŠå‰©ä¸‹æ¥çš„ä¸€å—é€ç»™æœ€åä¸€ä¸ªäººã€‚

è¯·ä½ è¿”å›ç¡®ä¿æ¯ä¸€å—æŠ«è¨åŒ…å« **è‡³å°‘** ä¸€ä¸ªè‹¹æœçš„åˆ‡æŠ«è¨æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½æ˜¯ä¸ªå¾ˆå¤§çš„æ•°å­—ï¼Œè¯·ä½ è¿”å›å®ƒå¯¹ 10^9 + 7 å–ä½™çš„ç»“æœã€‚

> **ç¤ºä¾‹ 1ï¼š**

<img src="_img/5407.png" style="zoom:40%"/>

```
è¾“å…¥ï¼špizza = ["A..","AAA","..."], k = 3
è¾“å‡ºï¼š3 
è§£é‡Šï¼šä¸Šå›¾å±•ç¤ºäº†ä¸‰ç§åˆ‡æŠ«è¨çš„æ–¹æ¡ˆã€‚æ³¨æ„æ¯ä¸€å—æŠ«è¨éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªè‹¹æœã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼špizza = ["A..","AA.","..."], k = 3
è¾“å‡ºï¼š1
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼špizza = ["A..","A..","..."], k = 1
è¾“å‡ºï¼š1
```

**æç¤ºï¼š**

- `1 <= rows, cols <= 50`
- `rows == pizza.length`
- `cols == pizza[i].length`
- `1 <= k <= 10`
- `pizza` åªåŒ…å«å­—ç¬¦ `'A'` å’Œ `'.'` ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/number-of-ways-of-cutting-a-pizza/>

#### **æ€è·¯:**

ã€€ã€€ç”±äºè¦å¤šæ¬¡æŸ¥è¯¢çŸ©å½¢åŒºåŸŸå†…æœ‰æ²¡æœ‰è‹¹æœï¼Œå› æ­¤å…ˆç”¨`has_apple[x1][x2][y1][y2]`è¡¨ç¤º`pizza[x1:x2][y1:y2]`çš„èŒƒå›´å†…æœ‰æ²¡æœ‰è‹¹æœã€‚  

ã€€ã€€`dp[i][j][k]`è¡¨ç¤ºï¼ŒçŸ©å½¢`[i:n][j:m]` åˆ‡å‰²äº†`k`æ¬¡çš„æ–¹æ¡ˆæ•°ï¼Œç„¶åç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ã€‚æ³¨æ„æ¯æ¬¡åˆ‡å‰²è¦ä¿è¯åˆ‡å‡ºæ¥çš„ä¸¤å—çŸ©å½¢åŒºåŸŸéƒ½æœ‰è‹¹æœğŸã€‚    ã€€

#### **ä»£ç :**

```python
from collections import defaultdict

class Solution:
    def ways(self, pizza: List[str], k: int) -> int:
        m = len(pizza)
        n = len(pizza[0])
        # dp = [[] for _ in range(k+1)]
        dp = {(0,0):1}
        
        has_apple = [[[[False for _ in range(n+1)] for _ in range(n+1)] for _ in range(m+1)] for _ in range(m+1)]   # m m n n
        for x1 in range(m):
            for x2 in range(x1+1, m+1):
                for y1 in range(n):
                    for y2 in range(y1+1, n+1):
                        if pizza[x2-1][y2-1] == 'A':
                            has_apple[x1][x2][y1][y2] = True
                            continue      
                        
                        has_apple[x1][x2][y1][y2] = has_apple[x1][x2-1][y1][y2] or  has_apple[x1][x2][y1][y2-1]
                    
                            
        
        # has_apple(x1, x2, y1, y2):  # pizza[x1:x2][y1:y2] æœ‰æ²¡æœ‰è‹¹æœ
            
        # print(has_apple)
            
        for kk in range(1, k):
            temp = defaultdict(int)
            for lm, ln in dp:  # ä¹‹å‰çš„æƒ…å†µ
                count = dp[(lm, ln)]
                for i in range(lm+1, m):  # æŒ‰è¡Œåˆ‡
                    if has_apple[lm][i][ln][n] and has_apple[i][m][ln][n]:                
                        temp[(i,ln)] += count
                for j in range(ln+1, n):  # æŒ‰åˆ—åˆ‡
                    if has_apple[lm][m][ln][j] and has_apple[lm][m][j][n]:     
                        temp[(lm, j)] += count
                
            # print(temp)
            dp = temp
            
        return sum(dp.values()) % (1000000000 + 7)

```

## A1569. å°†å­æ•°ç»„é‡æ–°æ’åºå¾—åˆ°åŒä¸€ä¸ªäºŒå‰æŸ¥æ‰¾æ ‘çš„æ–¹æ¡ˆæ•°

éš¾åº¦`å›°éš¾`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `nums` è¡¨ç¤º `1` åˆ° `n` çš„ä¸€ä¸ªæ’åˆ—ã€‚æˆ‘ä»¬æŒ‰ç…§å…ƒç´ åœ¨ `nums` ä¸­çš„é¡ºåºä¾æ¬¡æ’å…¥ä¸€ä¸ªåˆå§‹ä¸ºç©ºçš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰ã€‚è¯·ä½ ç»Ÿè®¡å°† `nums` é‡æ–°æ’åºåï¼Œç»Ÿè®¡æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„æ–¹æ¡ˆæ•°ï¼šé‡æ’åå¾—åˆ°çš„äºŒå‰æŸ¥æ‰¾æ ‘ä¸ `nums` åŸæœ¬æ•°å­—é¡ºåºå¾—åˆ°çš„äºŒå‰æŸ¥æ‰¾æ ‘ç›¸åŒã€‚

æ¯”æ–¹è¯´ï¼Œç»™ä½  `nums = [2,1,3]`ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€æ£µ 2 ä¸ºæ ¹ï¼Œ1 ä¸ºå·¦å­©å­ï¼Œ3 ä¸ºå³å­©å­çš„æ ‘ã€‚æ•°ç»„ `[2,3,1]` ä¹Ÿèƒ½å¾—åˆ°ç›¸åŒçš„ BSTï¼Œä½† `[3,2,1]` ä¼šå¾—åˆ°ä¸€æ£µä¸åŒçš„ BST ã€‚

è¯·ä½ è¿”å›é‡æ’ `nums` åï¼Œä¸åŸæ•°ç»„ `nums` å¾—åˆ°ç›¸åŒäºŒå‰æŸ¥æ‰¾æ ‘çš„æ–¹æ¡ˆæ•°ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·å°†ç»“æœå¯¹ `10^9 + 7` å–ä½™æ•°ã€‚

> **ç¤ºä¾‹ 1ï¼š**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/08/30/bb.png)

```
è¾“å…¥ï¼šnums = [2,1,3]
è¾“å‡ºï¼š1
è§£é‡Šï¼šæˆ‘ä»¬å°† nums é‡æ’ï¼Œ [2,3,1] èƒ½å¾—åˆ°ç›¸åŒçš„ BST ã€‚æ²¡æœ‰å…¶ä»–å¾—åˆ°ç›¸åŒ BST çš„æ–¹æ¡ˆäº†ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

**![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/08/30/ex1.png)**

```
è¾“å…¥ï¼šnums = [3,4,5,1,2]
è¾“å‡ºï¼š5
è§£é‡Šï¼šä¸‹é¢ 5 ä¸ªæ•°ç»„ä¼šå¾—åˆ°ç›¸åŒçš„ BSTï¼š
[3,1,2,4,5]
[3,1,4,2,5]
[3,1,4,5,2]
[3,4,1,2,5]
[3,4,1,5,2]
```

> **ç¤ºä¾‹ 3ï¼š**

**![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/08/30/ex4.png)**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š0
è§£é‡Šï¼šæ²¡æœ‰åˆ«çš„æ’åˆ—é¡ºåºèƒ½å¾—åˆ°ç›¸åŒçš„ BST ã€‚
```

> **ç¤ºä¾‹ 4ï¼š**

**![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/08/30/abc.png)**

```
è¾“å…¥ï¼šnums = [3,1,2,5,4,6]
è¾“å‡ºï¼š19
```

> **ç¤ºä¾‹  5ï¼š**

```
è¾“å…¥ï¼šnums = [9,4,2,1,3,6,5,7,8,14,11,10,12,13,16,15,17,18]
è¾“å‡ºï¼š216212978
è§£é‡Šï¼šå¾—åˆ°ç›¸åŒ BST çš„æ–¹æ¡ˆæ•°æ˜¯ 3216212999ã€‚å°†å®ƒå¯¹ 10^9 + 7 å–ä½™åå¾—åˆ° 216212978ã€‚
```

**æç¤ºï¼š**

- `1 <= nums.length <= 1000`
- `1 <= nums[i] <= nums.length`
- `nums` ä¸­æ‰€æœ‰æ•° **äº’ä¸ç›¸åŒ** ã€‚

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/number-of-ways-to-reorder-array-to-get-same-bst/>

#### **æ€è·¯:**

ã€€ã€€åˆ†æ²»æ³•ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€å®šæ”¾åœ¨æ ¹ç»“ç‚¹ï¼›æ¯”ç¬¬ä¸€ä¸ªå…ƒç´ å°çš„å…ƒç´ æ”¾åœ¨å·¦å­æ ‘ï¼Œæ¯”ç¬¬ä¸€ä¸ªå…ƒç´ å¤§çš„å…ƒç´ æ”¾åœ¨å³å­æ ‘ã€‚  

ã€€ã€€å…ˆè®¡ç®—å·¦å­æ ‘çš„æƒ…å†µæ•°`left`ï¼Œå†è®¡ç®—å³å­æ ‘çš„æƒ…å†µæ•°`right`ï¼Œå·¦å³å­æ ‘å¯ä»¥äº’ç›¸äº¤é”™æ’åˆ—ï¼Œåªè¦ä¿æŒå…¶åœ¨å„è‡ªæ•°ç»„ä¸­çš„ä½ç½®ä¸å˜å³å¯ï¼Œå› æ­¤æ€»çš„æƒ…å†µæ•°ä¸º`left Ã— right Ã— C(å·¦å³å­æ ‘ç»“ç‚¹æ•°å’Œ, å·¦å­æ ‘ç»“ç‚¹æ•°)`ã€‚  

#### **ä»£ç :**

```python
class Solution:
    def numOfWays(self, nums: List[int]) -> int:
        def helper(nums):
            if len(nums) <= 2:
                return 1
            root = nums[0]
            less = list(filter(lambda x: x<root, nums))
            more = list(filter(lambda x: x>root, nums))
            return helper(less) * helper(more) * comb(len(nums)-1, len(more))

        return((helper(nums)-1) % 1000000007)

```


## A1578. é¿å…é‡å¤å­—æ¯çš„æœ€å°åˆ é™¤æˆæœ¬

éš¾åº¦`ä¸­ç­‰`

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•°æ•°ç»„ `cost` ï¼Œå…¶ä¸­ `cost[i]` æ˜¯ä» `s` ä¸­åˆ é™¤å­—ç¬¦ `i` çš„ä»£ä»·ã€‚

è¿”å›ä½¿å­—ç¬¦ä¸²ä»»æ„ç›¸é‚»ä¸¤ä¸ªå­—æ¯ä¸ç›¸åŒçš„æœ€å°åˆ é™¤æˆæœ¬ã€‚

è¯·æ³¨æ„ï¼Œåˆ é™¤ä¸€ä¸ªå­—ç¬¦åï¼Œåˆ é™¤å…¶ä»–å­—ç¬¦çš„æˆæœ¬ä¸ä¼šæ”¹å˜ã€‚

> **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "abaac", cost = [1,2,3,4,5]
è¾“å‡ºï¼š3
è§£é‡Šï¼šåˆ é™¤å­—æ¯ "a" çš„æˆæœ¬ä¸º 3ï¼Œç„¶åå¾—åˆ° "abac"ï¼ˆå­—ç¬¦ä¸²ä¸­ç›¸é‚»ä¸¤ä¸ªå­—æ¯ä¸ç›¸åŒï¼‰ã€‚
```

> **ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "abc", cost = [1,2,3]
è¾“å‡ºï¼š0
è§£é‡Šï¼šæ— éœ€åˆ é™¤ä»»ä½•å­—æ¯ï¼Œå› ä¸ºå­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨ç›¸é‚»ä¸¤ä¸ªå­—æ¯ç›¸åŒçš„æƒ…å†µã€‚
```

> **ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "aabaa", cost = [1,2,3,4,1]
è¾“å‡ºï¼š2
è§£é‡Šï¼šåˆ é™¤ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå­—æ¯ï¼Œå¾—åˆ°å­—ç¬¦ä¸² ("aba") ã€‚
```

**æç¤ºï¼š**

- `s.length == cost.length`
- `1 <= s.length, cost.length <= 10^5`
- `1 <= cost[i] <= 10^4`
- `s` ä¸­åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯

#### é¢˜ç›®é“¾æ¥

<https://leetcode-cn.com/problems/minimum-deletion-cost-to-avoid-repeating-letters/>

#### **æ€è·¯:**

ã€€ã€€æœ‰è´ªå¿ƒç®—æ³•çš„æ€æƒ³ï¼Œå¦‚æœç›¸é‚»çš„ä¸¤ä¸ªå­—æ¯ç›¸åŒï¼Œå°±åˆ é™¤èŠ±è´¹å°çš„é‚£ä¸ªã€‚  

ã€€ã€€åˆå§‹æ—¶ç»´æŠ¤ä¸€ä¸ªç©ºçš„æ•°ç»„`a`ï¼Œå°†`s`ä¸­çš„å­—æ¯é€ä¸ªæ·»åŠ åˆ°`a`ä¸­ï¼Œå¦‚æœ`s`ä¸­ç¬¬`i`ä¸ªå­—æ¯ä¸`a`æœ€åä¸€ä¸ªå­—æ¯ç›¸åŒï¼Œæ¯”è¾ƒä»–ä»¬çš„`cost`ï¼Œå°†`cost`å°çš„åˆ é™¤ï¼Œ`cost`å¤§çš„ä¿ç•™å†`a`çš„æœ«å°¾ã€‚  

#### **ä»£ç :**

**æ–¹æ³•ä¸€ï¼š**æ¨¡æ‹Ÿåˆ é™¤çš„è¿‡ç¨‹ï¼ˆä¼šè¶…æ—¶ï¼‰

```python
class Solution:
    def minCost(self, s: str, cost: List[int]) -> int:
        a = list(s)
        
        def helper(a, cost):
            for i in range(len(a)-1):
                if a[i] == a[i+1]:  # è¦ä¹ˆåˆ i è¦ä¹ˆåˆ i+1
                    if cost[i] <= cost[i+1]:
                        a.pop(i)
                        ans = cost.pop(i)
                    else:
                        a.pop(i+1)
                        ans = cost.pop(i+1)
                        
                    return ans + helper(a, cost)
                
            return 0
        
        return helper(a, cost)
      
```

**æ–¹æ³•äºŒï¼š**

```python
class Solution:
    def minCost(self, s: str, cost: List[int]) -> int:
        a = list(s)
  
        temp = []
        costtemp = []
        ans = 0
        for i in range(len(a)):  # å‰iä¸ª
            if not temp or temp[-1] != a[i]:
                temp.append(a[i])
                costtemp.append(cost[i])
            else:
                if cost[i] <= costtemp[-1]:  # ä¸å…¥
                    ans += cost[i]
                else:
                    ans += costtemp[-1]
                    costtemp.pop()
                    costtemp.append(cost[i])
                
        return ans

```


